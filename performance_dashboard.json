{
  "annotations": {
    "list": [
      {
        "builtIn": 1,
        "datasource": {
          "type": "datasource",
          "uid": "grafana"
        },
        "enable": true,
        "hide": true,
        "iconColor": "rgba(0, 211, 255, 1)",
        "name": "Annotations & Alerts",
        "target": {
          "limit": 100,
          "matchAny": false,
          "tags": [],
          "type": "dashboard"
        },
        "type": "dashboard"
      }
    ]
  },
  "description": "Dashboard works with postgres_exporter for prometheus",
  "editable": true,
  "fiscalYearStartMonth": 0,
  "graphTooltip": 1,
  "id": 142,
  "links": [],
  "panels": [
    {
      "collapsed": true,
      "gridPos": {
        "h": 1,
        "w": 24,
        "x": 0,
        "y": 0
      },
      "id": 687,
      "panels": [
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${datasource}"
          },
          "description": "",
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              },
              "custom": {
                "axisBorderShow": false,
                "axisCenteredZero": false,
                "axisColorMode": "text",
                "axisLabel": "",
                "axisPlacement": "auto",
                "barAlignment": 0,
                "barWidthFactor": 0.6,
                "drawStyle": "line",
                "fillOpacity": 0,
                "gradientMode": "none",
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "viz": false
                },
                "insertNulls": false,
                "lineInterpolation": "linear",
                "lineWidth": 1,
                "pointSize": 5,
                "scaleDistribution": {
                  "type": "linear"
                },
                "showPoints": "auto",
                "spanNulls": false,
                "stacking": {
                  "group": "A",
                  "mode": "none"
                },
                "thresholdsStyle": {
                  "mode": "off"
                }
              },
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green",
                    "value": null
                  },
                  {
                    "color": "red",
                    "value": 80
                  }
                ]
              },
              "unit": "locale"
            },
            "overrides": []
          },
          "gridPos": {
            "h": 10,
            "w": 8,
            "x": 0,
            "y": 1
          },
          "id": 678,
          "interval": "1m",
          "options": {
            "legend": {
              "calcs": [
                "mean",
                "max"
              ],
              "displayMode": "table",
              "placement": "right",
              "showLegend": false,
              "sortBy": "Name",
              "sortDesc": false
            },
            "tooltip": {
              "hideZeros": false,
              "maxHeight": 600,
              "mode": "single",
              "sort": "none"
            }
          },
          "pluginVersion": "11.5.2",
          "targets": [
            {
              "datasource": {
                "type": "prometheus",
                "uid": "${datasource}"
              },
              "disableTextWrap": false,
              "editorMode": "code",
              "expr": "sum by(col) (increase(sql_pg_tables_v2{col=~\"n_tup_ins\", relname=~\"billsummary\"}[2m])) / 120",
              "fullMetaSearch": false,
              "hide": false,
              "includeNullMetadata": true,
              "instant": false,
              "legendFormat": "BillSummary inserts",
              "range": true,
              "refId": "A",
              "useBackend": false
            },
            {
              "datasource": {
                "type": "prometheus",
                "uid": "${datasource}"
              },
              "disableTextWrap": false,
              "editorMode": "code",
              "expr": "sum by(col, relname) (increase(sql_pg_tables_v2{col=~\"n_tup_ins|n_tup_del|n_tup_upd|n_tup_hot_upd\", relname=~\"billsummary|billdata|account|custhasproduct|accountratingsummary|cc_tbl_dat_inv_summary|accountrating|rejectevent|cc_tbl_dat_up_sortlog|cc_tbl_dat_up_filelog|cc_tbl_dat_transaction_change|cpdumanagerequest|jobhasfile|nrmjob|custproductcharge|physicalpayment|audittrail\"}[2m])) / 120",
              "fullMetaSearch": false,
              "hide": true,
              "includeNullMetadata": true,
              "instant": false,
              "legendFormat": "{{relname}} – {{col}}",
              "range": true,
              "refId": "B",
              "useBackend": false
            }
          ],
          "title": "Inserts into BillSummary per second",
          "type": "timeseries"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${datasource}"
          },
          "description": "",
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              },
              "custom": {
                "axisBorderShow": false,
                "axisCenteredZero": false,
                "axisColorMode": "text",
                "axisLabel": "",
                "axisPlacement": "auto",
                "barAlignment": 0,
                "barWidthFactor": 0.6,
                "drawStyle": "line",
                "fillOpacity": 0,
                "gradientMode": "none",
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "viz": false
                },
                "insertNulls": false,
                "lineInterpolation": "linear",
                "lineWidth": 1,
                "pointSize": 5,
                "scaleDistribution": {
                  "type": "linear"
                },
                "showPoints": "auto",
                "spanNulls": false,
                "stacking": {
                  "group": "A",
                  "mode": "none"
                },
                "thresholdsStyle": {
                  "mode": "off"
                }
              },
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green",
                    "value": null
                  },
                  {
                    "color": "red",
                    "value": 80
                  }
                ]
              },
              "unit": "locale"
            },
            "overrides": []
          },
          "gridPos": {
            "h": 10,
            "w": 8,
            "x": 8,
            "y": 1
          },
          "id": 677,
          "interval": "1m",
          "options": {
            "legend": {
              "calcs": [
                "mean",
                "max"
              ],
              "displayMode": "table",
              "placement": "right",
              "showLegend": false,
              "sortBy": "Name",
              "sortDesc": false
            },
            "tooltip": {
              "hideZeros": false,
              "maxHeight": 600,
              "mode": "single",
              "sort": "none"
            }
          },
          "pluginVersion": "11.5.2",
          "targets": [
            {
              "datasource": {
                "type": "prometheus",
                "uid": "${datasource}"
              },
              "disableTextWrap": false,
              "editorMode": "code",
              "expr": "sum by(col) (increase(sql_pg_tables_v2{col=~\"n_tup_ins\", relname=~\".*costedevent.*\"}[2m])) / 120",
              "fullMetaSearch": false,
              "hide": false,
              "includeNullMetadata": true,
              "instant": false,
              "legendFormat": "costedevents inserts",
              "range": true,
              "refId": "A",
              "useBackend": false
            },
            {
              "datasource": {
                "type": "prometheus",
                "uid": "${datasource}"
              },
              "disableTextWrap": false,
              "editorMode": "code",
              "expr": "sum by(col, relname) (increase(sql_pg_tables_v2{col=~\"n_tup_ins|n_tup_del|n_tup_upd|n_tup_hot_upd\", relname=~\"billsummary|billdata|account|custhasproduct|accountratingsummary|cc_tbl_dat_inv_summary|accountrating|rejectevent|cc_tbl_dat_up_sortlog|cc_tbl_dat_up_filelog|cc_tbl_dat_transaction_change|cpdumanagerequest|jobhasfile|nrmjob|custproductcharge|physicalpayment|audittrail\"}[2m])) / 120",
              "fullMetaSearch": false,
              "hide": true,
              "includeNullMetadata": true,
              "instant": false,
              "legendFormat": "{{relname}} – {{col}}",
              "range": true,
              "refId": "B",
              "useBackend": false
            }
          ],
          "title": "Inserts into CostedEvent per second",
          "type": "timeseries"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${datasource}"
          },
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              },
              "custom": {
                "axisBorderShow": false,
                "axisCenteredZero": false,
                "axisColorMode": "text",
                "axisLabel": "",
                "axisPlacement": "auto",
                "barAlignment": 0,
                "barWidthFactor": 0.6,
                "drawStyle": "line",
                "fillOpacity": 0,
                "gradientMode": "none",
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "viz": false
                },
                "insertNulls": false,
                "lineInterpolation": "linear",
                "lineWidth": 1,
                "pointSize": 5,
                "scaleDistribution": {
                  "type": "linear"
                },
                "showPoints": "always",
                "spanNulls": false,
                "stacking": {
                  "group": "A",
                  "mode": "none"
                },
                "thresholdsStyle": {
                  "mode": "off"
                }
              },
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green",
                    "value": null
                  },
                  {
                    "color": "red",
                    "value": 80
                  }
                ]
              },
              "unit": "locale"
            },
            "overrides": []
          },
          "gridPos": {
            "h": 10,
            "w": 8,
            "x": 16,
            "y": 1
          },
          "id": 682,
          "interval": "1m",
          "options": {
            "legend": {
              "calcs": [
                "sum"
              ],
              "displayMode": "table",
              "placement": "right",
              "showLegend": true,
              "sortBy": "Name",
              "sortDesc": false
            },
            "tooltip": {
              "hideZeros": false,
              "maxHeight": 600,
              "mode": "single",
              "sort": "none"
            }
          },
          "pluginVersion": "11.5.2",
          "targets": [
            {
              "datasource": {
                "type": "prometheus",
                "uid": "${datasource}"
              },
              "disableTextWrap": false,
              "editorMode": "builder",
              "expr": "sum by(col) (increase(sql_pg_tables_v2{col=~\"n_tup_upd\", relname=~\"billsummary\"}[2m])) / 2",
              "fullMetaSearch": false,
              "hide": false,
              "includeNullMetadata": true,
              "instant": false,
              "legendFormat": "__auto",
              "range": true,
              "refId": "A",
              "useBackend": false
            },
            {
              "datasource": {
                "type": "prometheus",
                "uid": "${datasource}"
              },
              "disableTextWrap": false,
              "editorMode": "code",
              "expr": "sum by(col, relname) (increase(sql_pg_tables_v2{col=~\"n_tup_ins|n_tup_del|n_tup_upd|n_tup_hot_upd\", relname=~\"billsummary|billdata|account|custhasproduct|accountratingsummary|cc_tbl_dat_inv_summary|accountrating|rejectevent|cc_tbl_dat_up_sortlog|cc_tbl_dat_up_filelog|cc_tbl_dat_transaction_change|cpdumanagerequest|jobhasfile|nrmjob|custproductcharge|physicalpayment|audittrail\"}[2m])) / 120",
              "fullMetaSearch": false,
              "hide": true,
              "includeNullMetadata": true,
              "instant": false,
              "legendFormat": "{{relname}} – {{col}}",
              "range": true,
              "refId": "B",
              "useBackend": false
            }
          ],
          "title": "Updates into BillSummary table PER MINUTE",
          "type": "timeseries"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${datasource}"
          },
          "description": "",
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              },
              "custom": {
                "axisBorderShow": false,
                "axisCenteredZero": false,
                "axisColorMode": "text",
                "axisLabel": "",
                "axisPlacement": "auto",
                "barAlignment": 0,
                "barWidthFactor": 0.6,
                "drawStyle": "line",
                "fillOpacity": 0,
                "gradientMode": "none",
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "viz": false
                },
                "insertNulls": false,
                "lineInterpolation": "linear",
                "lineWidth": 1,
                "pointSize": 5,
                "scaleDistribution": {
                  "type": "linear"
                },
                "showPoints": "auto",
                "spanNulls": false,
                "stacking": {
                  "group": "A",
                  "mode": "none"
                },
                "thresholdsStyle": {
                  "mode": "off"
                }
              },
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green",
                    "value": null
                  },
                  {
                    "color": "red",
                    "value": 80
                  }
                ]
              },
              "unit": "locale"
            },
            "overrides": []
          },
          "gridPos": {
            "h": 10,
            "w": 8,
            "x": 0,
            "y": 93714
          },
          "id": 686,
          "interval": "1m",
          "options": {
            "legend": {
              "calcs": [
                "mean",
                "max"
              ],
              "displayMode": "table",
              "placement": "right",
              "showLegend": false,
              "sortBy": "Name",
              "sortDesc": false
            },
            "tooltip": {
              "hideZeros": false,
              "maxHeight": 600,
              "mode": "single",
              "sort": "none"
            }
          },
          "pluginVersion": "11.5.2",
          "targets": [
            {
              "datasource": {
                "type": "prometheus",
                "uid": "${datasource}"
              },
              "disableTextWrap": false,
              "editorMode": "builder",
              "expr": "sum by(col) (increase(sql_pg_tables_v2{col=~\"n_tup_ins\", relname=~\"cc_tbl_dat_inv_summary\"}[2m])) / 120",
              "fullMetaSearch": false,
              "hide": false,
              "includeNullMetadata": true,
              "instant": false,
              "legendFormat": "cc_tbl_dat_inv_summary inserts",
              "range": true,
              "refId": "A",
              "useBackend": false
            },
            {
              "datasource": {
                "type": "prometheus",
                "uid": "${datasource}"
              },
              "disableTextWrap": false,
              "editorMode": "builder",
              "expr": "sum by(col) (increase(sql_pg_tables_v2{col=~\"n_tup_upd\", relname=~\"cc_tbl_dat_inv_summary\"}[2m])) / 120",
              "fullMetaSearch": false,
              "hide": false,
              "includeNullMetadata": true,
              "instant": false,
              "legendFormat": "cc_tbl_dat_inv_summary updates",
              "range": true,
              "refId": "B",
              "useBackend": false
            }
          ],
          "title": "Inserts and updates into cc_tbl_dat_inv_summary (MFM, other processes) per second",
          "type": "timeseries"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${datasource}"
          },
          "description": "",
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              },
              "custom": {
                "axisBorderShow": false,
                "axisCenteredZero": false,
                "axisColorMode": "text",
                "axisLabel": "",
                "axisPlacement": "auto",
                "barAlignment": 0,
                "barWidthFactor": 0.6,
                "drawStyle": "line",
                "fillOpacity": 0,
                "gradientMode": "none",
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "viz": false
                },
                "insertNulls": false,
                "lineInterpolation": "linear",
                "lineWidth": 1,
                "pointSize": 5,
                "scaleDistribution": {
                  "type": "linear"
                },
                "showPoints": "auto",
                "spanNulls": false,
                "stacking": {
                  "group": "A",
                  "mode": "none"
                },
                "thresholdsStyle": {
                  "mode": "off"
                }
              },
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green",
                    "value": null
                  },
                  {
                    "color": "red",
                    "value": 80
                  }
                ]
              },
              "unit": "locale"
            },
            "overrides": []
          },
          "gridPos": {
            "h": 10,
            "w": 8,
            "x": 8,
            "y": 93714
          },
          "id": 684,
          "interval": "1m",
          "options": {
            "legend": {
              "calcs": [],
              "displayMode": "list",
              "placement": "bottom",
              "showLegend": true,
              "sortBy": "Name",
              "sortDesc": false
            },
            "tooltip": {
              "hideZeros": false,
              "maxHeight": 600,
              "mode": "single",
              "sort": "none"
            }
          },
          "pluginVersion": "11.5.2",
          "targets": [
            {
              "datasource": {
                "type": "prometheus",
                "uid": "${datasource}"
              },
              "disableTextWrap": false,
              "editorMode": "builder",
              "expr": "sum by(col) (increase(sql_pg_tables_v2{col=~\"n_tup_upd\", relname=~\"formattingrequest\"}[2m])) / 120",
              "fullMetaSearch": false,
              "hide": false,
              "includeNullMetadata": true,
              "instant": false,
              "legendFormat": "FormattingRequest updates",
              "range": true,
              "refId": "A",
              "useBackend": false
            },
            {
              "datasource": {
                "type": "prometheus",
                "uid": "${datasource}"
              },
              "disableTextWrap": false,
              "editorMode": "builder",
              "expr": "sum by(col) (increase(sql_pg_tables_v2{col=~\"n_tup_ins\", relname=~\"formattingrequest\"}[2m])) / 120",
              "fullMetaSearch": false,
              "hide": false,
              "includeNullMetadata": true,
              "instant": false,
              "legendFormat": "FormattingRequest inserts",
              "range": true,
              "refId": "C",
              "useBackend": false
            }
          ],
          "title": "Inserts and updates into FormattingRequest table (BDW) per second",
          "type": "timeseries"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${datasource}"
          },
          "description": "",
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              },
              "custom": {
                "axisBorderShow": false,
                "axisCenteredZero": false,
                "axisColorMode": "text",
                "axisLabel": "",
                "axisPlacement": "auto",
                "barAlignment": 0,
                "barWidthFactor": 0.6,
                "drawStyle": "line",
                "fillOpacity": 0,
                "gradientMode": "none",
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "viz": false
                },
                "insertNulls": false,
                "lineInterpolation": "linear",
                "lineWidth": 1,
                "pointSize": 5,
                "scaleDistribution": {
                  "type": "linear"
                },
                "showPoints": "auto",
                "spanNulls": false,
                "stacking": {
                  "group": "A",
                  "mode": "none"
                },
                "thresholdsStyle": {
                  "mode": "off"
                }
              },
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green",
                    "value": null
                  },
                  {
                    "color": "red",
                    "value": 80
                  }
                ]
              },
              "unit": "locale"
            },
            "overrides": []
          },
          "gridPos": {
            "h": 10,
            "w": 8,
            "x": 16,
            "y": 93714
          },
          "id": 793,
          "interval": "1m",
          "options": {
            "legend": {
              "calcs": [
                "mean",
                "max",
                "sum"
              ],
              "displayMode": "table",
              "placement": "right",
              "showLegend": false,
              "sortBy": "Name",
              "sortDesc": false
            },
            "tooltip": {
              "hideZeros": false,
              "maxHeight": 600,
              "mode": "single",
              "sort": "none"
            }
          },
          "pluginVersion": "11.5.2",
          "targets": [
            {
              "datasource": {
                "type": "prometheus",
                "uid": "${datasource}"
              },
              "disableTextWrap": false,
              "editorMode": "code",
              "expr": "sum by(col) (increase(sql_pg_tables_v2{col=~\"n_tup_del\", relname=~\".*costedevent.*\"}[2m])) / 2",
              "fullMetaSearch": false,
              "hide": false,
              "includeNullMetadata": true,
              "instant": false,
              "legendFormat": "costedevents inserts",
              "range": true,
              "refId": "A",
              "useBackend": false
            },
            {
              "datasource": {
                "type": "prometheus",
                "uid": "${datasource}"
              },
              "disableTextWrap": false,
              "editorMode": "code",
              "expr": "sum by(col, relname) (increase(sql_pg_tables_v2{col=~\"n_tup_ins|n_tup_del|n_tup_upd|n_tup_hot_upd\", relname=~\"billsummary|billdata|account|custhasproduct|accountratingsummary|cc_tbl_dat_inv_summary|accountrating|rejectevent|cc_tbl_dat_up_sortlog|cc_tbl_dat_up_filelog|cc_tbl_dat_transaction_change|cpdumanagerequest|jobhasfile|nrmjob|custproductcharge|physicalpayment|audittrail\"}[2m])) / 120",
              "fullMetaSearch": false,
              "hide": true,
              "includeNullMetadata": true,
              "instant": false,
              "legendFormat": "{{relname}} – {{col}}",
              "range": true,
              "refId": "B",
              "useBackend": false
            }
          ],
          "title": "Deletes from costedevents PER MINUTE",
          "type": "timeseries"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${datasource}"
          },
          "description": "",
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              },
              "custom": {
                "axisBorderShow": false,
                "axisCenteredZero": false,
                "axisColorMode": "text",
                "axisLabel": "",
                "axisPlacement": "auto",
                "barAlignment": 0,
                "barWidthFactor": 0.6,
                "drawStyle": "line",
                "fillOpacity": 0,
                "gradientMode": "none",
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "viz": false
                },
                "insertNulls": false,
                "lineInterpolation": "linear",
                "lineWidth": 1,
                "pointSize": 5,
                "scaleDistribution": {
                  "type": "linear"
                },
                "showPoints": "auto",
                "spanNulls": false,
                "stacking": {
                  "group": "A",
                  "mode": "none"
                },
                "thresholdsStyle": {
                  "mode": "off"
                }
              },
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green",
                    "value": null
                  },
                  {
                    "color": "red",
                    "value": 80
                  }
                ]
              },
              "unit": "locale"
            },
            "overrides": []
          },
          "gridPos": {
            "h": 11,
            "w": 8,
            "x": 0,
            "y": 93724
          },
          "id": 723,
          "interval": "1m",
          "options": {
            "legend": {
              "calcs": [
                "mean",
                "max"
              ],
              "displayMode": "table",
              "placement": "right",
              "showLegend": false,
              "sortBy": "Name",
              "sortDesc": false
            },
            "tooltip": {
              "hideZeros": false,
              "maxHeight": 600,
              "mode": "single",
              "sort": "none"
            }
          },
          "pluginVersion": "11.5.2",
          "targets": [
            {
              "datasource": {
                "type": "prometheus",
                "uid": "${datasource}"
              },
              "disableTextWrap": false,
              "editorMode": "builder",
              "expr": "sum by(col) (increase(sql_pg_tables_v2{col=~\"n_tup_ins\", relname=~\"rejectevent\"}[2m])) / 120",
              "fullMetaSearch": false,
              "hide": false,
              "includeNullMetadata": true,
              "instant": false,
              "legendFormat": "Rejectedevent inserts",
              "range": true,
              "refId": "A",
              "useBackend": false
            },
            {
              "datasource": {
                "type": "prometheus",
                "uid": "${datasource}"
              },
              "disableTextWrap": false,
              "editorMode": "code",
              "expr": "sum by(col, relname) (increase(sql_pg_tables_v2{col=~\"n_tup_ins|n_tup_del|n_tup_upd|n_tup_hot_upd\", relname=~\"billsummary|billdata|account|custhasproduct|accountratingsummary|cc_tbl_dat_inv_summary|accountrating|rejectevent|cc_tbl_dat_up_sortlog|cc_tbl_dat_up_filelog|cc_tbl_dat_transaction_change|cpdumanagerequest|jobhasfile|nrmjob|custproductcharge|physicalpayment|audittrail\"}[2m])) / 120",
              "fullMetaSearch": false,
              "hide": true,
              "includeNullMetadata": true,
              "instant": false,
              "legendFormat": "{{relname}} – {{col}}",
              "range": true,
              "refId": "B",
              "useBackend": false
            }
          ],
          "title": "Inserts into rejectevent table per second",
          "type": "timeseries"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "PC3E95692D54ABCC0"
          },
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              },
              "custom": {
                "axisBorderShow": false,
                "axisCenteredZero": false,
                "axisColorMode": "text",
                "axisLabel": "",
                "axisPlacement": "auto",
                "barAlignment": 0,
                "barWidthFactor": 0.6,
                "drawStyle": "line",
                "fillOpacity": 0,
                "gradientMode": "none",
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "viz": false
                },
                "insertNulls": false,
                "lineInterpolation": "linear",
                "lineWidth": 1,
                "pointSize": 5,
                "scaleDistribution": {
                  "type": "linear"
                },
                "showPoints": "auto",
                "spanNulls": false,
                "stacking": {
                  "group": "A",
                  "mode": "none"
                },
                "thresholdsStyle": {
                  "mode": "off"
                }
              },
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green",
                    "value": null
                  },
                  {
                    "color": "red",
                    "value": 80
                  }
                ]
              }
            },
            "overrides": []
          },
          "gridPos": {
            "h": 11,
            "w": 8,
            "x": 8,
            "y": 93724
          },
          "id": 836,
          "interval": "1m",
          "options": {
            "legend": {
              "calcs": [],
              "displayMode": "list",
              "placement": "bottom",
              "showLegend": false
            },
            "tooltip": {
              "hideZeros": false,
              "mode": "single",
              "sort": "none"
            }
          },
          "pluginVersion": "11.5.2",
          "targets": [
            {
              "disableTextWrap": false,
              "editorMode": "builder",
              "expr": "sql_pg_cpdumr_v2",
              "fullMetaSearch": false,
              "includeNullMetadata": true,
              "legendFormat": "__auto",
              "range": true,
              "refId": "A",
              "useBackend": false
            }
          ],
          "title": "CPDUMR Pending Records",
          "type": "timeseries"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${datasource}"
          },
          "description": "",
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              },
              "custom": {
                "axisBorderShow": false,
                "axisCenteredZero": false,
                "axisColorMode": "text",
                "axisLabel": "",
                "axisPlacement": "auto",
                "barAlignment": 0,
                "barWidthFactor": 0.6,
                "drawStyle": "line",
                "fillOpacity": 0,
                "gradientMode": "none",
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "viz": false
                },
                "insertNulls": false,
                "lineInterpolation": "linear",
                "lineWidth": 1,
                "pointSize": 5,
                "scaleDistribution": {
                  "type": "linear"
                },
                "showPoints": "auto",
                "spanNulls": false,
                "stacking": {
                  "group": "A",
                  "mode": "none"
                },
                "thresholdsStyle": {
                  "mode": "off"
                }
              },
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green",
                    "value": null
                  },
                  {
                    "color": "red",
                    "value": 80
                  }
                ]
              },
              "unit": "locale"
            },
            "overrides": []
          },
          "gridPos": {
            "h": 11,
            "w": 8,
            "x": 16,
            "y": 93724
          },
          "id": 726,
          "interval": "1m",
          "options": {
            "legend": {
              "calcs": [
                "mean",
                "max"
              ],
              "displayMode": "table",
              "placement": "right",
              "showLegend": false,
              "sortBy": "Name",
              "sortDesc": false
            },
            "tooltip": {
              "hideZeros": false,
              "maxHeight": 600,
              "mode": "single",
              "sort": "none"
            }
          },
          "pluginVersion": "11.5.2",
          "targets": [
            {
              "datasource": {
                "type": "prometheus",
                "uid": "${datasource}"
              },
              "disableTextWrap": false,
              "editorMode": "builder",
              "expr": "sum by(col) (increase(sql_pg_tables_v2{col=~\"n_tup_ins\", relname=~\"cc_tbl_dat_check_duppromo\"}[2m])) / 120",
              "fullMetaSearch": false,
              "hide": false,
              "includeNullMetadata": true,
              "instant": false,
              "legendFormat": "cc_tbl_dat_check_duppromo inserts",
              "range": true,
              "refId": "A",
              "useBackend": false
            },
            {
              "datasource": {
                "type": "prometheus",
                "uid": "${datasource}"
              },
              "disableTextWrap": false,
              "editorMode": "code",
              "expr": "sum by(col, relname) (increase(sql_pg_tables_v2{col=~\"n_tup_ins|n_tup_del|n_tup_upd|n_tup_hot_upd\", relname=~\"billsummary|billdata|account|custhasproduct|accountratingsummary|cc_tbl_dat_inv_summary|accountrating|rejectevent|cc_tbl_dat_up_sortlog|cc_tbl_dat_up_filelog|cc_tbl_dat_transaction_change|cpdumanagerequest|jobhasfile|nrmjob|custproductcharge|physicalpayment|audittrail\"}[2m])) / 120",
              "fullMetaSearch": false,
              "hide": true,
              "includeNullMetadata": true,
              "instant": false,
              "legendFormat": "{{relname}} – {{col}}",
              "range": true,
              "refId": "B",
              "useBackend": false
            }
          ],
          "title": "Inserts into cc_tbl_dat_check_duppromo table per second",
          "type": "timeseries"
        }
      ],
      "title": "Application throughput",
      "type": "row"
    },
    {
      "collapsed": true,
      "gridPos": {
        "h": 1,
        "w": 24,
        "x": 0,
        "y": 1
      },
      "id": 738,
      "panels": [
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${datasource}"
          },
          "description": "",
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              },
              "custom": {
                "axisBorderShow": false,
                "axisCenteredZero": false,
                "axisColorMode": "text",
                "axisLabel": "",
                "axisPlacement": "auto",
                "barAlignment": 0,
                "barWidthFactor": 0.6,
                "drawStyle": "line",
                "fillOpacity": 0,
                "gradientMode": "none",
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "viz": false
                },
                "insertNulls": false,
                "lineInterpolation": "linear",
                "lineWidth": 1,
                "pointSize": 5,
                "scaleDistribution": {
                  "type": "linear"
                },
                "showPoints": "auto",
                "spanNulls": false,
                "stacking": {
                  "group": "A",
                  "mode": "none"
                },
                "thresholdsStyle": {
                  "mode": "off"
                }
              },
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green",
                    "value": null
                  },
                  {
                    "color": "red",
                    "value": 80
                  }
                ]
              },
              "unit": "locale"
            },
            "overrides": []
          },
          "gridPos": {
            "h": 11,
            "w": 24,
            "x": 0,
            "y": 2
          },
          "id": 739,
          "interval": "1m",
          "options": {
            "legend": {
              "calcs": [
                "mean",
                "max",
                "sum"
              ],
              "displayMode": "table",
              "placement": "right",
              "showLegend": true,
              "sortBy": "Name",
              "sortDesc": false
            },
            "tooltip": {
              "hideZeros": false,
              "maxHeight": 600,
              "mode": "single",
              "sort": "none"
            }
          },
          "pluginVersion": "11.5.2",
          "targets": [
            {
              "datasource": {
                "type": "prometheus",
                "uid": "${datasource}"
              },
              "disableTextWrap": false,
              "editorMode": "code",
              "expr": "sum by (short_uri) (\r\n  label_replace(\r\n    increase(http_server_requests_seconds_count{\r\n      container=\"ais-custom-crm-api\",\r\n      status=\"200\",\r\n      uri!~\"/|/metrics|.*health.*|.*swag.*|.*docs.*\",\r\n    }[1m]),\r\n    \"short_uri\", \"$1$2\", \"uri\", \"^(?:/api/ais-crm/v1\\\\.0/([^/?]+)|(.*))\"\r\n  )\r\n) > 0\r\n",
              "fullMetaSearch": false,
              "hide": false,
              "includeNullMetadata": true,
              "instant": false,
              "legendFormat": "__auto",
              "range": true,
              "refId": "A",
              "useBackend": false
            },
            {
              "datasource": {
                "type": "prometheus",
                "uid": "${datasource}"
              },
              "editorMode": "code",
              "expr": "max by (short_uri) (\r\n  label_replace(\r\n    http_server_requests_seconds{\r\n      container=\"ais-custom-crm-api\",\r\n      quantile=\"0.9\",\r\n      uri!~\"/|/metrics|.*health.*|.*swag.*|.*docs.*\",\r\n      uri=~\"$uri\",\r\n      outcome=\"SUCCESS\"\r\n    } > 0.999,\r\n    \"short_uri\", \"$1$2\", \"uri\", \"^(?:/api/ais-crm/v1\\\\.0/([^/?]+)|(.*))\"\r\n  )\r\n)\r\n",
              "hide": true,
              "instant": false,
              "legendFormat": "__auto",
              "range": true,
              "refId": "B"
            }
          ],
          "title": "API calls PER MINUTE",
          "type": "timeseries"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${datasource}"
          },
          "description": "",
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              },
              "custom": {
                "axisBorderShow": false,
                "axisCenteredZero": false,
                "axisColorMode": "text",
                "axisLabel": "",
                "axisPlacement": "auto",
                "barAlignment": 0,
                "barWidthFactor": 0.6,
                "drawStyle": "line",
                "fillOpacity": 0,
                "gradientMode": "none",
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "viz": false
                },
                "insertNulls": false,
                "lineInterpolation": "linear",
                "lineWidth": 1,
                "pointSize": 9,
                "scaleDistribution": {
                  "type": "linear"
                },
                "showPoints": "always",
                "spanNulls": false,
                "stacking": {
                  "group": "A",
                  "mode": "none"
                },
                "thresholdsStyle": {
                  "mode": "off"
                }
              },
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green",
                    "value": null
                  },
                  {
                    "color": "red",
                    "value": 80
                  }
                ]
              },
              "unit": "s"
            },
            "overrides": []
          },
          "gridPos": {
            "h": 12,
            "w": 24,
            "x": 0,
            "y": 20092
          },
          "id": 744,
          "interval": "1m",
          "options": {
            "legend": {
              "calcs": [
                "max",
                "sum",
                "mean"
              ],
              "displayMode": "table",
              "placement": "right",
              "showLegend": true,
              "sortBy": "Total",
              "sortDesc": true
            },
            "tooltip": {
              "hideZeros": false,
              "maxHeight": 600,
              "mode": "single",
              "sort": "none"
            }
          },
          "pluginVersion": "11.5.2",
          "targets": [
            {
              "datasource": {
                "type": "prometheus",
                "uid": "PBFA97CFB590B2093"
              },
              "disableTextWrap": false,
              "editorMode": "code",
              "expr": "avg by(short_uri) (label_replace(http_server_requests_seconds{container=\"ais-custom-crm-api\", quantile=\"0.9\", uri!~\"/|.*health.*|.*metric.*|.*swag.*\"}, \"short_uri\", \"$1$2\", \"uri\", \"^(?:/api/ais-crm/v1\\\\.0/([^/?]+)|(.*))\") > 0)",
              "fullMetaSearch": false,
              "hide": false,
              "includeNullMetadata": true,
              "instant": false,
              "legendFormat": "__auto",
              "range": true,
              "refId": "A",
              "useBackend": false
            }
          ],
          "title": "API latency 90%-percentile",
          "type": "timeseries"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${datasource}"
          },
          "description": "",
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "continuous-GrYlRd"
              },
              "custom": {
                "fillOpacity": 70,
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "viz": false
                },
                "lineWidth": 1
              },
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green",
                    "value": null
                  },
                  {
                    "color": "red",
                    "value": 80
                  }
                ]
              },
              "unit": "locale"
            },
            "overrides": []
          },
          "gridPos": {
            "h": 13,
            "w": 12,
            "x": 0,
            "y": 20104
          },
          "id": 740,
          "interval": "1m",
          "options": {
            "colWidth": 0.9,
            "legend": {
              "displayMode": "list",
              "placement": "bottom",
              "showLegend": true
            },
            "rowHeight": 0.9,
            "showValue": "auto",
            "tooltip": {
              "hideZeros": false,
              "mode": "single",
              "sort": "none"
            }
          },
          "pluginVersion": "11.5.2",
          "targets": [
            {
              "datasource": {
                "type": "prometheus",
                "uid": "${datasource}"
              },
              "disableTextWrap": false,
              "editorMode": "builder",
              "expr": "sum by(uri) (increase(http_server_requests_seconds_count{container=\"ais-custom-crm-api\", status=\"500\"}[1m])) > 0",
              "fullMetaSearch": false,
              "hide": false,
              "includeNullMetadata": true,
              "instant": false,
              "legendFormat": "__auto",
              "range": true,
              "refId": "A",
              "useBackend": false
            }
          ],
          "title": "Failed API calls – status 500",
          "type": "status-history"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${datasource}"
          },
          "description": "",
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              },
              "custom": {
                "axisBorderShow": false,
                "axisCenteredZero": false,
                "axisColorMode": "text",
                "axisLabel": "",
                "axisPlacement": "auto",
                "barAlignment": 0,
                "barWidthFactor": 0.6,
                "drawStyle": "line",
                "fillOpacity": 0,
                "gradientMode": "none",
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "viz": false
                },
                "insertNulls": false,
                "lineInterpolation": "linear",
                "lineWidth": 1,
                "pointSize": 5,
                "scaleDistribution": {
                  "type": "linear"
                },
                "showPoints": "auto",
                "spanNulls": false,
                "stacking": {
                  "group": "A",
                  "mode": "none"
                },
                "thresholdsStyle": {
                  "mode": "off"
                }
              },
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green",
                    "value": null
                  },
                  {
                    "color": "red",
                    "value": 80
                  }
                ]
              },
              "unit": "locale"
            },
            "overrides": []
          },
          "gridPos": {
            "h": 9,
            "w": 12,
            "x": 12,
            "y": 20104
          },
          "id": 754,
          "interval": "1m",
          "options": {
            "legend": {
              "calcs": [
                "mean",
                "max",
                "last"
              ],
              "displayMode": "table",
              "placement": "right",
              "showLegend": true,
              "sortBy": "Mean",
              "sortDesc": true
            },
            "tooltip": {
              "hideZeros": false,
              "maxHeight": 600,
              "mode": "single",
              "sort": "none"
            }
          },
          "pluginVersion": "11.5.2",
          "targets": [
            {
              "datasource": {
                "type": "prometheus",
                "uid": "${datasource}"
              },
              "disableTextWrap": false,
              "editorMode": "builder",
              "expr": "sum(increase(http_server_requests_seconds_count{container=\"ais-custom-crm-api\", status=\"200\"}[2m]) / 120)",
              "fullMetaSearch": false,
              "hide": false,
              "includeNullMetadata": true,
              "instant": false,
              "legendFormat": "SUCCESS",
              "range": true,
              "refId": "A",
              "useBackend": false
            },
            {
              "datasource": {
                "type": "prometheus",
                "uid": "${datasource}"
              },
              "disableTextWrap": false,
              "editorMode": "builder",
              "expr": "sum(increase(http_server_requests_seconds_count{container=\"ais-custom-crm-api\", status!=\"200\"}[2m])) / 120",
              "fullMetaSearch": false,
              "hide": false,
              "includeNullMetadata": true,
              "instant": false,
              "legendFormat": "FAIL",
              "range": true,
              "refId": "B",
              "useBackend": false
            }
          ],
          "title": "API SUCCESS vs FAIL calls per second",
          "type": "timeseries"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${datasource}"
          },
          "description": "",
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "thresholds"
              },
              "custom": {
                "fillOpacity": 70,
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "viz": false
                },
                "lineWidth": 1
              },
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green",
                    "value": null
                  },
                  {
                    "color": "red",
                    "value": 80
                  }
                ]
              },
              "unit": "locale"
            },
            "overrides": []
          },
          "gridPos": {
            "h": 4,
            "w": 12,
            "x": 12,
            "y": 20113
          },
          "id": 741,
          "interval": "1m",
          "options": {
            "colWidth": 0.9,
            "legend": {
              "displayMode": "list",
              "placement": "bottom",
              "showLegend": true
            },
            "rowHeight": 0.9,
            "showValue": "auto",
            "tooltip": {
              "hideZeros": false,
              "mode": "single",
              "sort": "none"
            }
          },
          "pluginVersion": "11.5.2",
          "targets": [
            {
              "datasource": {
                "type": "prometheus",
                "uid": "${datasource}"
              },
              "disableTextWrap": false,
              "editorMode": "code",
              "expr": "sum by(uri, status) (changes(http_server_requests_seconds_count{container=\"ais-custom-crm-api\", status!~\"500|200\", uri!~\".*health.*\"}[5m])) > 0",
              "fullMetaSearch": false,
              "hide": false,
              "includeNullMetadata": true,
              "instant": false,
              "legendFormat": "__auto",
              "range": true,
              "refId": "A",
              "useBackend": false
            }
          ],
          "title": "Failed API calls – status!~\"500|200\"",
          "type": "status-history"
        }
      ],
      "title": "API load",
      "type": "row"
    },
    {
      "collapsed": true,
      "gridPos": {
        "h": 1,
        "w": 24,
        "x": 0,
        "y": 2
      },
      "id": 704,
      "panels": [
        {
          "datasource": {
            "type": "prometheus",
            "uid": "PC3E95692D54ABCC0"
          },
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "continuous-GrYlRd"
              },
              "custom": {
                "align": "auto",
                "cellOptions": {
                  "type": "auto"
                },
                "filterable": true,
                "inspect": false
              },
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green",
                    "value": null
                  },
                  {
                    "color": "red",
                    "value": 80
                  }
                ]
              }
            },
            "overrides": [
              {
                "__systemRef": "hideSeriesFrom",
                "matcher": {
                  "id": "byNames",
                  "options": {
                    "mode": "exclude",
                    "names": [
                      "{col=\"created_work_items\", spec_definition=\"Alarm_BLG0190000_SMSAlarm_Adhoc\"}",
                      "{col=\"created_work_items\", spec_definition=\"BILL_BLI1350000_ProjChrgCallDtl_DAILY\"}",
                      "{col=\"created_work_items\", spec_definition=\"BILL_BLO0085103_SUP_USAGE_BC\"}",
                      "{col=\"created_work_items\", spec_definition=\"EXTIF_BLI1800000_GenBatchAutoRec_DAILY\"}",
                      "{col=\"created_work_items\", spec_definition=\"MONITOR_BLC0170000_ExternalAction_Auto\"}",
                      "{col=\"created_work_items\", spec_definition=\"PREBILL_BLC0110101_OTC_Retrival_BC\"}",
                      "{col=\"created_work_items\", spec_definition=\"PostRating_BLG0020200_RUFS_AUTO\"}",
                      "{col=\"created_work_items\", spec_definition=\"PostRating_BLG0020400_UUFS_NULL\"}",
                      "{col=\"created_work_items\", spec_definition=\"PostRating_BLU0330000_MMAS_Auto\"}",
                      "{col=\"created_work_items\", spec_definition=\"PreRate_BLU0110100_EFM_Auto\"}",
                      "{col=\"created_work_items\", spec_definition=\"PreRate_BLU0180100_CDR_SORT3_AUTO\"}",
                      "{col=\"created_work_items\", spec_definition=\"Prerate_BLU0160000_E1_MAPPING_N_AUTO\"}",
                      "{col=\"created_work_items\", spec_definition=\"Prerate_BLU0160000_E1_MAPPING_V_AUTO\"}",
                      "{col=\"created_work_items\", spec_definition=\"RATING_BLU0030100DiscardRejectEvent_Hour\"}",
                      "{col=\"created_work_items\", spec_definition=\"RATING_BLU0260800_GSMTOPUP_xMins\"}",
                      "{col=\"created_work_items\", spec_definition=\"RATING_LateUsageIdentifier_hourly\"}",
                      "{col=\"created_work_items\", spec_definition=\"RATING_LateUsageRemover_hourly\"}",
                      "{col=\"created_work_items\", spec_definition=\"Report Generation\"}",
                      "{col=\"finished_work_items\", spec_definition=\"Alarm_BLG0190000_SMSAlarm_Adhoc\"}",
                      "{col=\"finished_work_items\", spec_definition=\"BILL_BLI1350000_ProjChrgCallDtl_DAILY\"}",
                      "{col=\"finished_work_items\", spec_definition=\"BILL_BLO0085103_SUP_USAGE_BC\"}",
                      "{col=\"finished_work_items\", spec_definition=\"EXTIF_BLI1800000_GenBatchAutoRec_DAILY\"}",
                      "{col=\"finished_work_items\", spec_definition=\"MONITOR_BLC0170000_ExternalAction_Auto\"}",
                      "{col=\"finished_work_items\", spec_definition=\"PREBILL_BLC0110101_OTC_Retrival_BC\"}",
                      "{col=\"finished_work_items\", spec_definition=\"PostRating_BLG0020200_RUFS_AUTO\"}",
                      "{col=\"finished_work_items\", spec_definition=\"PostRating_BLG0020400_UUFS_NULL\"}",
                      "{col=\"finished_work_items\", spec_definition=\"PostRating_BLU0330000_MMAS_Auto\"}",
                      "{col=\"finished_work_items\", spec_definition=\"PreRate_BLU0110100_EFM_Auto\"}",
                      "{col=\"finished_work_items\", spec_definition=\"PreRate_BLU0180100_CDR_SORT3_AUTO\"}",
                      "{col=\"finished_work_items\", spec_definition=\"Prerate_BLU0160000_E1_MAPPING_N_AUTO\"}",
                      "{col=\"finished_work_items\", spec_definition=\"Prerate_BLU0160000_E1_MAPPING_V_AUTO\"}",
                      "{col=\"finished_work_items\", spec_definition=\"RATING_BLU0030100DiscardRejectEvent_Hour\"}",
                      "{col=\"finished_work_items\", spec_definition=\"RATING_BLU0260800_GSMTOPUP_xMins\"}",
                      "{col=\"finished_work_items\", spec_definition=\"RATING_LateUsageIdentifier_hourly\"}",
                      "{col=\"finished_work_items\", spec_definition=\"RATING_LateUsageRemover_hourly\"}",
                      "{col=\"finished_work_items\", spec_definition=\"Report Generation\"}",
                      "{col=\"started_work_items\", spec_definition=\"Alarm_BLG0190000_SMSAlarm_Adhoc\"}",
                      "{col=\"started_work_items\", spec_definition=\"BILL_BLI1350000_ProjChrgCallDtl_DAILY\"}",
                      "{col=\"started_work_items\", spec_definition=\"BILL_BLO0085103_SUP_USAGE_BC\"}",
                      "{col=\"started_work_items\", spec_definition=\"EXTIF_BLI1800000_GenBatchAutoRec_DAILY\"}",
                      "{col=\"started_work_items\", spec_definition=\"MONITOR_BLC0170000_ExternalAction_Auto\"}",
                      "{col=\"started_work_items\", spec_definition=\"PREBILL_BLC0110101_OTC_Retrival_BC\"}",
                      "{col=\"started_work_items\", spec_definition=\"PostRating_BLG0020200_RUFS_AUTO\"}",
                      "{col=\"started_work_items\", spec_definition=\"PostRating_BLG0020400_UUFS_NULL\"}",
                      "{col=\"started_work_items\", spec_definition=\"PostRating_BLU0330000_MMAS_Auto\"}",
                      "{col=\"started_work_items\", spec_definition=\"PreRate_BLU0110100_EFM_Auto\"}",
                      "{col=\"started_work_items\", spec_definition=\"PreRate_BLU0180100_CDR_SORT3_AUTO\"}",
                      "{col=\"started_work_items\", spec_definition=\"Prerate_BLU0160000_E1_MAPPING_N_AUTO\"}",
                      "{col=\"started_work_items\", spec_definition=\"Prerate_BLU0160000_E1_MAPPING_V_AUTO\"}",
                      "{col=\"started_work_items\", spec_definition=\"RATING_BLU0030100DiscardRejectEvent_Hour\"}",
                      "{col=\"started_work_items\", spec_definition=\"RATING_BLU0260800_GSMTOPUP_xMins\"}",
                      "{col=\"started_work_items\", spec_definition=\"RATING_LateUsageIdentifier_hourly\"}",
                      "{col=\"started_work_items\", spec_definition=\"RATING_LateUsageRemover_hourly\"}",
                      "{col=\"started_work_items\", spec_definition=\"Report Generation\"}"
                    ],
                    "prefix": "All except:",
                    "readOnly": true
                  }
                },
                "properties": []
              },
              {
                "matcher": {
                  "id": "byName",
                  "options": "spec_definition"
                },
                "properties": [
                  {
                    "id": "custom.width"
                  }
                ]
              }
            ]
          },
          "gridPos": {
            "h": 9,
            "w": 24,
            "x": 0,
            "y": 3
          },
          "id": 858,
          "interval": "1m",
          "options": {
            "cellHeight": "sm",
            "footer": {
              "countRows": false,
              "fields": "",
              "reducer": [
                "sum"
              ],
              "show": false
            },
            "showHeader": true,
            "sortBy": [
              {
                "desc": true,
                "displayName": "Finished"
              }
            ]
          },
          "pluginVersion": "11.5.2",
          "targets": [
            {
              "disableTextWrap": false,
              "editorMode": "builder",
              "expr": "sum by(spec_definition, spec_command, col) (increase(sql_pg_tasks_v2{col=~\"finished_work_items|cancel_related_work_items|failed_work_items\"}[$__range])) > 0",
              "format": "table",
              "fullMetaSearch": false,
              "includeNullMetadata": true,
              "legendFormat": "{{spec_definition}} {{spec_command}}",
              "range": true,
              "refId": "A",
              "useBackend": false
            },
            {
              "datasource": {
                "type": "prometheus",
                "uid": "PC3E95692D54ABCC0"
              },
              "disableTextWrap": false,
              "editorMode": "builder",
              "expr": "sum by(spec_definition, spec_command, col) (increase(sql_pg_tasks_v2{col=~\"failed_work_items\"}[$__range])) > 0",
              "format": "table",
              "fullMetaSearch": false,
              "hide": true,
              "includeNullMetadata": true,
              "legendFormat": "{{spec_definition}} {{spec_command}}",
              "range": true,
              "refId": "B",
              "useBackend": false
            },
            {
              "datasource": {
                "type": "prometheus",
                "uid": "PC3E95692D54ABCC0"
              },
              "disableTextWrap": false,
              "editorMode": "builder",
              "expr": "sum by(spec_definition, spec_command) (increase(sql_pg_tasks_v2{col=~\"cancel_related_work_items\"}[$__range])) > 0",
              "format": "table",
              "fullMetaSearch": false,
              "hide": true,
              "includeNullMetadata": true,
              "legendFormat": "{{spec_definition}} {{spec_command}}",
              "range": true,
              "refId": "C",
              "useBackend": false
            },
            {
              "datasource": {
                "type": "prometheus",
                "uid": "PC3E95692D54ABCC0"
              },
              "disableTextWrap": false,
              "editorMode": "builder",
              "expr": "sum by(spec_definition, spec_command) (increase(sql_pg_tasks_v2{col=~\"work_failed\"}[$__range])) > 0",
              "format": "table",
              "fullMetaSearch": false,
              "hide": true,
              "includeNullMetadata": true,
              "legendFormat": "{{spec_definition}} {{spec_command}}",
              "range": true,
              "refId": "D",
              "useBackend": false
            }
          ],
          "title": "Work items summary",
          "transformations": [
            {
              "id": "groupingToMatrix",
              "options": {
                "columnField": "col",
                "rowField": "spec_definition",
                "valueField": "Value"
              }
            },
            {
              "id": "organize",
              "options": {
                "excludeByName": {},
                "includeByName": {},
                "indexByName": {},
                "renameByName": {
                  "cancel_related_work_items": "Cancelled",
                  "failed_work_items": "Failed",
                  "finished_work_items": "Finished",
                  "spec_definition\\col": "Task"
                }
              }
            }
          ],
          "type": "table"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${datasource}"
          },
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "thresholds"
              },
              "custom": {
                "align": "auto",
                "cellOptions": {
                  "type": "auto"
                },
                "inspect": true
              },
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green",
                    "value": null
                  },
                  {
                    "color": "red",
                    "value": 80
                  }
                ]
              }
            },
            "overrides": [
              {
                "matcher": {
                  "id": "byName",
                  "options": "Work items in the running status"
                },
                "properties": [
                  {
                    "id": "custom.align",
                    "value": "center"
                  }
                ]
              },
              {
                "matcher": {
                  "id": "byName",
                  "options": "task_definition"
                },
                "properties": [
                  {
                    "id": "custom.width",
                    "value": 290
                  }
                ]
              }
            ]
          },
          "gridPos": {
            "h": 13,
            "w": 5,
            "x": 0,
            "y": 18644
          },
          "id": 702,
          "interval": "1m",
          "options": {
            "cellHeight": "sm",
            "footer": {
              "countRows": false,
              "enablePagination": true,
              "fields": "",
              "reducer": [
                "sum"
              ],
              "show": false
            },
            "showHeader": true,
            "sortBy": [
              {
                "desc": true,
                "displayName": "Work items in the running status"
              }
            ]
          },
          "pluginVersion": "11.5.2",
          "targets": [
            {
              "datasource": {
                "type": "prometheus",
                "uid": "${datasource}"
              },
              "disableTextWrap": false,
              "editorMode": "builder",
              "exemplar": false,
              "expr": "sum by(task_definition, ) (sql_pg_work_items_v2)",
              "format": "table",
              "fullMetaSearch": false,
              "includeNullMetadata": true,
              "instant": true,
              "legendFormat": "__auto",
              "range": false,
              "refId": "A",
              "useBackend": false
            }
          ],
          "title": "Work items running",
          "transformations": [
            {
              "id": "groupBy",
              "options": {
                "fields": {
                  "Value": {
                    "aggregations": [
                      "lastNotNull"
                    ],
                    "operation": "aggregate"
                  },
                  "task_definition": {
                    "aggregations": [],
                    "operation": "groupby"
                  }
                }
              }
            },
            {
              "id": "organize",
              "options": {
                "excludeByName": {},
                "includeByName": {},
                "indexByName": {},
                "renameByName": {
                  "Value (lastNotNull)": "Work items"
                }
              }
            }
          ],
          "type": "table"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${datasource}"
          },
          "description": "",
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "thresholds"
              },
              "custom": {
                "fillOpacity": 70,
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "viz": false
                },
                "lineWidth": 1
              },
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green",
                    "value": null
                  }
                ]
              },
              "unit": "locale"
            },
            "overrides": [
              {
                "matcher": {
                  "id": "byName",
                  "options": "Value"
                },
                "properties": []
              }
            ]
          },
          "gridPos": {
            "h": 13,
            "w": 10,
            "x": 5,
            "y": 18644
          },
          "id": 834,
          "interval": "1m",
          "options": {
            "colWidth": 0.9,
            "legend": {
              "displayMode": "list",
              "placement": "bottom",
              "showLegend": true
            },
            "rowHeight": 0.9,
            "showValue": "auto",
            "tooltip": {
              "hideZeros": false,
              "mode": "single",
              "sort": "none"
            }
          },
          "pluginVersion": "11.5.2",
          "targets": [
            {
              "datasource": {
                "type": "prometheus",
                "uid": "${datasource}"
              },
              "disableTextWrap": false,
              "editorMode": "builder",
              "expr": "sum by(spec_definition, spec_command) (increase(sql_pg_tasks_v2{col=\"failed_work_items\"}[1m])) > 0",
              "format": "time_series",
              "fullMetaSearch": false,
              "includeNullMetadata": true,
              "instant": false,
              "legendFormat": "{{spec_definition}} | {{spec_command}}",
              "range": true,
              "refId": "A",
              "useBackend": false
            }
          ],
          "title": "Tasks - failed work items",
          "transformations": [
            {
              "disabled": true,
              "id": "organize",
              "options": {
                "excludeByName": {
                  "Value": true
                },
                "includeByName": {},
                "indexByName": {},
                "renameByName": {}
              }
            }
          ],
          "type": "status-history"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${datasource}"
          },
          "description": "",
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              },
              "custom": {
                "fillOpacity": 70,
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "viz": false
                },
                "insertNulls": false,
                "lineWidth": 0,
                "spanNulls": false
              },
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green",
                    "value": null
                  }
                ]
              },
              "unit": "locale"
            },
            "overrides": []
          },
          "gridPos": {
            "h": 13,
            "w": 9,
            "x": 15,
            "y": 18644
          },
          "id": 693,
          "interval": "1m",
          "options": {
            "alignValue": "left",
            "legend": {
              "displayMode": "list",
              "placement": "bottom",
              "showLegend": false
            },
            "mergeValues": true,
            "rowHeight": 0.9,
            "showValue": "auto",
            "tooltip": {
              "hideZeros": false,
              "maxHeight": 600,
              "mode": "single",
              "sort": "none"
            }
          },
          "pluginVersion": "11.5.2",
          "targets": [
            {
              "datasource": {
                "type": "prometheus",
                "uid": "${datasource}"
              },
              "disableTextWrap": false,
              "editorMode": "builder",
              "expr": "sum by(spec_definition, spec_command) (rate(sql_pg_tasks_v2{col=\"cancel_related_work_items\"}[1m])) > 0 / 2",
              "fullMetaSearch": false,
              "includeNullMetadata": true,
              "instant": false,
              "legendFormat": "{{spec_definition}} | {{spec_command}}",
              "range": true,
              "refId": "A",
              "useBackend": false
            }
          ],
          "title": "Tasks - cancel related work items",
          "type": "state-timeline"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${datasource}"
          },
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "continuous-GrYlRd"
              },
              "custom": {
                "fillOpacity": 70,
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "viz": false
                },
                "lineWidth": 1
              },
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green",
                    "value": null
                  },
                  {
                    "color": "red",
                    "value": 80
                  }
                ]
              }
            },
            "overrides": []
          },
          "gridPos": {
            "h": 17,
            "w": 24,
            "x": 0,
            "y": 18720
          },
          "id": 715,
          "interval": "1m",
          "options": {
            "colWidth": 0.9,
            "legend": {
              "displayMode": "list",
              "placement": "bottom",
              "showLegend": true
            },
            "rowHeight": 0.9,
            "showValue": "auto",
            "tooltip": {
              "hideZeros": false,
              "mode": "single",
              "sort": "none"
            }
          },
          "pluginVersion": "11.5.2",
          "targets": [
            {
              "datasource": {
                "type": "prometheus",
                "uid": "${datasource}"
              },
              "disableTextWrap": false,
              "editorMode": "builder",
              "expr": "sum by(task_definition, ) (sql_pg_work_items_v2)",
              "fullMetaSearch": false,
              "includeNullMetadata": true,
              "legendFormat": "__auto",
              "range": true,
              "refId": "A",
              "useBackend": false
            }
          ],
          "title": "Work items running history",
          "type": "status-history"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "PC3E95692D54ABCC0"
          },
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              },
              "custom": {
                "axisBorderShow": false,
                "axisCenteredZero": false,
                "axisColorMode": "text",
                "axisLabel": "",
                "axisPlacement": "auto",
                "barAlignment": 0,
                "barWidthFactor": 0.6,
                "drawStyle": "line",
                "fillOpacity": 0,
                "gradientMode": "none",
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "viz": false
                },
                "insertNulls": false,
                "lineInterpolation": "linear",
                "lineWidth": 1,
                "pointSize": 5,
                "scaleDistribution": {
                  "type": "linear"
                },
                "showPoints": "auto",
                "spanNulls": true,
                "stacking": {
                  "group": "A",
                  "mode": "none"
                },
                "thresholdsStyle": {
                  "mode": "off"
                }
              },
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green",
                    "value": null
                  },
                  {
                    "color": "red",
                    "value": 80
                  }
                ]
              }
            },
            "overrides": []
          },
          "gridPos": {
            "h": 13,
            "w": 12,
            "x": 0,
            "y": 18737
          },
          "id": 794,
          "interval": "1m",
          "options": {
            "legend": {
              "calcs": [
                "lastNotNull"
              ],
              "displayMode": "table",
              "placement": "right",
              "showLegend": true,
              "sortBy": "Name",
              "sortDesc": true
            },
            "tooltip": {
              "hideZeros": false,
              "mode": "single",
              "sort": "none"
            }
          },
          "pluginVersion": "11.5.2",
          "targets": [
            {
              "disableTextWrap": false,
              "editorMode": "builder",
              "expr": "sum by(job_type, job_status) (sql_pg_jobs_status_v2{job_status!=\"4-completed\", job_type!=\"Unloaded Event Rating\"})",
              "fullMetaSearch": false,
              "includeNullMetadata": true,
              "legendFormat": "{{job_type}} - {{job_status}}",
              "range": true,
              "refId": "A",
              "useBackend": false
            }
          ],
          "title": "Number of jobs by status",
          "type": "timeseries"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "PC3E95692D54ABCC0"
          },
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              },
              "custom": {
                "axisBorderShow": false,
                "axisCenteredZero": false,
                "axisColorMode": "text",
                "axisLabel": "",
                "axisPlacement": "auto",
                "barAlignment": 0,
                "barWidthFactor": 0.6,
                "drawStyle": "line",
                "fillOpacity": 0,
                "gradientMode": "none",
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "viz": false
                },
                "insertNulls": false,
                "lineInterpolation": "linear",
                "lineStyle": {
                  "fill": "solid"
                },
                "lineWidth": 1,
                "pointSize": 5,
                "scaleDistribution": {
                  "type": "linear"
                },
                "showPoints": "auto",
                "spanNulls": false,
                "stacking": {
                  "group": "A",
                  "mode": "none"
                },
                "thresholdsStyle": {
                  "mode": "off"
                }
              },
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green",
                    "value": null
                  },
                  {
                    "color": "red",
                    "value": 80
                  }
                ]
              }
            },
            "overrides": []
          },
          "gridPos": {
            "h": 13,
            "w": 12,
            "x": 12,
            "y": 18737
          },
          "id": 777,
          "interval": "1m",
          "options": {
            "legend": {
              "calcs": [
                "mean",
                "max"
              ],
              "displayMode": "table",
              "placement": "bottom",
              "showLegend": true,
              "sortBy": "Mean",
              "sortDesc": true
            },
            "tooltip": {
              "hideZeros": false,
              "mode": "single",
              "sort": "none"
            }
          },
          "pluginVersion": "11.5.2",
          "targets": [
            {
              "disableTextWrap": false,
              "editorMode": "builder",
              "expr": "sum by(job_type, job_status) (increase(sql_pg_jobs_status_v2{job_status=\"4-completed\"}[2m])) / 2",
              "fullMetaSearch": false,
              "includeNullMetadata": true,
              "legendFormat": "{{job_type}} - {{job_status}}",
              "range": true,
              "refId": "A",
              "useBackend": false
            }
          ],
          "title": "Jobs processing PER MINUTE",
          "type": "timeseries"
        }
      ],
      "title": "NRM tasks and jobs",
      "type": "row"
    },
    {
      "collapsed": true,
      "gridPos": {
        "h": 1,
        "w": 24,
        "x": 0,
        "y": 3
      },
      "id": 713,
      "panels": [
        {
          "datasource": {
            "type": "prometheus",
            "uid": "$datasource"
          },
          "description": "Basic CPU info",
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              },
              "custom": {
                "axisBorderShow": false,
                "axisCenteredZero": false,
                "axisColorMode": "text",
                "axisLabel": "",
                "axisPlacement": "auto",
                "barAlignment": 0,
                "barWidthFactor": 0.6,
                "drawStyle": "line",
                "fillOpacity": 0,
                "gradientMode": "none",
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "viz": false
                },
                "insertNulls": false,
                "lineInterpolation": "linear",
                "lineWidth": 1,
                "pointSize": 5,
                "scaleDistribution": {
                  "type": "linear"
                },
                "showPoints": "auto",
                "spanNulls": false,
                "stacking": {
                  "group": "A",
                  "mode": "none"
                },
                "thresholdsStyle": {
                  "mode": "off"
                }
              },
              "mappings": [],
              "min": 0,
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green",
                    "value": null
                  },
                  {
                    "color": "red",
                    "value": 50
                  }
                ]
              },
              "unit": "percent"
            },
            "overrides": []
          },
          "gridPos": {
            "h": 10,
            "w": 4,
            "x": 0,
            "y": 4
          },
          "id": 771,
          "interval": "1m",
          "options": {
            "legend": {
              "calcs": [],
              "displayMode": "list",
              "placement": "bottom",
              "showLegend": true
            },
            "tooltip": {
              "hideZeros": false,
              "mode": "single",
              "sort": "none"
            }
          },
          "pluginVersion": "11.5.2",
          "targets": [
            {
              "datasource": {
                "uid": "$datasource"
              },
              "disableTextWrap": false,
              "editorMode": "code",
              "expr": "100 * (1 - avg by (node) (rate(node_cpu_seconds_total{mode=\"idle\", node=~\".*db.*\"}[1m])))",
              "format": "time_series",
              "fullMetaSearch": false,
              "hide": false,
              "includeNullMetadata": true,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "__auto",
              "range": true,
              "refId": "B",
              "step": 240,
              "useBackend": false
            }
          ],
          "title": "Primary and replica CPU Utilization",
          "type": "timeseries"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${datasource}"
          },
          "description": "",
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "thresholds"
              },
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green",
                    "value": null
                  },
                  {
                    "color": "red",
                    "value": 255
                  }
                ]
              },
              "unit": "locale"
            },
            "overrides": []
          },
          "gridPos": {
            "h": 5,
            "w": 4,
            "x": 4,
            "y": 4
          },
          "id": 584,
          "interval": "1m",
          "options": {
            "colorMode": "value",
            "graphMode": "area",
            "justifyMode": "auto",
            "orientation": "auto",
            "percentChangeColorMode": "standard",
            "reduceOptions": {
              "calcs": [
                "lastNotNull"
              ],
              "fields": "",
              "values": false
            },
            "showPercentChange": false,
            "textMode": "auto",
            "wideLayout": true
          },
          "pluginVersion": "11.5.2",
          "targets": [
            {
              "datasource": {
                "type": "prometheus",
                "uid": "${datasource}"
              },
              "disableTextWrap": false,
              "editorMode": "builder",
              "expr": "max(sql_pg_long_running_v2{col=~\"current_subtransactions\"})",
              "fullMetaSearch": false,
              "includeNullMetadata": true,
              "instant": false,
              "legendFormat": "{{user_name}} | {{pid_text}}",
              "range": true,
              "refId": "A",
              "useBackend": false
            }
          ],
          "title": "Highest number of subtransactions per user",
          "type": "stat"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${datasource}"
          },
          "description": "",
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "thresholds"
              },
              "mappings": [],
              "min": 0,
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green",
                    "value": null
                  },
                  {
                    "color": "red",
                    "value": 40000000
                  }
                ]
              },
              "unit": "locale"
            },
            "overrides": []
          },
          "gridPos": {
            "h": 5,
            "w": 4,
            "x": 8,
            "y": 4
          },
          "id": 601,
          "interval": "1m",
          "options": {
            "colorMode": "value",
            "graphMode": "area",
            "justifyMode": "auto",
            "orientation": "auto",
            "percentChangeColorMode": "standard",
            "reduceOptions": {
              "calcs": [
                "lastNotNull"
              ],
              "fields": "",
              "values": false
            },
            "showPercentChange": false,
            "textMode": "auto",
            "wideLayout": true
          },
          "pluginVersion": "11.5.2",
          "targets": [
            {
              "datasource": {
                "type": "prometheus",
                "uid": "${datasource}"
              },
              "disableTextWrap": false,
              "editorMode": "builder",
              "expr": "sum(sql_pg_tables_vacuum_v2{col=\"n_dead_tup\"}) > 2",
              "fullMetaSearch": false,
              "includeNullMetadata": true,
              "instant": false,
              "legendFormat": "__auto",
              "range": true,
              "refId": "A",
              "useBackend": false
            }
          ],
          "title": "Number of dead tuples",
          "type": "stat"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "PC3E95692D54ABCC0"
          },
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "thresholds"
              },
              "mappings": [],
              "min": 0,
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green",
                    "value": null
                  },
                  {
                    "color": "red",
                    "value": 2000000
                  }
                ]
              },
              "unit": "ms"
            },
            "overrides": []
          },
          "gridPos": {
            "h": 5,
            "w": 4,
            "x": 12,
            "y": 4
          },
          "id": 827,
          "interval": "1m",
          "options": {
            "colorMode": "value",
            "graphMode": "area",
            "justifyMode": "auto",
            "orientation": "auto",
            "percentChangeColorMode": "standard",
            "reduceOptions": {
              "calcs": [
                "lastNotNull"
              ],
              "fields": "",
              "values": false
            },
            "showPercentChange": false,
            "textMode": "auto",
            "wideLayout": true
          },
          "pluginVersion": "11.5.2",
          "targets": [
            {
              "disableTextWrap": false,
              "editorMode": "builder",
              "exemplar": false,
              "expr": "max(sum by(col) (sql_pg_transactions_v2{col=~\"query_duration_ms|xact_duration_ms\"}))",
              "fullMetaSearch": false,
              "includeNullMetadata": true,
              "instant": false,
              "legendFormat": "__auto",
              "range": true,
              "refId": "A",
              "useBackend": false
            }
          ],
          "title": "Sum of all query/transaction time. Watch for sharp growth",
          "type": "stat"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "PC3E95692D54ABCC0"
          },
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "thresholds"
              },
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green",
                    "value": null
                  },
                  {
                    "color": "red",
                    "value": 300
                  }
                ]
              },
              "unit": "dtdurations"
            },
            "overrides": []
          },
          "gridPos": {
            "h": 5,
            "w": 4,
            "x": 16,
            "y": 4
          },
          "id": 833,
          "interval": "1m",
          "options": {
            "colorMode": "value",
            "graphMode": "area",
            "justifyMode": "auto",
            "orientation": "horizontal",
            "percentChangeColorMode": "standard",
            "reduceOptions": {
              "calcs": [
                "lastNotNull"
              ],
              "fields": "",
              "values": false
            },
            "showPercentChange": false,
            "textMode": "auto",
            "wideLayout": true
          },
          "pluginVersion": "11.5.2",
          "targets": [
            {
              "datasource": {
                "type": "prometheus",
                "uid": "PC3E95692D54ABCC0"
              },
              "disableTextWrap": false,
              "editorMode": "code",
              "expr": "max by(server) (sql_pg_replication_v2{col=~\"flush_lag_seconds|replay_lag_seconds|write_lag_seconds\", server=~\"PROD|DR\"})",
              "fullMetaSearch": false,
              "hide": false,
              "includeNullMetadata": true,
              "legendFormat": "{{col}}",
              "range": true,
              "refId": "B",
              "useBackend": false
            }
          ],
          "title": "Replay replication lag",
          "type": "stat"
        },
        {
          "datasource": {
            "uid": "PC3E95692D54ABCC0"
          },
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "thresholds"
              },
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "red",
                    "value": null
                  },
                  {
                    "color": "green",
                    "value": 80
                  }
                ]
              }
            },
            "overrides": []
          },
          "gridPos": {
            "h": 5,
            "w": 4,
            "x": 20,
            "y": 4
          },
          "id": 801,
          "options": {
            "colorMode": "value",
            "graphMode": "area",
            "justifyMode": "auto",
            "orientation": "auto",
            "percentChangeColorMode": "standard",
            "reduceOptions": {
              "calcs": [
                "lastNotNull"
              ],
              "fields": "",
              "values": false
            },
            "showPercentChange": false,
            "textMode": "name",
            "wideLayout": true
          },
          "pluginVersion": "11.5.2",
          "targets": [
            {
              "editorMode": "code",
              "exemplar": false,
              "expr": "label_replace(sql_pg_cluster_v2{col=\"current_xid\"}, \"status\", \"OK\", \"__name__\", \".*\")\r\nor\r\nlabel_replace(absent(sql_pg_cluster_v2{col=\"current_xid\"}) * vector(0), \"status\", \"Monitoring is down\", \"__name__\", \".*\")\r\n",
              "instant": true,
              "legendFormat": "{{status}}",
              "range": false,
              "refId": "A"
            }
          ],
          "title": "Monitoring status",
          "transparent": true,
          "type": "stat"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${datasource}"
          },
          "description": "",
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "thresholds"
              },
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green",
                    "value": null
                  },
                  {
                    "color": "red",
                    "value": 255
                  }
                ]
              },
              "unit": "locale"
            },
            "overrides": []
          },
          "gridPos": {
            "h": 5,
            "w": 4,
            "x": 4,
            "y": 8782
          },
          "id": 712,
          "interval": "1m",
          "options": {
            "colorMode": "value",
            "graphMode": "area",
            "justifyMode": "auto",
            "orientation": "auto",
            "percentChangeColorMode": "standard",
            "reduceOptions": {
              "calcs": [
                "lastNotNull"
              ],
              "fields": "",
              "values": false
            },
            "showPercentChange": false,
            "textMode": "auto",
            "wideLayout": true
          },
          "pluginVersion": "11.5.2",
          "targets": [
            {
              "datasource": {
                "type": "prometheus",
                "uid": "${datasource}"
              },
              "disableTextWrap": false,
              "editorMode": "builder",
              "expr": "sum(sql_pg_long_running_v2{col=~\"current_subtransactions\"})",
              "fullMetaSearch": false,
              "includeNullMetadata": true,
              "instant": false,
              "legendFormat": "{{user_name}} | {{pid_text}}",
              "range": true,
              "refId": "A",
              "useBackend": false
            }
          ],
          "title": "Total number of subtransactions",
          "type": "stat"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${datasource}"
          },
          "description": "",
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "thresholds"
              },
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green",
                    "value": null
                  },
                  {
                    "color": "red",
                    "value": 0.5
                  }
                ]
              },
              "unit": "percentunit"
            },
            "overrides": []
          },
          "gridPos": {
            "h": 5,
            "w": 4,
            "x": 8,
            "y": 8782
          },
          "id": 707,
          "interval": "1m",
          "options": {
            "colorMode": "value",
            "graphMode": "area",
            "justifyMode": "auto",
            "orientation": "auto",
            "percentChangeColorMode": "standard",
            "reduceOptions": {
              "calcs": [
                "lastNotNull"
              ],
              "fields": "",
              "values": false
            },
            "showPercentChange": false,
            "textMode": "auto",
            "wideLayout": true
          },
          "pluginVersion": "11.5.2",
          "targets": [
            {
              "datasource": {
                "type": "prometheus",
                "uid": "${datasource}"
              },
              "disableTextWrap": false,
              "editorMode": "builder",
              "expr": "max(sql_pg_wraparound_threshold_v2{col=\"percent_to_freeze_max_age\"})",
              "fullMetaSearch": false,
              "includeNullMetadata": true,
              "instant": false,
              "legendFormat": "__auto",
              "range": true,
              "refId": "A",
              "useBackend": false
            }
          ],
          "title": "Approaching aggressive autovacuum threshold",
          "type": "stat"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${datasource}"
          },
          "description": "",
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "thresholds"
              },
              "mappings": [],
              "min": 0,
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green",
                    "value": null
                  },
                  {
                    "color": "red",
                    "value": 600000
                  }
                ]
              },
              "unit": "ms"
            },
            "overrides": []
          },
          "gridPos": {
            "h": 5,
            "w": 4,
            "x": 12,
            "y": 8782
          },
          "id": 823,
          "interval": "1m",
          "options": {
            "colorMode": "value",
            "graphMode": "area",
            "justifyMode": "auto",
            "orientation": "auto",
            "percentChangeColorMode": "standard",
            "reduceOptions": {
              "calcs": [
                "lastNotNull"
              ],
              "fields": "",
              "values": false
            },
            "showPercentChange": false,
            "textMode": "auto",
            "wideLayout": true
          },
          "pluginVersion": "11.5.2",
          "targets": [
            {
              "datasource": {
                "type": "prometheus",
                "uid": "${datasource}"
              },
              "disableTextWrap": false,
              "editorMode": "builder",
              "expr": "max(sql_pg_transactions_v2{col=~\"xact_duration_ms|query_duration_ms\"})",
              "fullMetaSearch": false,
              "includeNullMetadata": true,
              "instant": false,
              "legendFormat": "__auto",
              "range": true,
              "refId": "A",
              "useBackend": false
            }
          ],
          "title": "Age of the oldest transaction/query",
          "type": "stat"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "PC3E95692D54ABCC0"
          },
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "thresholds"
              },
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green",
                    "value": null
                  },
                  {
                    "color": "red",
                    "value": 1000
                  }
                ]
              }
            },
            "overrides": []
          },
          "gridPos": {
            "h": 5,
            "w": 4,
            "x": 16,
            "y": 8782
          },
          "id": 774,
          "interval": "1m",
          "options": {
            "colorMode": "value",
            "graphMode": "area",
            "justifyMode": "auto",
            "orientation": "auto",
            "percentChangeColorMode": "standard",
            "reduceOptions": {
              "calcs": [
                "last"
              ],
              "fields": "",
              "values": false
            },
            "showPercentChange": false,
            "textMode": "auto",
            "wideLayout": true
          },
          "pluginVersion": "11.5.2",
          "targets": [
            {
              "disableTextWrap": false,
              "editorMode": "code",
              "exemplar": false,
              "expr": "sql_pg_jobs_status_v2{job_status=\"2-waiting\", job_type=\"Event Rating\"} or vector(0)",
              "format": "time_series",
              "fullMetaSearch": false,
              "includeNullMetadata": true,
              "instant": true,
              "legendFormat": "__auto",
              "range": false,
              "refId": "A",
              "useBackend": false
            }
          ],
          "title": "Rating jobs waiting",
          "type": "stat"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${datasource}"
          },
          "description": "",
          "fieldConfig": {
            "defaults": {
              "color": {
                "fixedColor": "dark-yellow",
                "mode": "fixed"
              },
              "custom": {
                "axisBorderShow": false,
                "axisCenteredZero": false,
                "axisColorMode": "text",
                "axisLabel": "",
                "axisPlacement": "auto",
                "barAlignment": 0,
                "barWidthFactor": 0.6,
                "drawStyle": "line",
                "fillOpacity": 0,
                "gradientMode": "none",
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "viz": false
                },
                "insertNulls": false,
                "lineInterpolation": "linear",
                "lineWidth": 1,
                "pointSize": 9,
                "scaleDistribution": {
                  "type": "linear"
                },
                "showPoints": "always",
                "spanNulls": false,
                "stacking": {
                  "group": "A",
                  "mode": "none"
                },
                "thresholdsStyle": {
                  "mode": "off"
                }
              },
              "mappings": [],
              "min": 0,
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green",
                    "value": null
                  },
                  {
                    "color": "red",
                    "value": 80
                  }
                ]
              }
            },
            "overrides": [
              {
                "matcher": {
                  "id": "byName",
                  "options": "vector(30)"
                },
                "properties": [
                  {
                    "id": "custom.fillOpacity",
                    "value": 15
                  },
                  {
                    "id": "custom.pointSize",
                    "value": 1
                  },
                  {
                    "id": "custom.lineStyle",
                    "value": {
                      "dash": [
                        10,
                        10
                      ],
                      "fill": "dash"
                    }
                  },
                  {
                    "id": "color",
                    "value": {
                      "fixedColor": "light-green",
                      "mode": "fixed"
                    }
                  }
                ]
              }
            ]
          },
          "gridPos": {
            "h": 5,
            "w": 4,
            "x": 20,
            "y": 8782
          },
          "id": 837,
          "interval": "1m",
          "options": {
            "legend": {
              "calcs": [
                "mean",
                "max"
              ],
              "displayMode": "table",
              "placement": "right",
              "showLegend": false,
              "sortBy": "Max",
              "sortDesc": true
            },
            "tooltip": {
              "hideZeros": false,
              "maxHeight": 600,
              "mode": "single",
              "sort": "none"
            }
          },
          "pluginVersion": "11.5.2",
          "targets": [
            {
              "datasource": {
                "type": "prometheus",
                "uid": "PBFA97CFB590B2093"
              },
              "disableTextWrap": false,
              "editorMode": "builder",
              "expr": "sum(http_server_requests_seconds{container=\"ais-custom-crm-api\", quantile=\"0.5\"})",
              "fullMetaSearch": false,
              "hide": false,
              "includeNullMetadata": true,
              "instant": false,
              "legendFormat": "__auto",
              "range": true,
              "refId": "A",
              "useBackend": false
            },
            {
              "datasource": {
                "type": "prometheus",
                "uid": "${datasource}"
              },
              "editorMode": "code",
              "expr": "vector(30)",
              "hide": false,
              "instant": false,
              "legendFormat": "__auto",
              "range": true,
              "refId": "B"
            }
          ],
          "title": "API Health ",
          "type": "timeseries"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${datasource}"
          },
          "description": "",
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "thresholds"
              },
              "mappings": [],
              "min": 0,
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green",
                    "value": null
                  },
                  {
                    "color": "red",
                    "value": 5000000
                  }
                ]
              },
              "unit": "locale"
            },
            "overrides": []
          },
          "gridPos": {
            "h": 5,
            "w": 4,
            "x": 0,
            "y": 8787
          },
          "id": 690,
          "interval": "1m",
          "options": {
            "colorMode": "value",
            "graphMode": "area",
            "justifyMode": "auto",
            "orientation": "auto",
            "percentChangeColorMode": "standard",
            "reduceOptions": {
              "calcs": [
                "lastNotNull"
              ],
              "fields": "",
              "values": false
            },
            "showPercentChange": false,
            "textMode": "auto",
            "wideLayout": true
          },
          "pluginVersion": "11.5.2",
          "targets": [
            {
              "datasource": {
                "type": "prometheus",
                "uid": "${datasource}"
              },
              "disableTextWrap": false,
              "editorMode": "builder",
              "expr": "sum(sql_pg_cluster_v2{col=\"current_xid\"})",
              "fullMetaSearch": false,
              "hide": true,
              "includeNullMetadata": true,
              "instant": false,
              "legendFormat": "__auto",
              "range": true,
              "refId": "A",
              "useBackend": false
            },
            {
              "datasource": {
                "type": "prometheus",
                "uid": "${datasource}"
              },
              "disableTextWrap": false,
              "editorMode": "builder",
              "expr": "min(sql_pg_long_running_v2{col=~\"backend_xid\"} > 0)",
              "fullMetaSearch": false,
              "hide": true,
              "includeNullMetadata": true,
              "instant": false,
              "legendFormat": "Earliest backend XID",
              "range": true,
              "refId": "C",
              "useBackend": false
            },
            {
              "datasource": {
                "type": "prometheus",
                "uid": "${datasource}"
              },
              "disableTextWrap": false,
              "editorMode": "builder",
              "expr": "min(sql_pg_long_running_v2{col=~\"backend_xmin\"} > 0)",
              "fullMetaSearch": false,
              "hide": true,
              "includeNullMetadata": true,
              "instant": false,
              "legendFormat": "Earliest backend_min XID",
              "range": true,
              "refId": "D",
              "useBackend": false
            },
            {
              "datasource": {
                "name": "Expression",
                "type": "__expr__",
                "uid": "__expr__"
              },
              "expression": "$A-$C",
              "hide": false,
              "refId": "F",
              "type": "math"
            }
          ],
          "title": "Distance to the earliest transaction",
          "type": "stat"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${datasource}"
          },
          "description": "",
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "thresholds"
              },
              "mappings": [],
              "min": 0,
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green",
                    "value": null
                  },
                  {
                    "color": "red",
                    "value": 5000000
                  }
                ]
              },
              "unit": "locale"
            },
            "overrides": []
          },
          "gridPos": {
            "h": 5,
            "w": 4,
            "x": 4,
            "y": 8787
          },
          "id": 709,
          "interval": "1m",
          "options": {
            "colorMode": "value",
            "graphMode": "area",
            "justifyMode": "auto",
            "orientation": "auto",
            "percentChangeColorMode": "standard",
            "reduceOptions": {
              "calcs": [
                "lastNotNull"
              ],
              "fields": "",
              "values": false
            },
            "showPercentChange": false,
            "textMode": "auto",
            "wideLayout": true
          },
          "pluginVersion": "11.5.2",
          "targets": [
            {
              "datasource": {
                "type": "prometheus",
                "uid": "${datasource}"
              },
              "disableTextWrap": false,
              "editorMode": "builder",
              "expr": "sum(sql_pg_cluster_v2{col=\"current_xid\"})",
              "fullMetaSearch": false,
              "hide": true,
              "includeNullMetadata": true,
              "instant": false,
              "legendFormat": "__auto",
              "range": true,
              "refId": "A",
              "useBackend": false
            },
            {
              "datasource": {
                "type": "prometheus",
                "uid": "${datasource}"
              },
              "disableTextWrap": false,
              "editorMode": "builder",
              "expr": "min(sql_pg_long_running_v2{col=~\"backend_xid\"} > 0)",
              "fullMetaSearch": false,
              "hide": true,
              "includeNullMetadata": true,
              "instant": false,
              "legendFormat": "Earliest backend XID",
              "range": true,
              "refId": "C",
              "useBackend": false
            },
            {
              "datasource": {
                "type": "prometheus",
                "uid": "${datasource}"
              },
              "disableTextWrap": false,
              "editorMode": "builder",
              "expr": "min(sql_pg_long_running_v2{col=~\"backend_xmin\"} > 0)",
              "fullMetaSearch": false,
              "hide": true,
              "includeNullMetadata": true,
              "instant": false,
              "legendFormat": "Earliest backend_min XID",
              "range": true,
              "refId": "D",
              "useBackend": false
            },
            {
              "datasource": {
                "name": "Expression",
                "type": "__expr__",
                "uid": "__expr__"
              },
              "expression": "$A-$D",
              "hide": false,
              "refId": "F",
              "type": "math"
            }
          ],
          "title": "Distance to the earliest snapshot",
          "type": "stat"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${datasource}"
          },
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "thresholds"
              },
              "mappings": [],
              "min": 0,
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green",
                    "value": null
                  },
                  {
                    "color": "red",
                    "value": 3000
                  }
                ]
              }
            },
            "overrides": []
          },
          "gridPos": {
            "h": 5,
            "w": 4,
            "x": 8,
            "y": 8787
          },
          "id": 698,
          "options": {
            "colorMode": "value",
            "graphMode": "area",
            "justifyMode": "auto",
            "orientation": "auto",
            "percentChangeColorMode": "standard",
            "reduceOptions": {
              "calcs": [
                "lastNotNull"
              ],
              "fields": "",
              "values": false
            },
            "showPercentChange": false,
            "textMode": "auto",
            "wideLayout": true
          },
          "pluginVersion": "11.5.2",
          "targets": [
            {
              "datasource": {
                "type": "prometheus",
                "uid": "${datasource}"
              },
              "disableTextWrap": false,
              "editorMode": "builder",
              "expr": "sum(sql_pg_backends_v2)",
              "fullMetaSearch": false,
              "hide": false,
              "includeNullMetadata": true,
              "legendFormat": "__auto",
              "range": true,
              "refId": "A",
              "useBackend": false
            },
            {
              "datasource": {
                "type": "prometheus",
                "uid": "${datasource}"
              },
              "editorMode": "code",
              "expr": "sum(pg_stat_database_numbackends) ",
              "hide": true,
              "instant": false,
              "legendFormat": "__auto",
              "range": true,
              "refId": "B"
            }
          ],
          "title": "Number of backends",
          "type": "stat"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "PC3E95692D54ABCC0"
          },
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "thresholds"
              },
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green",
                    "value": null
                  },
                  {
                    "color": "red",
                    "value": 1
                  }
                ]
              }
            },
            "overrides": []
          },
          "gridPos": {
            "h": 5,
            "w": 4,
            "x": 12,
            "y": 8787
          },
          "id": 799,
          "interval": "1m",
          "options": {
            "colorMode": "value",
            "graphMode": "area",
            "justifyMode": "auto",
            "orientation": "auto",
            "percentChangeColorMode": "standard",
            "reduceOptions": {
              "calcs": [
                "lastNotNull"
              ],
              "fields": "",
              "values": false
            },
            "showPercentChange": false,
            "textMode": "auto",
            "wideLayout": true
          },
          "pluginVersion": "11.5.2",
          "targets": [
            {
              "datasource": {
                "type": "prometheus",
                "uid": "PC3E95692D54ABCC0"
              },
              "disableTextWrap": false,
              "editorMode": "code",
              "expr": "sum by() (sql_pg_x_locks_v2{granted=\"false\"}) or vector(0)",
              "fullMetaSearch": false,
              "hide": false,
              "includeNullMetadata": true,
              "instant": false,
              "legendFormat": "__auto",
              "range": true,
              "refId": "A",
              "useBackend": false
            }
          ],
          "title": "Not-granted locks",
          "type": "stat"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${datasource}"
          },
          "description": "",
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              },
              "custom": {
                "axisBorderShow": false,
                "axisCenteredZero": false,
                "axisColorMode": "text",
                "axisLabel": "",
                "axisPlacement": "auto",
                "barAlignment": 0,
                "barWidthFactor": 0.6,
                "drawStyle": "line",
                "fillOpacity": 0,
                "gradientMode": "none",
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "viz": false
                },
                "insertNulls": false,
                "lineInterpolation": "linear",
                "lineWidth": 1,
                "pointSize": 5,
                "scaleDistribution": {
                  "type": "linear"
                },
                "showPoints": "auto",
                "spanNulls": false,
                "stacking": {
                  "group": "A",
                  "mode": "none"
                },
                "thresholdsStyle": {
                  "mode": "off"
                }
              },
              "decimals": 0,
              "mappings": [],
              "min": 0,
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green",
                    "value": null
                  },
                  {
                    "color": "red",
                    "value": 80
                  }
                ]
              },
              "unit": "locale"
            },
            "overrides": []
          },
          "gridPos": {
            "h": 5,
            "w": 4,
            "x": 16,
            "y": 8787
          },
          "id": 835,
          "interval": "1m",
          "options": {
            "legend": {
              "calcs": [],
              "displayMode": "list",
              "placement": "bottom",
              "showLegend": false
            },
            "tooltip": {
              "hideZeros": false,
              "mode": "single",
              "sort": "none"
            }
          },
          "pluginVersion": "11.5.2",
          "targets": [
            {
              "datasource": {
                "type": "prometheus",
                "uid": "${datasource}"
              },
              "disableTextWrap": false,
              "editorMode": "code",
              "expr": "sum by(col) (increase(sql_pg_tables_v2{col=~\"n_tup_ins\", relname=~\".*costedevent.*\"}[2m])) / 120",
              "fullMetaSearch": false,
              "hide": false,
              "includeNullMetadata": true,
              "instant": false,
              "legendFormat": "costedevents inserts",
              "range": true,
              "refId": "A",
              "useBackend": false
            },
            {
              "datasource": {
                "type": "prometheus",
                "uid": "${datasource}"
              },
              "disableTextWrap": false,
              "editorMode": "code",
              "expr": "sum by(col, relname) (increase(sql_pg_tables_v2{col=~\"n_tup_ins|n_tup_del|n_tup_upd|n_tup_hot_upd\", relname=~\"billsummary|billdata|account|custhasproduct|accountratingsummary|cc_tbl_dat_inv_summary|accountrating|rejectevent|cc_tbl_dat_up_sortlog|cc_tbl_dat_up_filelog|cc_tbl_dat_transaction_change|cpdumanagerequest|jobhasfile|nrmjob|custproductcharge|physicalpayment|audittrail\"}[2m])) / 120",
              "fullMetaSearch": false,
              "hide": true,
              "includeNullMetadata": true,
              "instant": false,
              "legendFormat": "{{relname}} – {{col}}",
              "range": true,
              "refId": "B",
              "useBackend": false
            }
          ],
          "title": "Inserts into CostedEvent per second",
          "type": "timeseries"
        }
      ],
      "title": "Current DB state",
      "type": "row"
    },
    {
      "collapsed": true,
      "gridPos": {
        "h": 1,
        "w": 24,
        "x": 0,
        "y": 4
      },
      "id": 666,
      "panels": [
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${datasource}"
          },
          "description": "",
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              },
              "custom": {
                "axisBorderShow": false,
                "axisCenteredZero": false,
                "axisColorMode": "text",
                "axisLabel": "",
                "axisPlacement": "auto",
                "barAlignment": 0,
                "barWidthFactor": 0.6,
                "drawStyle": "line",
                "fillOpacity": 56,
                "gradientMode": "none",
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "viz": false
                },
                "insertNulls": false,
                "lineInterpolation": "linear",
                "lineWidth": 1,
                "pointSize": 5,
                "scaleDistribution": {
                  "type": "linear"
                },
                "showPoints": "auto",
                "spanNulls": false,
                "stacking": {
                  "group": "A",
                  "mode": "normal"
                },
                "thresholdsStyle": {
                  "mode": "off"
                }
              },
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green",
                    "value": null
                  },
                  {
                    "color": "red",
                    "value": 80
                  }
                ]
              }
            },
            "overrides": [
              {
                "matcher": {
                  "id": "byName",
                  "options": "lrtkb-ais-custom-crm-api-tls-aisprod-d0893bf2-ais-rb"
                },
                "properties": [
                  {
                    "id": "color",
                    "value": {
                      "fixedColor": "dark-red",
                      "mode": "fixed"
                    }
                  }
                ]
              }
            ]
          },
          "gridPos": {
            "h": 18,
            "w": 24,
            "x": 0,
            "y": 8870
          },
          "id": 564,
          "interval": "1m",
          "options": {
            "legend": {
              "calcs": [
                "lastNotNull",
                "max"
              ],
              "displayMode": "table",
              "placement": "right",
              "showLegend": true,
              "sortBy": "Max",
              "sortDesc": true
            },
            "tooltip": {
              "hideZeros": false,
              "maxHeight": 600,
              "mode": "single",
              "sort": "none"
            }
          },
          "pluginVersion": "11.5.2",
          "targets": [
            {
              "datasource": {
                "type": "prometheus",
                "uid": "${datasource}"
              },
              "disableTextWrap": false,
              "editorMode": "builder",
              "expr": "sum by(user_name) (sql_pg_sessions_v2) > 0",
              "fullMetaSearch": false,
              "includeNullMetadata": true,
              "instant": false,
              "legendFormat": "__auto",
              "range": true,
              "refId": "A",
              "useBackend": false
            }
          ],
          "title": "Database connections per user stacked",
          "type": "timeseries"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${datasource}"
          },
          "description": "",
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              },
              "custom": {
                "axisBorderShow": false,
                "axisCenteredZero": false,
                "axisColorMode": "text",
                "axisLabel": "",
                "axisPlacement": "auto",
                "barAlignment": 0,
                "barWidthFactor": 0.6,
                "drawStyle": "line",
                "fillOpacity": 0,
                "gradientMode": "none",
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "viz": false
                },
                "insertNulls": false,
                "lineInterpolation": "linear",
                "lineWidth": 1,
                "pointSize": 5,
                "scaleDistribution": {
                  "log": 10,
                  "type": "symlog"
                },
                "showPoints": "auto",
                "spanNulls": false,
                "stacking": {
                  "group": "A",
                  "mode": "none"
                },
                "thresholdsStyle": {
                  "mode": "off"
                }
              },
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green",
                    "value": null
                  },
                  {
                    "color": "red",
                    "value": 80
                  }
                ]
              },
              "unit": "locale"
            },
            "overrides": [
              {
                "matcher": {
                  "id": "byName",
                  "options": "dbaas_2e608c115fde41229786849b1b211fc9"
                },
                "properties": [
                  {
                    "id": "color",
                    "value": {
                      "fixedColor": "dark-red",
                      "mode": "fixed"
                    }
                  }
                ]
              }
            ]
          },
          "gridPos": {
            "h": 17,
            "w": 24,
            "x": 0,
            "y": 13096
          },
          "id": 563,
          "interval": "1m",
          "options": {
            "legend": {
              "calcs": [
                "mean",
                "max"
              ],
              "displayMode": "table",
              "placement": "right",
              "showLegend": true,
              "sortBy": "Max",
              "sortDesc": true
            },
            "tooltip": {
              "hideZeros": false,
              "maxHeight": 600,
              "mode": "single",
              "sort": "none"
            }
          },
          "pluginVersion": "11.5.2",
          "targets": [
            {
              "datasource": {
                "type": "prometheus",
                "uid": "${datasource}"
              },
              "disableTextWrap": false,
              "editorMode": "code",
              "expr": "sum by(user_name) (increase(sql_pg_queries_v2{col=\"calls\"}[1m])) / 60",
              "fullMetaSearch": false,
              "includeNullMetadata": true,
              "instant": false,
              "legendFormat": "__auto",
              "range": true,
              "refId": "A",
              "useBackend": false
            }
          ],
          "title": "Number of calls by user per second",
          "type": "timeseries"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${datasource}"
          },
          "description": "",
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              },
              "custom": {
                "axisBorderShow": false,
                "axisCenteredZero": false,
                "axisColorMode": "text",
                "axisLabel": "",
                "axisPlacement": "auto",
                "barAlignment": 0,
                "barWidthFactor": 0.6,
                "drawStyle": "line",
                "fillOpacity": 68,
                "gradientMode": "none",
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "viz": false
                },
                "insertNulls": false,
                "lineInterpolation": "linear",
                "lineWidth": 1,
                "pointSize": 5,
                "scaleDistribution": {
                  "type": "linear"
                },
                "showPoints": "auto",
                "spanNulls": false,
                "stacking": {
                  "group": "A",
                  "mode": "normal"
                },
                "thresholdsStyle": {
                  "mode": "off"
                }
              },
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green",
                    "value": null
                  },
                  {
                    "color": "red",
                    "value": 80
                  }
                ]
              },
              "unit": "locale"
            },
            "overrides": [
              {
                "__systemRef": "hideSeriesFrom",
                "matcher": {
                  "id": "byNames",
                  "options": {
                    "mode": "exclude",
                    "names": [
                      "3e-kh-ais-custom-crm-api-tls-aisprod-e8b4b753-ais-rb"
                    ],
                    "prefix": "All except:",
                    "readOnly": true
                  }
                },
                "properties": [
                  {
                    "id": "custom.hideFrom",
                    "value": {
                      "legend": false,
                      "tooltip": false,
                      "viz": true
                    }
                  }
                ]
              }
            ]
          },
          "gridPos": {
            "h": 14,
            "w": 24,
            "x": 0,
            "y": 13113
          },
          "id": 663,
          "interval": "1m",
          "options": {
            "legend": {
              "calcs": [
                "mean",
                "max"
              ],
              "displayMode": "table",
              "placement": "right",
              "showLegend": true,
              "sortBy": "Max",
              "sortDesc": true
            },
            "tooltip": {
              "hideZeros": false,
              "maxHeight": 600,
              "mode": "single",
              "sort": "none"
            }
          },
          "pluginVersion": "11.5.2",
          "targets": [
            {
              "datasource": {
                "type": "prometheus",
                "uid": "${datasource}"
              },
              "disableTextWrap": false,
              "editorMode": "builder",
              "expr": "sum by(user_name) (increase(sql_pg_queries_v2{col=\"total_time_ms\"}[2m])) / 120",
              "fullMetaSearch": false,
              "includeNullMetadata": true,
              "instant": false,
              "legendFormat": "__auto",
              "range": true,
              "refId": "A",
              "useBackend": false
            }
          ],
          "title": "Total SQL time per user, milliseconds per second",
          "type": "timeseries"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${datasource}"
          },
          "description": "",
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              },
              "custom": {
                "axisBorderShow": false,
                "axisCenteredZero": false,
                "axisColorMode": "text",
                "axisLabel": "",
                "axisPlacement": "auto",
                "barAlignment": 0,
                "barWidthFactor": 0.6,
                "drawStyle": "line",
                "fillOpacity": 68,
                "gradientMode": "none",
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "viz": false
                },
                "insertNulls": false,
                "lineInterpolation": "linear",
                "lineWidth": 1,
                "pointSize": 5,
                "scaleDistribution": {
                  "type": "linear"
                },
                "showPoints": "auto",
                "spanNulls": false,
                "stacking": {
                  "group": "A",
                  "mode": "normal"
                },
                "thresholdsStyle": {
                  "mode": "off"
                }
              },
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green",
                    "value": null
                  },
                  {
                    "color": "red",
                    "value": 80
                  }
                ]
              },
              "unit": "locale"
            },
            "overrides": []
          },
          "gridPos": {
            "h": 14,
            "w": 24,
            "x": 0,
            "y": 13127
          },
          "id": 665,
          "interval": "1m",
          "options": {
            "legend": {
              "calcs": [
                "mean",
                "max"
              ],
              "displayMode": "table",
              "placement": "right",
              "showLegend": true,
              "sortBy": "Max",
              "sortDesc": true
            },
            "tooltip": {
              "hideZeros": false,
              "maxHeight": 600,
              "mode": "single",
              "sort": "none"
            }
          },
          "pluginVersion": "11.5.2",
          "targets": [
            {
              "datasource": {
                "type": "prometheus",
                "uid": "${datasource}"
              },
              "disableTextWrap": false,
              "editorMode": "builder",
              "expr": "sum by(user_name) (increase(sql_pg_queries_v2{col=\"total_cpu_time_ms\"}[2m])) / 120",
              "fullMetaSearch": false,
              "includeNullMetadata": true,
              "instant": false,
              "legendFormat": "__auto",
              "range": true,
              "refId": "A",
              "useBackend": false
            }
          ],
          "title": "CPU time per user, milliseconds per second",
          "type": "timeseries"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${datasource}"
          },
          "description": "",
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              },
              "custom": {
                "axisBorderShow": false,
                "axisCenteredZero": false,
                "axisColorMode": "text",
                "axisLabel": "",
                "axisPlacement": "auto",
                "barAlignment": 0,
                "barWidthFactor": 0.6,
                "drawStyle": "line",
                "fillOpacity": 68,
                "gradientMode": "none",
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "viz": false
                },
                "insertNulls": false,
                "lineInterpolation": "linear",
                "lineWidth": 1,
                "pointSize": 5,
                "scaleDistribution": {
                  "type": "linear"
                },
                "showPoints": "auto",
                "spanNulls": false,
                "stacking": {
                  "group": "A",
                  "mode": "normal"
                },
                "thresholdsStyle": {
                  "mode": "off"
                }
              },
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green",
                    "value": null
                  },
                  {
                    "color": "red",
                    "value": 80
                  }
                ]
              },
              "unit": "locale"
            },
            "overrides": []
          },
          "gridPos": {
            "h": 14,
            "w": 24,
            "x": 0,
            "y": 13141
          },
          "id": 664,
          "interval": "1m",
          "options": {
            "legend": {
              "calcs": [
                "mean",
                "max"
              ],
              "displayMode": "table",
              "placement": "right",
              "showLegend": true,
              "sortBy": "Max",
              "sortDesc": true
            },
            "tooltip": {
              "hideZeros": false,
              "maxHeight": 600,
              "mode": "single",
              "sort": "none"
            }
          },
          "pluginVersion": "11.5.2",
          "targets": [
            {
              "datasource": {
                "type": "prometheus",
                "uid": "${datasource}"
              },
              "disableTextWrap": false,
              "editorMode": "builder",
              "expr": "sum by(user_name) (increase(sql_pg_queries_v2{col=~\"total_blk_read_time_ms|total_blk_write_time_ms\"}[2m])) / 120",
              "fullMetaSearch": false,
              "includeNullMetadata": true,
              "instant": false,
              "legendFormat": "__auto",
              "range": true,
              "refId": "A",
              "useBackend": false
            }
          ],
          "title": "IO time per user, milliseconds per second",
          "type": "timeseries"
        }
      ],
      "title": "DB users comparison",
      "type": "row"
    },
    {
      "collapsed": true,
      "gridPos": {
        "h": 1,
        "w": 24,
        "x": 0,
        "y": 5
      },
      "id": 562,
      "panels": [
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${datasource}"
          },
          "description": "",
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              },
              "custom": {
                "axisBorderShow": false,
                "axisCenteredZero": false,
                "axisColorMode": "text",
                "axisLabel": "",
                "axisPlacement": "auto",
                "barAlignment": 0,
                "barWidthFactor": 0.6,
                "drawStyle": "line",
                "fillOpacity": 0,
                "gradientMode": "none",
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "viz": false
                },
                "insertNulls": false,
                "lineInterpolation": "linear",
                "lineWidth": 1,
                "pointSize": 5,
                "scaleDistribution": {
                  "type": "linear"
                },
                "showPoints": "auto",
                "spanNulls": false,
                "stacking": {
                  "group": "A",
                  "mode": "none"
                },
                "thresholdsStyle": {
                  "mode": "off"
                }
              },
              "decimals": 0,
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green",
                    "value": null
                  },
                  {
                    "color": "red",
                    "value": 80
                  }
                ]
              },
              "unit": "locale"
            },
            "overrides": []
          },
          "gridPos": {
            "h": 13,
            "w": 24,
            "x": 0,
            "y": 6
          },
          "id": 656,
          "interval": "1m",
          "options": {
            "legend": {
              "calcs": [
                "mean",
                "max"
              ],
              "displayMode": "table",
              "placement": "right",
              "showLegend": true,
              "sortBy": "Mean",
              "sortDesc": true
            },
            "tooltip": {
              "hideZeros": false,
              "maxHeight": 600,
              "mode": "single",
              "sort": "none"
            }
          },
          "pluginVersion": "11.5.2",
          "targets": [
            {
              "datasource": {
                "type": "prometheus",
                "uid": "${datasource}"
              },
              "disableTextWrap": false,
              "editorMode": "code",
              "expr": "sum by(query) (increase(sql_pg_queries_v2{col=\"calls\", query=~\"$query_include_regex\", user_name=~\"$user_include_regex\", query!~\"$query_exclude_regex\", user_name!~\"$user_exclude_regex\"}[1m])) / 60 > 0",
              "fullMetaSearch": false,
              "includeNullMetadata": true,
              "instant": false,
              "legendFormat": "__auto",
              "range": true,
              "refId": "A",
              "useBackend": false
            }
          ],
          "title": "Number of calls by query per second",
          "type": "timeseries"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${datasource}"
          },
          "description": "",
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              },
              "custom": {
                "axisBorderShow": false,
                "axisCenteredZero": false,
                "axisColorMode": "text",
                "axisLabel": "",
                "axisPlacement": "auto",
                "barAlignment": 0,
                "barWidthFactor": 0.6,
                "drawStyle": "line",
                "fillOpacity": 68,
                "gradientMode": "none",
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "viz": false
                },
                "insertNulls": false,
                "lineInterpolation": "linear",
                "lineWidth": 0,
                "pointSize": 5,
                "scaleDistribution": {
                  "type": "linear"
                },
                "showPoints": "never",
                "spanNulls": false,
                "stacking": {
                  "group": "A",
                  "mode": "normal"
                },
                "thresholdsStyle": {
                  "mode": "off"
                }
              },
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green",
                    "value": null
                  },
                  {
                    "color": "red",
                    "value": 80
                  }
                ]
              },
              "unit": "locale"
            },
            "overrides": [
              {
                "matcher": {
                  "id": "byName",
                  "options": "select /*+ ordered index(cprd custprodratingdiscount_uk1) use_nl (cprd)*/ t.event_num, cprd.account_num from tmpdiscountguiding t cross join custprodratingdiscount cprd where cprd.customer_ref = t.customer_ref and cprd.aggregation_level = t.aggregation_level and cprd.discount_ref = t.discount_ref and cprd.start_dtm <= t.event_end_dtm and coalesce(cprd.usage_end_dtm, t.event_start_dtm) >= t.event_start_dtm and coalesce(logically_deleted_boo, 'f') = 'f' and cprd.domain_id = t.domain_id order by cprd.customer_ref, cprd.product_seq, cprd.event_discount_id, cprd.event_source, cprd.start_dtm for update"
                },
                "properties": [
                  {
                    "id": "color",
                    "value": {
                      "fixedColor": "semi-dark-orange",
                      "mode": "fixed"
                    }
                  }
                ]
              }
            ]
          },
          "gridPos": {
            "h": 14,
            "w": 24,
            "x": 0,
            "y": 4640
          },
          "id": 613,
          "interval": "1m",
          "options": {
            "legend": {
              "calcs": [
                "mean",
                "max"
              ],
              "displayMode": "table",
              "placement": "right",
              "showLegend": true,
              "sortBy": "Mean",
              "sortDesc": true
            },
            "tooltip": {
              "hideZeros": false,
              "maxHeight": 600,
              "mode": "single",
              "sort": "none"
            }
          },
          "pluginVersion": "11.5.2",
          "targets": [
            {
              "datasource": {
                "type": "prometheus",
                "uid": "${datasource}"
              },
              "disableTextWrap": false,
              "editorMode": "builder",
              "expr": "sum by(query) (increase(sql_pg_queries_v2{col=\"total_time_ms\", query=~\"$query_include_regex\", user_name=~\"$user_include_regex\", query!~\"$query_exclude_regex\", user_name!~\"$user_exclude_regex\"}[1m])) / 60 > 0",
              "fullMetaSearch": false,
              "includeNullMetadata": true,
              "instant": false,
              "legendFormat": "__auto",
              "range": true,
              "refId": "A",
              "useBackend": false
            }
          ],
          "title": "Total time, milliseconds per second, stacked",
          "type": "timeseries"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${datasource}"
          },
          "description": "",
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              },
              "custom": {
                "axisBorderShow": false,
                "axisCenteredZero": false,
                "axisColorMode": "text",
                "axisLabel": "",
                "axisPlacement": "auto",
                "barAlignment": 0,
                "barWidthFactor": 0.6,
                "drawStyle": "line",
                "fillOpacity": 76,
                "gradientMode": "none",
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "viz": false
                },
                "insertNulls": false,
                "lineInterpolation": "linear",
                "lineWidth": 0,
                "pointSize": 2,
                "scaleDistribution": {
                  "type": "linear"
                },
                "showPoints": "always",
                "spanNulls": false,
                "stacking": {
                  "group": "A",
                  "mode": "normal"
                },
                "thresholdsStyle": {
                  "mode": "off"
                }
              },
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green",
                    "value": null
                  },
                  {
                    "color": "red",
                    "value": 80
                  }
                ]
              },
              "unit": "locale"
            },
            "overrides": []
          },
          "gridPos": {
            "h": 14,
            "w": 24,
            "x": 0,
            "y": 4654
          },
          "id": 614,
          "interval": "1m",
          "options": {
            "legend": {
              "calcs": [
                "mean",
                "max"
              ],
              "displayMode": "table",
              "placement": "right",
              "showLegend": true,
              "sortBy": "Mean",
              "sortDesc": true
            },
            "tooltip": {
              "hideZeros": false,
              "maxHeight": 600,
              "mode": "single",
              "sort": "none"
            }
          },
          "pluginVersion": "11.5.2",
          "targets": [
            {
              "datasource": {
                "type": "prometheus",
                "uid": "${datasource}"
              },
              "disableTextWrap": false,
              "editorMode": "builder",
              "expr": "sum by(query) (increase(sql_pg_queries_v2{col=\"total_cpu_time_ms\", query=~\"$query_include_regex\", user_name=~\"$user_include_regex\", query!~\"$query_exclude_regex\", user_name!~\"$user_exclude_regex\"}[1m])) / 60 > 0",
              "fullMetaSearch": false,
              "includeNullMetadata": true,
              "instant": false,
              "legendFormat": "__auto",
              "range": true,
              "refId": "A",
              "useBackend": false
            }
          ],
          "title": "Queries by CPU time, milliseconds per second, stacked",
          "type": "timeseries"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${datasource}"
          },
          "description": "",
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              },
              "custom": {
                "axisBorderShow": false,
                "axisCenteredZero": false,
                "axisColorMode": "text",
                "axisLabel": "",
                "axisPlacement": "auto",
                "barAlignment": 0,
                "barWidthFactor": 0.6,
                "drawStyle": "line",
                "fillOpacity": 68,
                "gradientMode": "none",
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "viz": false
                },
                "insertNulls": false,
                "lineInterpolation": "linear",
                "lineWidth": 0,
                "pointSize": 5,
                "scaleDistribution": {
                  "type": "linear"
                },
                "showPoints": "never",
                "spanNulls": false,
                "stacking": {
                  "group": "A",
                  "mode": "normal"
                },
                "thresholdsStyle": {
                  "mode": "off"
                }
              },
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green",
                    "value": null
                  },
                  {
                    "color": "red",
                    "value": 80
                  }
                ]
              },
              "unit": "locale"
            },
            "overrides": []
          },
          "gridPos": {
            "h": 14,
            "w": 24,
            "x": 0,
            "y": 4668
          },
          "id": 615,
          "interval": "1m",
          "options": {
            "legend": {
              "calcs": [
                "mean",
                "max"
              ],
              "displayMode": "table",
              "placement": "right",
              "showLegend": true,
              "sortBy": "Mean",
              "sortDesc": true
            },
            "tooltip": {
              "hideZeros": false,
              "maxHeight": 600,
              "mode": "single",
              "sort": "none"
            }
          },
          "pluginVersion": "11.5.2",
          "targets": [
            {
              "datasource": {
                "type": "prometheus",
                "uid": "${datasource}"
              },
              "disableTextWrap": false,
              "editorMode": "builder",
              "expr": "sum by(query) (increase(sql_pg_queries_v2{col=~\"total_blk_read_time_ms|total_blk_write_time_ms\", query=~\"$query_include_regex\", user_name=~\"$user_include_regex\", query!~\"$query_exclude_regex\", user_name!~\"$user_exclude_regex\"}[1m])) / 60 > 0",
              "fullMetaSearch": false,
              "includeNullMetadata": true,
              "instant": false,
              "legendFormat": "__auto",
              "range": true,
              "refId": "A",
              "useBackend": false
            }
          ],
          "title": "IO time, milliseconds per second, stacked",
          "type": "timeseries"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${datasource}"
          },
          "description": "",
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              },
              "custom": {
                "axisBorderShow": false,
                "axisCenteredZero": false,
                "axisColorMode": "text",
                "axisLabel": "",
                "axisPlacement": "auto",
                "barAlignment": 0,
                "barWidthFactor": 0.6,
                "drawStyle": "line",
                "fillOpacity": 0,
                "gradientMode": "none",
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "viz": false
                },
                "insertNulls": false,
                "lineInterpolation": "linear",
                "lineWidth": 1,
                "pointSize": 5,
                "scaleDistribution": {
                  "type": "linear"
                },
                "showPoints": "always",
                "spanNulls": false,
                "stacking": {
                  "group": "A",
                  "mode": "none"
                },
                "thresholdsStyle": {
                  "mode": "off"
                }
              },
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green",
                    "value": null
                  },
                  {
                    "color": "red",
                    "value": 80
                  }
                ]
              },
              "unit": "locale"
            },
            "overrides": [
              {
                "__systemRef": "hideSeriesFrom",
                "matcher": {
                  "id": "byNames",
                  "options": {
                    "mode": "exclude",
                    "names": [
                      "-- mon select $1 as table_name, count($2) as count from geneva_data.cpdumanagerequest c where c.action_dat < now() + interval $3",
                      "-- mon select * from ak_dbstats",
                      "-- mon select * from ak_tasks",
                      "-- mon select * from ak_top_queries",
                      "-- mon select * from ak_top_ranked_indexes",
                      "-- mon select * from ak_top_ranked_tables",
                      "-- mon select * from ak_useless_index",
                      "-- mon select * from public.ak_jobs_status",
                      "-- profile select c.customer_ref, e.account_num, c.product_id, d.tariff_id, c.parent_product_seq as p, c.product_seq, t.tariff_name, (select min(cps.effective_dtm) from custproductstatus cps where cps.customer_ref = c.customer_ref and cps.product_seq = c.product_seq and cps.product_status = $1) as start_dtm, (select max(cps.effective_dtm) - interval $2 from custproductstatus cps where cps.customer_ref = c.customer_ref and cps.product_seq = c.product_seq and cps.product_status = $3) as end_dtm, aa.bill_cycle as b, e.product_label, s.event_source from custhasproduct c join custproducttariffdetails d on c.product_seq = d.product_seq and c.customer_ref = d.customer_ref join custproductdetails e on c.product_seq = e.product_seq and c.customer_ref = e.customer_ref join tariff t on d.tariff_id = t.tariff_id left join custeventsource s on c.product_seq = s.product_seq and c.customer_ref = s.customer_ref join accountattributes aa on aa.account_num = e.account_num where (s.event_type_id = $4 or s.event_type_id is null) and aa.account_num in ($5) and t.catalogue_change_id in (select max(catalogue_change_id) from cataloguechange where catalogue_status = $6 and currency_code = $7) order by c.customer_ref, e.account_num, c.product_seq",
                      "accountnum",
                      "billseq",
                      "copy rdbcostedeventv1 ( account_num , billed_cost_mny , charge_number , cluster_sub_id , competitor_cost_mny , cost_centre_id , created_dtm , discount_data , event_attr_1 , event_attr_10 , event_attr_11 , event_attr_12 , event_attr_13 , event_attr_14 , event_attr_15 , event_attr_16 , event_attr_17 , event_attr_18 , event_attr_19 , event_attr_2 , event_attr_20 , event_attr_21 , event_attr_22 , event_attr_23 , event_attr_24 , event_attr_25 , event_attr_26 , event_attr_27 , event_attr_28 , event_attr_29 , event_attr_3 , event_attr_30 , event_attr_31 , event_attr_32 , event_attr_33 , event_attr_34 , event_attr_35 , event_attr_36 , event_attr_4 , event_attr_5 , event_attr_6 , event_attr_7 , event_attr_8 , event_attr_9 , event_cost_mny , event_dtm , event_lifecycle_type , event_ref , event_seq , event_source , event_type_id , external_cost_mny , fragment_number , highest_priority_discount_id , highest_priority_prod_seq , host_event_type_id , imported_cost_mny , imported_currency_code , inhost_costed_boo , internal_cost_mny , loyalty_points , managed_file_id , mask_bill_rule_id , mask_store_rule_id , modified_boo , original_account_num , post_bill_retention_days , previous_event_ref , previous_event_seq , pre_discounted_cost_mny , primary_event_ref , product_seq , rating_discounted_usage_total , receivable_class_id , revenue_code_id , row_number , rule_number , tariff_id , tax_override_id , twin_event_boo , ust_category_id , ust_code_id , extended_attributes ) from stdin binary",
                      "delete from managedfilemetadata where transaction_id = $1 and action_type = $2",
                      "delete from ongoingtransactions where transaction_id = $1 and domain_group_id = $2",
                      "gname, gnvgen$systemdate()",
                      "insert into accountpayment (account_num, account_payment_seq, deposit_boo, payment_origin_id, account_payment_mny, account_payment_dat, created_dtm, account_payment_status, alt_account_payment_mny, alt_currency_code, cancelled_dtm, cancelled_by_ora, failed_by_ora, failed_dtm, physical_payment_seq, account_payment_txt, account_payment_ref, customer_ref, transfer_acc_no, transfer_acc_pay_seq, linked_writeoff_payment_seq, deposit_balance_seq, deposit_request_seq, event_ref, payment_balance_type, deposit_funding_acc_pay_seq, invoice_num, --individual_id, --service_group, dep_payment_ind, created_bill_seq, source_vpa_process, pending_pay_created_dtm, receivables_group_attr_1, receivables_group_attr_2, receivables_group_attr_3, receivables_group_attr_4, receivables_group_attr_5, receivables_group_attr_6, linked_writeoff_balance_seq) values (accountnum, nextaccountseq, depositboo, originid, varconvertedmoney, trunc(paymentdate), varcreationdtm, paymentstatus, varactualpaymoney, varpaycurrin, $70, $71, $72, $73, physicalpayseq, paymenttext, paymentref, physicalcustomerref, transferaccno, transferpayseq, writeoffseq, depositbalseq, depositreqseq, eventref, paymentbalancetype, depositfundingaccpayseq, invoicenumber, --individualid, -- servicegroup, deppaymentind, billseq, sourceprocess, varpendingdtm, recgrpattr1, recgrpattr2, recgrpattr3, recgrpattr4, recgrpattr5, recgrpattr6, linkedwriteoffbalanceseq) on conflict do nothing",
                      "insert into accountratingsummary (account_num, domain_id, event_process_group, event_seq, bill_period_num, cloned_event_num, costedevent_anti_rec_count, costedevent_rec_count, customer_category, drop_event_count, drop_unlimited_count, event_seq_num, event_storage_dat, external_balance_liid, fast_cache_seq, last_costed_message_dtm, latest_rated_event_dtm, pending_otc_lines_tax_mny, pending_otc_mny, pending_otc_tax_mny, policy_id, policy_threshold_mny, rated_anti_event_count, rated_event_count, rated_event_mny, rated_event_tax_mny) values ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17, $18, $19, $20, $21, $22, $23, $24, $25, $26)",
                      "insert into cc_tbl_dat_up_filelog (control_filename,event_filename,status,event_file_type,up_received_dtm, migration_flag) values ($1 ,$2 ,$3 ,$4 ,clock_timestamp(),$5 )",
                      "insert into custprodinvoicediscusage (customer_ref, domain_id, event_discount_id, event_seq, event_source, period_num, product_seq, prod_group_id, tenant_id, account_num, anti_event_count, anti_event_disc_mny, anti_event_disc_usage, bonus_count, carried_over_boo, counter_resets, counter_usage, customer_category, dyn_alloc_charge_data, event_count, external_balance_liid, fast_cache_seq, transaction_id, last_rated_dtm, latest_event_dtm, total_partials_mny, total_usage, total_partials_usage, total_authorised_mny, total_authorised_usage, total_bonus_award, total_discounted_mny, total_discounted_usage, total_otc_mny) values ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17, $18, $19, $20, $21, $22, $23, $24, $25, $26, $27, $28, $29, $30, $31, $32, $33, $34)",
                      "insert into eventsourceusage ( account_num, event_seq, event_source, event_type_id, domain_id, loaded_event_count, loaded_event_mny, billed_event_count, billed_event_mny, loaded_anti_event_count ) values ($1 , $2 , $3 , $4 , $5 , $6 , $7 , $8 , $9 , $10 ) on conflict (account_num, event_seq, event_source, event_type_id, domain_id) do update set loaded_event_count = eventsourceusage.loaded_event_count + excluded.loaded_event_count, loaded_event_mny = eventsourceusage.loaded_event_mny + excluded.loaded_event_mny",
                      "insert into eventsourceusage ( account_num, event_seq, event_source, event_type_id, domain_id, loaded_event_count, loaded_event_mny, billed_event_count, billed_event_mny, loaded_anti_event_count ) values ($1 , $2 , $3 , $4 , $5 , $6 , $7::float8 , $8 , $9::float8 , $10 ) on conflict (account_num, event_seq, event_source, event_type_id, domain_id) do update set loaded_event_count = eventsourceusage.loaded_event_count + excluded.loaded_event_count, loaded_event_mny = eventsourceusage.loaded_event_mny + excluded.loaded_event_mny",
                      "insert into managedfilemetadata ( action_type, created_dtm, metadata, transaction_id ) values ( $1, $2, $3, $4 ) on conflict (transaction_id, action_type) do update set created_dtm = excluded.created_dtm where managedfilemetadata.metadata = excluded.metadata",
                      "insert into ongoingtransactions (domain_group_id, transaction_id, process_instance_id, managed_file_id, start_of_batch, end_of_batch, customer_ref, product_seq) values ($1 , $2 , $3 , $4 , $5 , $6 , $7 , $8 )",
                      "p_currency",
                      "p_name, gnvsessiongparams$getsystemdate()",
                      "select $1 as procedure_cat, n.nspname as procedure_schem, p.proname as procedure_name, $2, $3, $4, d.description as remarks, $5 as procedure_type, p.proname || $6 || p.oid as specific_name from pg_catalog.pg_namespace n, pg_catalog.pg_proc p left join pg_catalog.pg_description d on (p.oid=d.objoid) left join pg_catalog.pg_class c on (d.classoid=c.oid and c.relname=$7) left join pg_catalog.pg_namespace pn on (c.relnamespace=pn.oid and pn.nspname=$8) where p.pronamespace=n.oid and p.prokind=$9 and n.nspname like $10 and p.proname like $11 order by procedure_schem, procedure_name, p.oid::text",
                      "select * from account where account_num = accountnum",
                      "select * from account where account_num = accountnum and coalesce(logically_deleted_boo, gnvgen$gnvfalsestring() ) <> gnvgen$gnvtruestring()",
                      "select * from ais_accountattributes where (account_num)::text like pin_acctnbr",
                      "select * from ais_gnvacc$modifyaccdetailsseparate( p_accountnum => pin_accountnum, p_fromdat => sysdate(), p_uptodat => $60, p_bitflags => $61, p_billperiod => v_oldaccdetails.bill_period, p_billperiodunits => v_oldaccdetails.bill_period_units, p_billstyleid => v_oldaccdetails.bill_style_id, p_paymentmethodid => v_oldaccdetails.payment_method_id, p_billingcontactseq => v_oldaccdetails.billing_contact_seq, p_creditclassid => v_oldaccdetails.credit_class_id, p_creditlimitmny => pin_creditlimit*$62, p_packagediscaccnum => v_oldaccdetails.package_disc_account_num, p_eventdiscaccnum => v_oldaccdetails.event_disc_account_num, p_accountingmethod => v_oldaccdetails.accounting_method, p_statementfrequency => v_oldaccdetails.bills_per_statement, p_billhandlingcode => v_oldaccdetails.bill_handling_code, p_defaultserviceaddr => v_oldaccdetails.default_service_address_seq, p_donateddiscountcps => v_oldaccdetails.donated_discount_cps_id, p_eventdeletionmode => $63, p_reguidedeventdelmode => $64, p_maskeventsonbillboo => $65, p_maskeventsinstoreboo => $66, p_maskreguidedonbillboo => $67, p_maskreguidedinstoreboo => $68, p_ticketboo => $69, p_prodchargeprofileid => $70, p_eventtidemark => $71, p_rechargepaymentsboo => $72, p_billdayofthemonth => $73, p_currencymode => $74, p_currencyconvcalday => $75, p_announcementsmode => $76, p_autodepallocforoiaboo => $77, p_excesspymtallocforoiaboo => $78, p_negativeinvallocforoiaboo => $79, p_paymentautocreateboo => $80, p_accountlockversion => v_accountlockversion)",
                      "select * from ais_gnvacc$modifyaccseparate(p_accountnum => pin_accountnum, p_bitflags => $42, p_accountname => v_oldacc.account_name, p_currencycode => v_oldacc.currency_code, p_nextbilldtm => v_oldacc.next_bill_dtm, p_infocurrencycode => v_oldacc.info_currency_code, p_invoicingcoid => v_oldacc.invoicing_co_id, p_defaultcpsid => v_oldacc.default_cps_id, p_autodelbilledeventboo => v_oldacc.delete_events_on_billing_boo, p_businessboo => $43, p_endcustomerboo => $44, p_prepayboo => v_oldacc.prepay_boo, p_thresholdsetid => v_thresholdsetid, p_taxinclusiveboo => v_oldacc.tax_inclusive_boo, p_eventsperday => $45, p_holidayprofileid => $46, p_templateref => $47, p_languageid => $48, p_lcprofileid => $49, p_lcstateid => $50, p_nextlcsprocessdays => $51, p_lcstatereasontext => $52, p_csruser => $53, p_disablerealtimebillboo => $54, p_rechargeeventtypeid => $55, p_rechargeeventsource => $56, p_outputeventtofileboo => $57, p_aggregatestartdat => $58, p_eventdispatchprofileid => $59, p_dormancylcprofileid => $60, p_dormancychecknbrofdays => $61, p_excludefrompromoboo => $62, p_taxreengineerboo => $63, p_creditcheckedboo => $64, p_accountlockversion => v_accountlockversion, p_eventstoretype => $65, p_seteventtransitionseq => $66, p_iseventseqratedboo => $67)",
                      "select * from ais_gnvacc$terminateaccount( accountnum => pin_accountnum, enddate => v_orderdate::timestamptz, terminationreasonid => v_reasonid::numeric, -- pin_terminationreasonid , --p_earlytermsurchargeboo => cc_f_get_crm_constant_val('early_term_surcharge_boo')::text, -- pin_earlytermsurchargeboo p_earlytermsurchargeboo => $29, -- pin_earlytermsurchargeboo --p_earlytermsurchargeboo => coalesce(cc_f_get_crm_constant_val('early_term_surcharge_boo'), null), -- pin_earlytermsurchargeboo p_operationdtm => $30, --v_orderdate::timestamptz, p_suppressautodebitmode => $31, accountlockversion => v_accountlockversion::numeric )",
                      "select * from ais_gnvcustproduct$createcustproduct ( p_customerref => pin_customerref , p_productid => pin_productid , p_startdtm => v_startdtm , p_termdtm => v_enddtm , p_parentproductseq => pin_parentproductseq , p_packageseq => $54 , p_productpackageinstance => $55 , p_accountnum => v_tmp_account_num , p_budgetcentreseq => $56 , p_tariffid => pin_billingtariffid , p_competitortariffid => $57 , p_productlabel => pin_productlabel , p_productquantity => pin_productquantity , p_custordernum => $58 , p_supplierordernum => $59 , p_custproductcontactseq => $60 , p_contractedpos => $61 , p_cpstaxexemptref => v_taxexemptref , p_cpstaxexempttxt => $62 , p_contractseq => $63 , p_additions_quantity => pin_productquantity , p_terminations_quantity => $64 , p_productstatus => pin_productstatus , p_statusreasontxt => $65 , p_subscription_ref => $66 , p_productoptionalboo => $67 , p_eventdeletionmode => $68 , p_communitygroupid => v_communitygroupid , p_communitygroupownerboo => v_communitygroupownerboo )",
                      "select * from ais_gnvpay$createautoappaccpay(accountnumber => (p_inaccountnum), paymentdate => (p_inpaymentdat), paymentmoney => (v_total_mny), paymentcurrency => ($39)::varchar, paymentmethodid => (p_inpaymentmethodid), paymenttext => (p_inpaymentdescription), paymentref => ($40)::varchar, physicalcustomerref => (v_customer_ref)::varchar, creationdate => ($41)::timestamptz(0), batchid => ($42)::numeric, p_paymentrule => ($43)::numeric, p_depositrequestseq => ($44)::numeric, p_depositbalanceseq => ($45)::numeric, p_pendingpaymentmode => ($46)::numeric, p_refundboo => $47::varchar, p_attribindexarray => $48, p_newstringvaluesarray => $49, p_oldstringvaluesarray => $50, p_invoicenumber => ($51)::varchar, p_individualid => ($52)::integer, p_servicegroup => ($53)::varchar )",
                      "select * from bl_admin.blc0180000$cc_pc_create_payment($1,$2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17, $18, $19, $20, $21, $22, $23, $24, $25, $26, $27, $28, $29, $30, $31, $32, $33, $34) as result",
                      "select * from bl_admin.cc_p_add_accnt($1,$2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17, $18, $19, $20, $21, $22, $23, $24, $25, $26, $27, $28, $29, $30, $31, $32, $33, $34, $35, $36, $37, $38, $39, $40, $41, $42, $43, $44, $45, $46, $47, $48, $49, $50, $51, $52, $53, $54, $55, $56, $57, $58, $59, $60, $61, $62, $63, $64, $65) as result",
                      "select * from bl_admin.cc_p_add_cust($1,$2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17, $18, $19, $20, $21, $22, $23, $24, $25, $26, $27, $28, $29, $30, $31, $32, $33, $34, $35, $36, $37, $38, $39, $40, $41, $42, $43, $44, $45, $46, $47, $48, $49, $50, $51) as result",
                      "select * from bl_admin.cc_p_add_promotion($1,$2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17, $18, $19, $20, $21, $22, $23, $24, $25, $26, $27) as result",
                      "select * from bl_admin.cc_p_add_service($1,$2, $3, $4, $5, $6, $7, $8, $9, $10, $11) as result",
                      "select * from bl_admin.cc_p_add_tariff($1,$2, $3, $4, $5, $6, $7, $8) as result",
                      "select * from bl_admin.cc_p_create_mobile($1,$2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14) as result",
                      "select * from blc0180000$cc_pc_create_payment$x_allocation(v_numinv => (v_numinv)::numeric, p_inbillseqlist => (p_inbillseqlist)::varchar, v_totalallocatemny => (v_totalallocatemny)::numeric, p_innewppsboo => (v_innewppsboo)::varchar, v_aps => (v_aps)::numeric, v_old_aps_seq => (v_old_aps_seq)::integer, v_total_pay => (v_total_pay)::numeric, v_old_pay_mny => (v_old_pay_mny)::bigint, v_accountpayseq => (v_accountpayseq)::integer, v_total_mny => (v_total_mny)::numeric, v_send_txt_to_online_tr => (v_send_txt_to_online_tr)::text, v_billseqlist => (v_billseqlist)::varchar(1000), v_paymentallocationmny => (v_paymentallocationmny)::varchar(1000), p_inpaymentallocationmny => (p_inpaymentallocationmny)::varchar, v_invbalancelist => (v_invbalancelist)::varchar(1000), p_ininvbalancelist => (p_ininvbalancelist)::varchar, v_prevtaxchangemny => (v_prevtaxchangemny), p_inaccountnum => (p_inaccountnum)::varchar, p_inpaymentsourcetype => (p_inpaymentsourcetype)::numeric, p_inpayfor => (p_inpayfor)::numeric, v_invfullpay => (v_invfullpay)::char(1), p_inpaymentdat => (p_inpaymentdat)::timestamptz(0), p_inpaymentchannelid => (p_inpaymentchannelid)::numeric, p_outphysicalpayseq => (p_outphysicalpayseq)::numeric, p_inoldppsseq => (p_inoldppsseq)::numeric, p_outaccountpayseq => (p_outaccountpayseq)::numeric, v_customer_ref => (v_customer_ref), v_physicalpayseq => (v_physicalpayseq), v_errcode => (v_errcode)::numeric, v_errmsg => (v_errmsg)::varchar(1000))",
                      "select * from custhasproduct where customer_ref = customerref and product_seq = productseq::bigint",
                      "select * from gnvdebt$legaldebtandcreditadj(accountnum => p_accountnum, billseq => p_billseq, receivableclassid => p_receivableclassid, bforaccount => $16, groupid => $17, adjtidemarkdtm =>$18, prevcollwopayseq =>$19, currcollwopayseq =>$20, maxadjcollworecpayseq=>$21, recgrpattr1 => p_recgrpattr1, recgrpattr2 => p_recgrpattr2, recgrpattr3 => p_recgrpattr3, recgrpattr4 => p_recgrpattr4, recgrpattr5 => p_recgrpattr5, recgrpattr6 => p_recgrpattr6)",
                      "select * from gnvgen$livebillcatidandico(p_currency,p_ico) strict",
                      "select * from gnvintacc$modifyaccseperateint(p_accountnum => (p_accountnum)::varchar, p_accountname => (p_accountname)::varchar, p_currencycode => (p_currencycode)::varchar, p_nextbilldtm => (p_nextbilldtm)::timestamptz(0), p_infocurrencycode => (p_infocurrencycode)::varchar, p_invoicingcoid => (p_invoicingcoid)::numeric, p_defaultcpsid => (p_defaultcpsid)::numeric, p_autodelbilledeventboo => (p_autodelbilledeventboo)::varchar, p_businessboo => (p_businessboo)::varchar, p_endcustomerboo => (p_endcustomerboo)::varchar, p_prepayboo => (p_prepayboo)::varchar, p_thresholdsetid => (p_thresholdsetid)::numeric, p_taxinclusiveboo => (p_taxinclusiveboo)::varchar, p_eventsperday => (p_eventsperday)::numeric, p_holidayprofileid => (p_holidayprofileid)::numeric, p_templateref => (p_templateref)::varchar, p_languageid => (p_languageid)::numeric, p_lcprofileid => (p_lcprofileid)::numeric, p_lcstateid => (p_lcstateid)::numeric, p_nextlcsprocessdays => (p_nextlcsprocessdays)::numeric, p_lcstatereasontxt => (p_lcstatereasontext)::varchar, p_csruser => (p_csruser)::varchar, p_disablerealtimebillboo => (p_disablerealtimebillboo)::varchar, p_rechargeeventtypeid => (p_rechargeeventtypeid)::numeric, p_rechargeeventsource => (p_rechargeeventsource)::varchar, p_outputeventtofileboo => (p_outputeventtofileboo)::varchar, p_aggregatestartdat => (p_aggregatestartdat)::timestamptz(0), p_eventdispatchprofileid => (p_eventdispatchprofileid)::numeric, p_dormancylcprofileid => (p_dormancylcprofileid)::numeric, p_dormancychecknbrofdays => (p_dormancychecknbrofdays)::numeric, p_excludefrompromoboo => (p_excludefrompromoboo)::varchar, p_taxreengineerboo => (p_taxreengineerboo)::varchar, p_creditcheckedboo => (p_creditcheckedboo)::varchar, p_accountlockversion => (p_accountlockversion)::numeric, p_bitflags => (v_bitflags)::numeric, p_validatetaxincboo => ($41)::boolean, p_updateforaccounttransfer => ($42)::varchar, p_updatebdmboo => ($43)::boolean, p_eventstoretype => (p_eventstoretype)::numeric, p_seteventtransitionseq => (p_seteventtransitionseq)::numeric, p_iseventseqratedboo => (p_iseventseqratedboo)::varchar)",
                      "select * from gnvinteventsrc$createeventsourceintnc(p_customerref => p_customerref, p_productseq => p_productseq::bigint, p_eventsource => p_eventsource, p_eventtypeid => p_eventtypeid::integer, p_startdtm => p_startdtm, p_enddtm => p_enddtm, p_eventsourcelabel => p_eventsourcelabel, p_eventsourcetext => p_eventsourcetext, p_creditlimit => p_creditlimit::bigint, p_ratingtariffid => p_ratingtariffid::integer, p_competitorratingtariffid => p_competitorratingtariffid::integer, p_copyguidingrules => p_copyguidingrules, p_eventdeletionmode => p_eventdeletionmode::smallint, p_onbillmaskingruleid => p_onbillmaskingruleid::integer, p_datastoremaskingruleid => p_datastoremaskingruleid::integer, p_defaultrchgpayeventconfigboo => p_defaultrchgpayeventconfigboo, p_batchappply => p_batchappply::boolean, p_billingofferid => p_billingofferid::integer, p_domainid => p_domainid::integer, p_product_package_instance => p_product_package_instance::smallint, p_product_id => p_product_id::integer, p_producttype => p_producttype::smallint, p_offeraccnum => p_offeraccnum::varchar, p_rejectonlyboo => p_rejectonlyboo::varchar, p_skipuniqevntsrcchckboo => p_skipuniqevntsrcchckboo::varchar)",
                      "select * from gnvinteventsrc$createeventsourceintnc_(p_customerref::varchar, p_productseq::bigint, p_eventsource::varchar, p_eventtypeid::integer, p_startdtm::timestamptz(0), p_enddtm::timestamptz(0), p_eventsourcelabel::varchar, p_eventsourcetext::varchar, p_creditlimit::bigint, p_ratingtariffid::integer, p_competitorratingtariffid::integer, p_mode::varchar, p_copyguidingrules::varchar, p_eventdeletionmode::smallint, p_onbillmaskingruleid::integer, p_datastoremaskingruleid::integer, p_defaultrchgpayeventconfigboo, p_defaultcreateprofilesmryboo, p_accreguidingpolicyid::integer, p_targetdomainid::integer, p_accreguidingdirind::varchar, p_cmprattariffidnotnullboo::boolean, p_batchappply::boolean, p_billingofferid::integer, p_domainid::integer, p_product_package_instance::smallint, p_product_id::integer, p_producttype::smallint, p_offeraccnum::varchar, p_rejectonlyboo::varchar, p_skipuniqevntsrcchckboo::varchar)",
                      "select * from gnvintpay$checkallocationtobillamount(p_accountnumber, p_billseq, p_payseq, p_receivableclassid, p_allocmny, v_allocmny, $63, v_targetpaymentboo, v_recgrpattr1, v_recgrpattr2, v_recgrpattr3, v_recgrpattr4, v_recgrpattr5, v_recgrpattr6)",
                      "select * from gnvintpay$createallocationnc(accountnumber, billseq, payseq, allocmny, receivableclassid, notes,$13,$14, p_recgrpattr1,p_recgrpattr2,p_recgrpattr3,p_recgrpattr4,p_recgrpattr5,p_recgrpattr6)",
                      "select * from gnvintpay$createautoappaccpaync( accountnumber, paymentdate, paymentmoney, paymentcurrency, paymentmethodid, paymenttext, paymentref, physicalcustomerref, creationdate, batchid, p_paymentrule, p_depositrequestseq, p_depositbalanceseq, p_pendingpaymentmode, p_refundboo, p_attribindexarray, p_newstringvaluesarray, p_oldstringvaluesarray, p_invoicenumber, p_individualid, p_servicegroup, $34, $35, $36, p_receivablegroupattr1, p_receivablegroupattr2, p_receivablegroupattr3, p_receivablegroupattr4, p_receivablegroupattr5, p_receivablegroupattr6 )",
                      "select * from gnvintpay$insertatb( p_accountnumber, v_billseq, p_payseq, v_recclassid, coalesce(v_allocmny::numeric,$187::numeric), p_notes, $188, $189, recbillrec.receivables_group_attr_1, recbillrec.receivables_group_attr_2, recbillrec.receivables_group_attr_3, recbillrec.receivables_group_attr_4, recbillrec.receivables_group_attr_5, recbillrec.receivables_group_attr_6 )",
                      "select * from gnvintproductstatus$createcustprodstatus(p_customerref => p_customerref, p_productseq => p_productseq, p_startdatetime => p_startdatetime, p_nextstatusdatetime => p_nextstatusdatetime, p_productstatus => p_productstatus, p_statusreason => p_statusreason, p_earlytermsurchargeboo => p_earlytermsurchargeboo, p_applytoproductheirarchyboo => p_applytoproductheirarchyboo, p_addonsuperbehaviourboo => v_useaddonsuperbehaviourboo, p_issuperaddoncall => v_issuperaddcall)",
                      "select * from gnvintproducttariff$validatebillingtariffs(p_customerref, p_productrec.product_id, p_productrec.product_family_id, v_derivedproductquantity, v_startdate, v_enddate, p_parentproductseq, p_packageseq, p_productpackageinstance, $75, v_derivedaccountnum, v_derivedbilltariff, v_derivedcompbilltariff, v_contractrec, $76, --p_skiptariffvalwithconboo default value v_communitygrouptypeid, p_communitygroupownerboo)",
                      "select * from gnvpay$createallocation5nc( accountnumber , billseq , payseq , allocmny , receivableclassid , notes , p_recgrpattr1 , p_recgrpattr2 , p_recgrpattr3 , p_recgrpattr4 , p_recgrpattr5 , p_recgrpattr6 )",
                      "select * from gnvpay$createautoappaccpay12nc( accountnumber , paymentdate , paymentmoney , paymentcurrency , paymentmethodid , paymenttext , paymentref , physicalcustomerref , creationdate , batchid , p_paymentrule , p_depositrequestseq , p_depositbalanceseq , p_pendingpaymentmode , p_refundboo , p_attribindexarray , p_newstringvaluesarray , p_oldstringvaluesarray , p_invoicenumber , p_individualid , p_servicegroup , p_receivablegroupattr1 , p_receivablegroupattr2 , p_receivablegroupattr3 , p_receivablegroupattr4 , p_receivablegroupattr5 , p_receivablegroupattr6 )",
                      "select * from gnvpaymisc$accountinformationrecord(accountnum)",
                      "select * from gnvpaymisc$accunbilledinforecord(accountnum)",
                      "select * from gnvproductstatus$createcustprodstatus2nc( p_customerref , p_productseq , p_startdatetime , p_nextstatusdatetime , p_productstatus , p_statusreason , p_earlytermsurchargeboo , p_applytoproductheirarchyboo )",
                      "select * from gnvproductstatus$modifycustprodstatus3nc ( p_customerref , p_productseq , p_productstatus , p_oldstartdatetime , p_oldstatusreason , p_newstartdatetime , p_newstatusreason , p_earlytermsurchargeboo , p_applytoproducthierarchyboo )",
                      "select * from gnvsqljobhasfile$updatejobhasfile(p_jobid, p_managedfileid, p_domaingroupid, p_newjobfilestatus, p_newlastupdatedtm, p_newprocessedtidemark )",
                      "select * from omlv2payload$makeproductinstanceupdatedpayload(customer_ref => new.customer_ref, product_seq => new.product_seq, effective_time => omlv2conv$converttounixtime(new.effective_dtm) )",
                      "select * from pvaccountunbilled3 where account_num = accountnum",
                      "select /*+index (costgroupxref costgroupxref_pk)*/ pvcostgroupxref2.banding_model_id , pvcostgroupxref2.costgroup_1_id , pvcostgroupxref2.costgroup_2_id , pvcostgroupxref2.cost_band_id , pvcostgroupxref2.end_dat , pvcostgroupxref2.rating_catalogue_id , pvcostgroupxref2.start_dat from pvcostgroupxref2 pvcostgroupxref2 where ((((pvcostgroupxref2.banding_model_id=$1 )and(pvcostgroupxref2.costgroup_1_id=$2 ))and(pvcostgroupxref2.costgroup_2_id=$3 ))and(pvcostgroupxref2.start_dat<=$4 ))and(pvcostgroupxref2.rating_catalogue_id=$5 )",
                      "select /*+index (custfilterelement custfilterelement_ak1)*/ custfilterelement.customer_ref , custfilterelement.element_number , custfilterelement.event_filter_id , custfilterelement.product_seq , custfilterelement.start_dat , custfilterelement.attribute_value , custfilterelement.attribute_value_type , custfilterelement.domain_id , custfilterelement.end_dat from custfilterelement custfilterelement where (((custfilterelement.event_filter_id=$1 )and(custfilterelement.customer_ref=$2 ))and(custfilterelement.product_seq=$3 ))and(custfilterelement.domain_id=$4 ) order by custfilterelement.attribute_value asc, custfilterelement.start_dat asc",
                      "select a.* from account a where a.account_num = p_accountnum for update",
                      "select a.* from customer a where a.customer_ref = p_customerref",
                      "select a.account_num from pvaccountratingsummary12 ars, pvaccount36 a where a.account_num = accountnum and a.account_num = ars.account_num and (ars.event_seq >= a.bill_event_seq or ars.event_seq = $2) order by ars.account_num, ars.event_seq, ars.event_process_group for update",
                      "select acc.allow_prod_changes_from_dat,cpc.billed_to_dat from account acc, custproductcharge cpc where cpc.customer_ref = customerref and cpc.product_seq = productseq::bigint and cpc.charge_type = thechargetype and cpc.billed_to_dat is not null and cpc.cpc_status <> gnvsqlcustproductcharge$gnvprodchargelogicallydeleted() and acc.account_num = cpc.account_num order by acc.allow_prod_changes_from_dat desc",
                      "select account.next_bill_dtm , accountdetails.bill_period , accountdetails.bill_period_units , accountdetails.bill_day_of_the_month from account account cross join accountdetails accountdetails where ((((account.account_num=$1 )and(account.account_num=accountdetails.account_num))and(accountdetails.start_dat<=$2 ))and((accountdetails.end_dat is null )or(accountdetails.end_dat>=$3 )))and(account.domain_id=$4 )",
                      "select account_num account_num , invoicing_co_id invoicing_co_id , permission_id permission_id , domain_id domain_id from account where account_num_upper like $1 escape $2",
                      "select account_payment_status from accountpayment where account_num = p_accountnumber and account_payment_seq = p_payseq",
                      "select accountdetails.account_num , accountdetails.start_dat , accountdetails.accounting_method , accountdetails.announcements_supported_mode , accountdetails.auto_deposit_alloc_for_oia_boo , accountdetails.billing_contact_seq , accountdetails.bills_per_statement , accountdetails.bill_day_of_the_month , accountdetails.bill_handling_code , accountdetails.bill_period , accountdetails.bill_period_units , accountdetails.bill_style_id , accountdetails.credit_class_id , accountdetails.credit_limit_mny , accountdetails.currency_conv_cal_day , accountdetails.currency_mode , accountdetails.default_service_address_seq , accountdetails.domain_id , accountdetails.donated_discount_cps_id , accountdetails.end_dat , accountdetails.event_deletion_mode , accountdetails.event_disc_account_num , accountdetails.event_tidemark , accountdetails.excess_pymt_alloc_for_oia_boo , accountdetails.mask_bill_boo , accountdetails.mask_reguided_bill_boo , accountdetails.mask_reguided_store_boo , accountdetails.mask_store_boo , accountdetails.negative_inv_alloc_for_oia_boo , accountdetails.opt_out_of_announcements , accountdetails.package_disc_account_num , accountdetails.payment_auto_create_boo , accountdetails.payment_method_id , accountdetails.prod_charge_profile_id , accountdetails.recharge_payments_boo , accountdetails.reguided_event_del_mode , accountdetails.tax_in_realtime_for_ocsbal_boo , accountdetails.ticket_boo from accountdetails accountdetails where (accountdetails.account_num=$1 )and(accountdetails.domain_id=$2 )",
                      "select accountrating.account_num , accountrating.domain_id , accountrating.event_process_group , accountrating.actual_bill_dtm , accountrating.authorisations_mny , accountrating.bill_period_num , accountrating.customer_category , accountrating.discount_usage_action_dat , accountrating.dormancy_check_dat , accountrating.event_seq_num , accountrating.external_balance_liid , accountrating.fast_cache_seq , accountrating.last_bill_dtm , accountrating.lc_state_id , accountrating.lc_state_start_dtm , accountrating.lc_state_timeout_dtm , accountrating.next_bill_dtm , accountrating.partials_mny , accountrating.post_discount_usage_mny , accountrating.pre_discount_usage_mny , accountrating.rate_event_seq , accountrating.rating_discount_scope , accountrating.rating_status , accountrating.transfer_usage_flag , accountrating.usage_lock_dtm from accountrating accountrating where ((accountrating.account_num=$1 )and(accountrating.event_process_group=$2 ))and(accountrating.domain_id=$3 )",
                      "select accountrating.account_num , accountrating.domain_id , accountrating.event_process_group , accountrating.actual_bill_dtm , accountrating.authorisations_mny , accountrating.bill_period_num , accountrating.customer_category , accountrating.discount_usage_action_dat , accountrating.dormancy_check_dat , accountrating.event_seq_num , accountrating.external_balance_liid , accountrating.fast_cache_seq , accountrating.last_bill_dtm , accountrating.lc_state_id , accountrating.lc_state_start_dtm , accountrating.lc_state_timeout_dtm , accountrating.next_bill_dtm , accountrating.partials_mny , accountrating.post_discount_usage_mny , accountrating.pre_discount_usage_mny , accountrating.rate_event_seq , accountrating.rating_discount_scope , accountrating.rating_status , accountrating.transfer_usage_flag , accountrating.usage_lock_dtm from accountrating accountrating where ((accountrating.account_num=$1 )and(accountrating.event_process_group=$2 ))and(accountrating.domain_id=$3 ) for update",
                      "select accountratingsummary.account_num , accountratingsummary.domain_id , accountratingsummary.event_process_group , accountratingsummary.event_seq , accountratingsummary.bill_period_num , accountratingsummary.cloned_event_num , accountratingsummary.costedevent_anti_rec_count , accountratingsummary.costedevent_rec_count , accountratingsummary.customer_category , accountratingsummary.drop_event_count , accountratingsummary.drop_unlimited_count , accountratingsummary.event_seq_num , accountratingsummary.event_storage_dat , accountratingsummary.external_balance_liid , accountratingsummary.fast_cache_seq , accountratingsummary.last_costed_message_dtm , accountratingsummary.latest_rated_event_dtm , accountratingsummary.pending_otc_lines_tax_mny , accountratingsummary.pending_otc_mny , accountratingsummary.pending_otc_tax_mny , accountratingsummary.policy_id , accountratingsummary.policy_threshold_mny , accountratingsummary.rated_anti_event_count , accountratingsummary.rated_event_count , accountratingsummary.rated_event_mny , accountratingsummary.rated_event_tax_mny from accountratingsummary accountratingsummary where (((accountratingsummary.account_num=$1 )and(accountratingsummary.event_process_group=$2 ))and(accountratingsummary.event_seq=$3 ))and(accountratingsummary.domain_id=$4 )",
                      "select act.datid, act.datname, act.pid, act.usesysid, act.usename, act.application_name, text(act.client_addr), act.client_hostname, act.client_port, act.backend_start, act.xact_start, act.query_start, act.state_change, case when act.wait_event_type is null then $1 else act.wait_event_type end as wait_event_type,case when act.wait_event is null then $2 else act.wait_event end as wait_event, act.state, act.backend_xid, act.backend_xmin, act.query, act.backend_type,(pg_blocking_pids(act.pid))[$3], cardinality(pg_blocking_pids(act.pid)),blk.state,gpi.pid,act.query_id, gpi.query, gpi.cmdtype, act.leader_pid from pg_stat_activity act left join pg_stat_activity blk on (pg_blocking_pids(act.pid))[$4] = blk.pid,get_parsedinfo(act.pid) gpi where act.state =$5 and act.pid != pg_backend_pid()",
                      "select action_type action_type , created_dtm created_dtm , domain_group_id domain_group_id , metadata metadata , transaction_id transaction_id from managedfilemetadata where transaction_id = $1",
                      "select ais_gnvcustproduct$deletecustproduct ( p_customerref => v_customerref , p_productseq => v_promoseq , p_productlabel => v_productlabel, p_autootchandlingboo => $31 )",
                      "select ais_gnvpay$createallocation( accountnumber => (p_inaccountnum), billseq => (to_number(v_billseqlist)), payseq => (v_aps), allocmny => ((coalesce(to_number(v_paymentallocationmny),$19)+ v_prevtaxchangemny)*$20), receivableclassid => ($21), notes => ($22), p_recgrpattr1 => $23, p_recgrpattr2 => $24, p_recgrpattr3 => $25, p_recgrpattr4 => $26, p_recgrpattr5 => $27, p_recgrpattr6 => $28 )",
                      "select ais_gnvproductattributes$modifycustprodattr4nc( customerref => pin_customerref, productseq => pout_productseq, attributesubidarr => arrattrsubid, changefromdate => date_trunc($60, v_startdtm), changeuptodate => $61, oldvaluearr => $62, newvaluearr => arrattrvalue )",
                      "select ais_gnvproductstatus$createcustprodstatus ( p_customerref => v_customerref, p_productseq => pinout_productseq, p_startdatetime => v_effectivedate, p_nextstatusdatetime => $17, -- pin_nextstatusdatetime , p_productstatus => $18, p_statusreason => pin_statusreason, p_earlytermsurchargeboo => cc_f_get_crm_constant_val($19), -- pin_earlytermsurchargeboo , p_applytoproductheirarchyboo => cc_f_get_crm_constant_val($20) -- pin_applytoproductheirarchyboo )",
                      "select ais_gnvproductstatus$modifycustprodstatus ( p_customerref => v_customerref, p_productseq => get_data.product_seq, p_productstatus => $29, -- date that product should be terminate p_oldstartdatetime => v_effectdtm, -- for terminate status this parameter doesn't need. p_oldstatusreason => v_reasontxt, -- pin_productstatus p_newstartdatetime => v_enddate, p_newstatusreason => pin_statusreason, -- cc_pkg_constant.early_term_surcharge_boo --pin_earlytermsurchargeboo p_earlytermsurchargeboo => $30, p_applytoproducthierarchyboo => $31 )",
                      "select array(select row(billing_offer_id, offer_status) from billingoffer where customer_ref = p_customerref order by offer_status)",
                      "select ars.rated_event_mny, ars.pending_otc_mny, ars.bill_period_num, ars.event_seq, ars.pending_otc_tax_mny, ars.pending_otc_lines_tax_mny, ars.rated_event_tax_mny from account a left join accountratingsummary ars on ars.account_num = a.account_num and ars.domain_id = a.domain_id and ars.bill_period_num >= coalesce(a.last_bill_period_num, $3) where a.account_num = $1 and a.domain_id = $2",
                      "select br.* from billreceivable br, pvbillsummaryall bs, receivableclass rc, paymentpriority pp where br.account_num = p_accountnumber and br.bill_seq = v_billseq and br.bill_version = (select max(bill_version) from pvbillsummaryall where account_num = p_accountnumber and bill_seq = v_billseq) and bs.bill_settled_boo = 'f' and bs.bill_status in (1, 7, 8, 28) and br.account_num = bs.account_num and br.bill_seq = bs.bill_seq and br.bill_version = bs.bill_version and (p_receivableclassid is null or br.receivable_class_id = p_receivableclassid) and br.receivable_class_id = rc.receivable_class_id and rc.priority_id = pp.priority_id and coalesce(bs.billing_offer_id::text,'') = '' and (v_recgrpattr1 is null or br.receivables_group_attr_1 = v_recgrpattr1) and (v_recgrpattr2 is null or br.receivables_group_attr_2 = v_recgrpattr2) and (v_recgrpattr3 is null or br.receivables_group_attr_3 = v_recgrpattr3) and (v_recgrpattr4 is null or br.receivables_group_attr_4 = v_recgrpattr4) and (v_recgrpattr5 is null or br.receivables_group_attr_5 = v_recgrpattr5) and (v_recgrpattr6 is null or br.receivables_group_attr_6 = v_recgrpattr6) order by pp.age_independent_boo desc, pp.priority_number, rc.receivable_class_id, br.receivables_group_attr_1, br.receivables_group_attr_2, br.receivables_group_attr_3, br.receivables_group_attr_4, br.receivables_group_attr_5, br.receivables_group_attr_6",
                      "select c.domain_id from customer c where c.customer_ref = p_customerref",
                      "select catalogue_change_id from cataloguechange where catalogue_status = gnvgen$gnvlivecatalogue() and currency_code = currency",
                      "select cbcpc.* from cancelbillcustpc cbcpc where cbcpc.customer_ref = p_customerref and cbcpc.product_seq = p_productseq::bigint and (gnvgen$datcompare(cbcpc.start_dat, p_newtermdate) <= 0) and (gnvgen$datcompare(cbcpc.end_dat, p_newtermdate) >= 0) and (cbcpc.charge_type = p_thechargetype) and (cbcpc.cpc_status <> gnvconstants$gc_chargelogicallydeleted()) order by cbcpc.end_dat desc for update",
                      "select cc_p_add_eventsource( pin_customerref , v_productseq , pin_eventsource , v_eventtypeid , v_ratingtariffid , v_startdtm , v_startdtm_mob )",
                      "select cmr.product_seq from cpdumanagerequest cmr where cmr.customer_ref = $1 and cmr.product_seq is not null and cmr.domain_id = $2 and cmr.action_dat <= to_date($3 , $4) order by product_seq, account_num",
                      "select coalesce(sum(amount_mny), $4) from allocationtobill where account_num = p_accountnumber and account_payment_seq = p_payseq and (coalesce(logically_deleted_boo,$5) = $6)",
                      "select coalesce(sum(atb.amount_mny), $33) from allocationtobill atb, receivableclass rc, (select ap.* from accountpayment ap left join adjustment adj on (prevcollwopayseq is null or ap.account_payment_seq > prevcollwopayseq) and (nvl(maxadjcollworecpayseq, currcollwopayseq) is null or ap.account_payment_seq <= nvl(maxadjcollworecpayseq, currcollwopayseq)) and adj.account_num = ap.account_num and adj.adjustment_seq = ap.linked_writeoff_payment_seq and adj.linked_writeoff_payment_seq = ap.account_payment_seq and ( ( adj.account_num is not null and ap.payment_origin_id = gnvconstants$gc_payoriginrecoveredadj() and adj.dispute_seq is not null and ap.account_payment_mny < $34 ) or (currcollwopayseq is null or ap.account_payment_seq <= currcollwopayseq) )) ap where atb.account_num = accountnum and (billseq is null or atb.bill_seq = billseq) -- 2311 - removed ap.deposit_boo = 'f' condition here as it does not carry any signifcance and ap.account_payment_status = gnvdebt$creationstatus() and (groupid is null or rc.group_id = groupid) and (receivableclassid is null or atb.receivable_class_id = receivableclassid) and ((coalesce(atb.receivables_group_attr_1,$35) || gnvintpay$gc_delimiter() || coalesce(atb.receivables_group_attr_2,$36) || gnvintpay$gc_delimiter() || coalesce(atb.receivables_group_attr_3,$37) || gnvintpay$gc_delimiter() || coalesce(atb.receivables_group_attr_4 ,$38)|| gnvintpay$gc_delimiter() || coalesce(atb.receivables_group_attr_5 ,$39)|| gnvintpay$gc_delimiter() || coalesce(atb.receivables_group_attr_6,$40) = v_aggrrecgroupattr)or (v_invoiceleveldebtboo = gnvgen$gnvtruestring()) or (v_recvclassleveldebtboo = gnvgen$gnvtruestring()) or (v_invrecvclassleveldebtboo = gnvgen$gnvtruestring())) -- joins and ap.account_num = atb.account_num and ap.account_payment_seq = atb.account_payment_seq and atb.receivable_class_id = rc.receivable_class_id and (coalesce(atb.logically_deleted_boo,$41) = $42)",
                      "select control_filename from cc_tbl_dat_up_filelog where control_filename = $1",
                      "select count(*) from bl_admin.cc_tbl_dat_nodrop_sff_source s where s.ca_no = rec.customer_ref and s.ba_no = rec.account_num --and s.gv_prod_seq = v_1_pack_seq and coalesce(s.gv_prod_seq,$28) = coalesce(v_gv_prod_seq,$29) and coalesce(s.product_name,$30) = coalesce(v_integration,$31) and s.create_date is not null",
                      "select count(*) from transferrequest where release_version= gnvgen$nrmreleaseversion() and source_customer_ref in (select customer_ref from account where customer_ref = p_customerref and transfer_indicator = gnvconstants$gc_tfrindbeingtransferred())",
                      "select cpc.* from custproductcharge cpc where cpc.customer_ref = customerref and cpc.product_seq = productseq::bigint and cpc.charge_type = gnvsqlcustproductcharge$gnvchargetypeusage() and cpc.cpc_status <> gnvsqlcustproductcharge$gnvprodchargelogicallydeleted() and ( ( cpc.start_dat <= periodenddate or periodenddate is null) and (cpc.end_dat >= periodstartdate or cpc.end_dat is null) ) order by start_dat",
                      "select cpc.* from custproductcharge cpc where cpc.customer_ref = cv_customerref and cpc.product_seq = cv_productseq::bigint and (gnvgen$datcompare(cpc.start_dat, cv_newtermdate) <= 0) and (gnvgen$datcompare(cpc.end_dat, cv_newtermdate) >= 0) and cpc.charge_type = cv_thechargetype and (cpc.cpc_status <> gnvintproductcharging$gnvprodchargelogicallydeleted()) order by cpc.account_num desc, cpc.start_dat desc, cpc.budget_centre_seq desc for update",
                      "select cpd.account_num, cpd.start_dat, cpd.end_dat, cpd.tax_inclusive_boo from custproductdetails cpd where cpd.customer_ref = p_customerref and cpd.product_seq = p_productseq::bigint and cpd.domain_id = p_domainid::integer and (cpd.start_dat <=trunc(p_enddtm) or p_enddtm is null) and (cpd.end_dat >= trunc(p_startdtm) or cpd.end_dat is null) and exists (select 1 from account where account_num = cpd.account_num and domain_id = p_domainid) order by cpd.start_dat",
                      "select cpd.end_dat from custproductdetails cpd where cpd.customer_ref = customerref and cpd.product_seq = productseq::bigint order by cpd.start_dat desc",
                      "select cps.effective_dtm from custproductstatus cps where cps.customer_ref = customerref and cps.product_seq = productseq::bigint and cps.product_status = gnvintproductstatus$gnvprodstatusterminated()",
                      "select cptd.tariff_id ,cptd.product_quantity ,acc.account_num ,acc.currency_code ,acc.invoicing_co_id ,greatest(cpd.start_dat,cptd.start_dat,cpsok.cps_start_dtm) start_dtm ,least(coalesce(cpd.end_dat, to_date($10,$11) ),coalesce(cptd.end_dat, to_date($12, $13) )) end_dat ,coalesce(cpstx.cps_end_dtm, to_date($14,$15) ) end_dtm ,cpd.community_group_id ,cptd.prorate_initial_period_boo ,cptd.start_dat, nvl(cptd.end_dat, to_date($16,$17)), cptd.stop_additional_validity_boo from custproducttariffdetails cptd join custproductdetails cpd on cpd.customer_ref = cptd.customer_ref and cpd.product_seq = cptd.product_seq and cpd.domain_id = cptd.domain_id join account acc on acc.account_num = cpd.account_num and acc.domain_id = cpd.domain_id join (select customer_ref ,product_seq ,domain_id ,min(effective_dtm) cps_start_dtm from custproductstatus where customer_ref = $1 and product_seq = $2 and domain_id = $3 and (product_status = $18 or product_status = $19) group by customer_ref, product_seq, domain_id) cpsok on cpsok.customer_ref = cpd.customer_ref and cpsok.product_seq = cpd.product_seq and cpsok.domain_id = cpd.domain_id left join (select customer_ref ,product_seq ,domain_id ,min(effective_dtm) cps_end_dtm from custproductstatus where customer_ref = $4 and product_seq = $5 and domain_id = $6 and product_status = $20 group by customer_ref, product_seq, domain_id) cpstx on cpstx.customer_ref = cpsok.customer_ref and cpstx.product_seq = cpsok.product_seq where greatest(cpd.start_dat, cptd.start_dat,cpsok.cps_start_dtm) <= coalesce(cpstx.cps_end_dtm, to_date($21,$22) ) and greatest(cpd.start_dat,cptd.start_dat) <= least(coalesce(cpd.end_dat, to_date($23,$24)),coalesce(cptd.end_dat, to_date($25,$26) )) and cptd.customer_ref = $7 and cptd.product_seq = $8 and cptd.domain_id = $9 order by 6 asc, 7 asc",
                      "select cptd.tariff_id from custproducttariffdetails cptd where cptd.customer_ref = p_customerref and cptd.product_seq = p_productseq::bigint and (cptd.start_dat <= p_enddtm or p_enddtm is null) and (cptd.end_dat >= p_startdtm or cptd.end_dat is null)",
                      "select current_database() as function_cat, n.nspname as function_schem, p.proname as function_name, d.description as remarks, case when (format_type(p.prorettype, $1) = $2) then $3 when (substring(pg_get_function_result(p.oid) from $4 for $5) = $6) or (substring(pg_get_function_result(p.oid) from $7 for $8) = $9) then $10 else $11 end as function_type, p.proname || $12 || p.oid as specific_name from pg_catalog.pg_proc p inner join pg_catalog.pg_namespace n on p.pronamespace=n.oid left join pg_catalog.pg_description d on p.oid=d.objoid where $13 and p.prokind=$14 and n.nspname like $15 and p.proname like $16 order by function_schem, function_name, p.oid::text",
                      "select current_schema()",
                      "select default_prod_lifetime, default_prod_lifetime_unit from tariffelement where product_id = productid and tariff_id = tariffid and catalogue_change_id = catalogueid and start_dat <= trunc(startdate) and coalesce(end_dat, startdate) >= trunc(startdate)",
                      "select distinct * from ( select account_num, start_dat from custproductdetails where customer_ref = p_customerref and product_seq = p_productseq::bigint and domain_id = p_domainid::integer and start_dat > p_actiondat union all select account_num, start_dat from custproductdetails where customer_ref = p_customerref and product_seq = p_productseq::bigint and domain_id = p_domainid::integer and (p_actiondat >= start_dat and (end_dat is null or p_actiondat <= end_dat)) ) t order by start_dat",
                      "select domain_id from account where account_num = p_accountnum",
                      "select domaingroup.start_domain_id , domaingroup.end_domain_id from domaingroup domaingroup where domaingroup.domain_group_id=$1",
                      "select effective_dtm from ais_custproductstatus /* upgrade rbm9.0 - replaced pvcustproductstatus to pvcustproductstatus2 -4-sep-2017 - chote */ where customer_ref = v_customerref and product_seq = productseq_arr[$26] and product_status = $27",
                      "select event_type from publiceventconsumer",
                      "select exists ( select $5 from eventtypemapping m inner join publiceventconsumer c on m.public_type = c.event_type where m.private_type = p_event_type )",
                      "select exists ( select $5 from publiceventconsumer where event_type = p_event_type )",
                      "select gnvaccaction$lockaccountrows(accountnum)",
                      "select gnvaccaction$thresholdtriggered(p_accountnum, $62, $63, $64, $65, $66, $67, $68, $69, v_oldcreditlimitmny, p_newcreditlimitmny)",
                      "select gnvassert$assert(p_boo => (p_val is not null and p_val::text <> $4), p_geneva_error_num => p_geneva_error_num, p_geneva_error_context => p_geneva_error_context)",
                      "select gnvassert$assert(p_boo =>(p_val is not null and p_val::text <> $4), p_geneva_error_num => p_geneva_error_num, p_geneva_error_context => p_geneva_error_context)",
                      "select gnvcustbillingoffersvalidate$validateaccountsundersrccust(p_customerref)",
                      "select gnvextkey$insertphysicalpaymentextname1nc(physicalcustomerref, physicalpayseq::bigint, physpayname, nc_gen_short_murmurhash3_64(physpayname))",
                      "select gnvinstrumentation$endinstrumentation($1, $2)",
                      "select gnvinstrumentation$startinstrumentation($1, $2)",
                      "select gnvintaccountdetails$package_initialize($1)",
                      "select gnvintaccountdetails$selectiveupdatedaterange(p_accountnum, p_fromdat, p_uptodat, v_taxstatus, p_newbillperiod, p_newbillperiodunits, p_newbillstyleid, p_newpaymentmethodid, p_newbillingcontactseq, p_newcreditclassid, p_newcreditlimitmny, p_newaccountingmethod, p_newbillhandlingcode, p_newpackagediscaccountnum, p_neweventdiscaccountnum, p_newbillsperstatement, p_newdefaultserviceaddressseq, p_newdonateddiscountcpsid, p_eventdeletionmode, p_reguidedeventdelmode, p_maskeventsonbillboo, p_maskeventsinstoreboo, p_maskreguidedonbillboo, p_maskreguidedinstoreboo, p_ticketboo, p_prodchargeprofileid, p_eventtidemark, p_rechargepaymentsboo, p_billdayofthemonth, p_currencymode, p_currencyconvcalday, p_autodepallocforoiaboo, p_paymentautocreateboo, p_excesspymtallocforoiaboo, p_negativeinvallocforoiaboo, p_updateforaccounttransfer )",
                      "select gnvintproductattributes$modifycustprodattrint( customerref, productseq, attributesubidarr, changefromdate, changeuptodate, oldvaluearr, newvaluearr, p_isbulkattrboo, v_isupdateordel)",
                      "select gnvintproductcharging$modifytermdates(customerref, productseq, v_effectivedat, newenddate, gnvintproductcharging$gnvchargetypeinitiation() ::smallint)",
                      "select gnvintproductcharging$setcustprodchargedates(p_customerref, p_productseq, v_oldenddtm, --pr 46892 passing in the non-truncated date $21, $22, $23, $24, v_newproductenddate, v_newproductenddate)",
                      "select gnvintproductstatus$modifyproductsdates(p_customerref => p_customerref, p_productseq => p_productseq, p_oldeffectivedtm => p_oldstartdatetime, p_neweffectivedtm => p_newstartdatetime, p_startdatetimeboo => $35, p_contractrec => v_contractrec, p_earlytermboo => v_wantetschargesboo, p_addonsuperbehaviourboo => p_addonsuperbehaviour, p_issuperaddoncall => p_issuperaddoncall, p_issupermodifycall => p_issupermodifycall, p_applytoproducthierarchy => p_applytohierarchyboo, p_overrideprodtrfrules => p_overrideprodtrfrules, p_overridevalforpm => p_overridevalforpm)",
                      "select gnvintproductstatus$modifyproductsdates(p_customerref, -- customer p_productseq, -- product $34, -- products old termination date time p_startdatetime, -- products new termination date time $35, -- changing the start date? p_addonsuperbehaviourboo, p_issuperaddoncall, $36, $37, v_contractrec, -- contract record required v_wantearlychargeboo, $38, p_overrideprodtrfrules, p_overridevalforpm)",
                      "select gnvintproductstatus$setcustprodeventsrcdates(p_customerref, p_productseq, v_affecteddtm, $23, $24, $25, v_newenddtm)",
                      "select gnvprdcpdumanagerequest$createorupdatecpdurequest( p_customerref, p_productseq, p_newdat,p_domainid)",
                      "select gnvprdjobhasfile$updatejobhasfileintnc ( $1 , $2 , $3 , $4 , $5 , $6 )",
                      "select gnvprdproductattributes$modifycustproductattr( customerref => customerref, productseq => productseq, attributesubidarr => attributesubidarr, changefromdate => changefromdate, changeuptodate => changeuptodate, oldvaluearr => oldvaluearr, newvaluearr => newvaluearr, p_isbulkattrboo => v_p_includeattrboo)",
                      "select gnvprdproductstatus$createcustprodstatus( p_customerref => p_customerref, p_productseq => p_productseq, p_startdatetime => p_startdatetime, p_nextstatusdatetime => p_nextstatusdatetime, p_productstatus => p_productstatus, p_statusreason => p_statusreason, p_earlytermsurchargeboo => p_earlytermsurchargeboo, p_applytoproductheirarchyboo => p_applytoproductheirarchyboo, p_addonsuperbehaviourboo => $9, -- this parameter is added for 2270 enhancement and is default to 'f' as the public pl/sql apis will not support the parent product date changes when the peer product dates are changed. this parameter will be used only by eca. p_issuperaddoncall => $10)",
                      "select gnvprdproductstatus$modifycustprodstatus( p_customerref, p_productseq, p_productstatus, p_oldstartdatetime, p_oldstatusreason, p_newstartdatetime, p_newstatusreason, p_earlytermsurchargeboo, v_addonsuperbehaviourboo, v_issuperaddoncall, v_issupermodifycall, p_applytoproducthierarchyboo )",
                      "select gnvprdproductstatus$modifycustprodtermdtm(p_customerref, v_productseq, p_oldeffectivedtm, p_neweffectivedtm, v_parentproductboo, p_addonsuperbehaviourboo, p_issuperaddoncall, p_issupermodifycall, $24, p_overridevalforpm)",
                      "select gnvprdproductstatus$modifycustprodtermdtm(p_customerref, v_productseq, v_oldproductterm, p_neweffectivedtm, v_parentproductboo, p_addonsuperbehaviourboo, p_issuperaddoncall, p_issupermodifycall, $28, p_overridevalforpm)",
                      "select gnvproductattributes$modifycustprodattr4nc( customerref , productseq , attributesubidarr , changefromdate , changeuptodate , oldvaluearr , newvaluearr )",
                      "select gnvproductfetch$set_v_billingofferid( gnvcustbillingoffersvalidate$getofferidforcustomer(customerref))",
                      "select id id , epoch epoch , domain_id domain_id , payload_format payload_format , payload payload , create_time create_time , update_time update_time , status status , retry_count retry_count from outboundmessagev2 where epoch >= $1 and epoch <= $2 and status = $3 and coalesce(update_time,$9) < $4 and random_work_hash >= $5 and random_work_hash < $6 and release_version = $8 order by epoch asc limit $7 for update skip locked",
                      "select integer_value from gparams where name = param_name and start_dtm <= today and upper(type) = upper($6) order by start_dtm desc",
                      "select invoicing_co_id, vat_reg_required_boo, tax_exempt_boo from contractedpointofsupply where cps_id = cpsid",
                      "select max(effective_dtm) from ais_custproductstatus /* upgrade rbm9.0 - replaced pvcustproductstatus to pvcustproductstatus2 -4-sep-2017 - chote */ where customer_ref = v_customerref and product_seq = productseq_arr[$26] and product_status = $27",
                      "select min(cps.effective_dtm) from custproductstatus cps where cps.customer_ref = p_customerref and cps.product_seq = p_productseq::bigint and cps.product_status = gnvintproductstatus$gnvprodstatusactive()",
                      "select min(effective_dtm) from ais_custproductstatus /* upgrade rbm9.0 - replaced pvcustproductstatus to pvcustproductstatus2 -4-sep-2017 - chote */ where customer_ref = v_customerref and product_seq = productseq_arr[$26] and product_status = $27",
                      "select min(effective_dtm) from ais_custproductstatus where customer_ref = v_customerref and product_seq = productseq_arr[$27] and product_status = $28",
                      "select n.nspname,p.proname,p.prorettype,p.proargtypes, t.typtype,t.typrelid, p.proargnames, p.proargmodes, p.proallargtypes, p.oid from pg_catalog.pg_proc p, pg_catalog.pg_namespace n, pg_catalog.pg_type t where p.pronamespace=n.oid and p.prorettype=t.oid and n.nspname like $1 and p.proname like $2 order by n.nspname, p.proname, p.oid::text",
                      "select nextval($2) where $1 = $3",
                      "select omlv2$createoutboundmessagev2( new.domain_id, v_result.payload, gnvgen$systemdate(), v_result.event_type )",
                      "select one_off_points, recurring_points, event_point_rate from tariffelementband teb, tariffelement te, (with recursive te as(select * from tariff where tariff_id = 39081::integer and catalogue_change_id = 1571::integer union all select t.* from te r join tariff t on t.tariff_id = r.parent_tariff_id and t.catalogue_change_id = 1571::integer )select * from te) t where teb.tariff_id = t.tariff_id and teb.catalogue_change_id = 1571::integer and teb.product_id = 221::integer and teb.product_quantity_threshold <= 1::integer and teb.start_dat = te.start_dat and te.tariff_id = t.tariff_id and te.catalogue_change_id = 1571::integer and te.product_id = 221::integer and te.start_dat = (select max(start_dat) from tariffelement te where te.start_dat <= '2025-10-15' and te.tariff_id = t.tariff_id and te.catalogue_change_id = 1571::integer and te.product_id = 221::integer )",
                      "select p.product_family_id from product p where p.product_id = productid",
                      "select payloadjson::text::bytea as payload, $9::text as event_type",
                      "select pg_database.datname ,pg_database_size(pg_database.datname) from pg_database",
                      "select product_id from ais_custhasproduct where customer_ref = v_customerref and product_seq = productseq_arr[$26]",
                      "select pvjobhasfile3.domain_group_id , pvjobhasfile3.invoicing_co_id , pvjobhasfile3.job_file_number , pvjobhasfile3.job_file_status , pvjobhasfile3.job_id , pvjobhasfile3.last_update_dtm , pvjobhasfile3.managed_file_id , pvjobhasfile3.processed_tidemark , pvjobhasfile3.valid_tidemark from pvjobhasfile3 pvjobhasfile3 where ((((pvjobhasfile3.job_id=$1 )and(pvjobhasfile3.job_file_number>=$2 ))and(pvjobhasfile3.job_file_status<>$3 ))and(pvjobhasfile3.job_file_status<>$4 ))and(pvjobhasfile3.job_file_status<>$5 ) order by pvjobhasfile3.job_file_number asc, pvjobhasfile3.valid_tidemark asc, pvjobhasfile3.managed_file_id desc for update",
                      "select pvnrmjob4.job_status , pvnrmjob4.job_info , pvnrmjob4.job_args , pvnrmjob4.job_id , pvnrmjob4.parent_span_id , pvnrmjob4.trace_id , pvnrmjob4.job_priority , pvnrmjob4.domain_group_id , pvnrmjob4.last_update_dtm , pvnrmjob4.process_instance_id from pvnrmjob4 pvnrmjob4 where (pvnrmjob4.release_version=$1 )and(((((pvnrmjob4.job_type_id=$2 )and((((pvnrmjob4.job_status=$3 )or(pvnrmjob4.job_status=$4 ))or(pvnrmjob4.job_status=$5 ))or((pvnrmjob4.job_status=$6 )and(pvnrmjob4.next_retry_dtm<=$7 ))))and(pvnrmjob4.domain_group_id=$8 ))and(pvnrmjob4.logical_host_name is null ))and($9=$10)) order by pvnrmjob4.created_dtm asc, pvnrmjob4.job_id asc for update skip locked limit $11",
                      "select pvnrmjob4.job_status , pvnrmjob4.job_info , pvnrmjob4.job_args , pvnrmjob4.job_id , pvnrmjob4.parent_span_id , pvnrmjob4.trace_id , pvnrmjob4.job_priority , pvnrmjob4.domain_group_id , pvnrmjob4.last_update_dtm , pvnrmjob4.process_instance_id from pvnrmjob4 pvnrmjob4 where (pvnrmjob4.release_version=$1 )and((((pvnrmjob4.job_type_id=$2 )and((((pvnrmjob4.job_status=$3 )or(pvnrmjob4.job_status=$4 ))or(pvnrmjob4.job_status=$5 ))or((pvnrmjob4.job_status=$6 )and(pvnrmjob4.next_retry_dtm<=$7 ))))and(pvnrmjob4.logical_host_name is null ))and($8=$9)) order by pvnrmjob4.created_dtm asc, pvnrmjob4.job_id asc for update skip locked limit $10",
                      "select round(cast(coalesce(a.available_credit, $2) as decimal)/$3,$4) as available_credit, round(cast(coalesce(b.credit_exposure, $5) as decimal)/$6,$7) as credit_exposure, round(cast(coalesce(b.unbilled_usage, $8) as decimal)/$9,$10) as unbilled_usage, round(cast(coalesce(b.unpaid_spend, $11) as decimal)/$12,$13) as unpaid_spend, c.acc_act_thold_set_desc -- from pvavailablecredit a,pvaccountbalance10 b,pvaccactionthresholdset c,account d from ais_pvavailablecredit a join account d on d.account_num = a.account_num left join ais_pvaccountbalance b on d.account_num = b.account_num left join ais_pvaccactionthresholdset c on d.acc_act_thold_set_id = c.acc_act_thold_set_id where d.account_num = pin_acctnbr",
                      "select set_config($1,$2::text,$3)",
                      "select set_config($1,gnvgen$gnvintegrityerror()::text,$2)",
                      "select set_config($2, gnvgen$createerrormessage(gnvpaymisc$gnvpayaccountexisterror(), $3, gnvgen$tostr(accountnum)), $4)",
                      "select set_config($2, value::text, $3)",
                      "select set_config($6,v_errormsg::text,$7)",
                      "select string_value from gparams where name = param_name and start_dtm <= today and upper(type) = $6 order by start_dtm desc",
                      "select string_value from gparams where name = param_name and start_dtm <= today and upper(type) = $9 order by start_dtm desc",
                      "select sum( case br.ignore_tax_mny_boo when $33 then (coalesce(br.invoice_mny, $34) + coalesce(br.invoice_tax_mny, $35)) else coalesce(br.invoice_mny, $36) end) from billreceivable br,receivableclass rc where br.account_num = accountnum and br.receivable_class_id = rc.receivable_class_id and br.bill_seq = billseq and br.bill_version = (select max(bill_version) from billreceivable where account_num = accountnum and bill_seq = billseq) and (receivableclassid is null or br.receivable_class_id = receivableclassid) and (groupid is null or rc.group_id = groupid) and ((coalesce(br.receivables_group_attr_1,$37) || gnvintpay$gc_delimiter() || coalesce(br.receivables_group_attr_2,$38) || gnvintpay$gc_delimiter() || coalesce(br.receivables_group_attr_3,$39) || gnvintpay$gc_delimiter() || coalesce(br.receivables_group_attr_4,$40)|| gnvintpay$gc_delimiter() || coalesce(br.receivables_group_attr_5,$41) || gnvintpay$gc_delimiter() || coalesce(br.receivables_group_attr_6,$42) = v_aggrrecgroupattr) or (v_invoiceleveldebtboo = gnvgen$gnvtruestring() or (v_recvclassleveldebtboo = gnvgen$gnvtruestring()) or (v_invrecvclassleveldebtboo = gnvgen$gnvtruestring())))",
                      "select tariff_id from custproducttariffdetails where customer_ref = customerref and product_seq = productseq::bigint and ((enddat is null or enddat >= start_dat) and (startdat <= end_dat or end_dat is null) )",
                      "select teb.* from tariffelementband teb, tariffelement te where teb.product_id = 220::integer and teb.tariff_id = 39082::integer and teb.catalogue_change_id = 1571::integer and teb.product_quantity_threshold <= 0::integer and teb.start_dat = te.start_dat and te.product_id = 220::integer and te.tariff_id = 39082::integer and te.catalogue_change_id = 1571::integer and te.start_dat = (select max(start_dat) from tariffelement te where te.start_dat <= '2025-10-15' and te.product_id = 220::integer and te.tariff_id = 39082::integer and te.catalogue_change_id = 1571::integer) and (coalesce(te.end_dat,'2025-10-15 04:10:55+07') >= '2025-10-15' ) order by teb.product_quantity_threshold desc",
                      "select uuid, task_uuid, log_filename, error, started_at, work_done, work_failed, last_progress_update_at, is_recovery_required, labels, error_details from work_item where work_item_state != $2 and task_uuid = $1",
                      "select uuid,release_version,task_uuid,is_recovery,is_recovery_required,process_id,attempt_number,priority,created_at,range_number,worker_id,started_at,finished_at,error,log_filename,last_status_update,interrupted_at,interrupted_cause,interrupted_by,state_logs,work_item_state,work_done,work_failed,log_attributes,last_progress_update_at,state_changed_at,labels,exit_code from work_item where task_uuid = $1",
                      "select wi.uuid, wi.is_recovery, wi.range_number, wi.task_uuid, wi.process_id, wi.is_recovery_required, t.spec_command, t.spec_args, t.total_ranges, t.spec_env, t.support_progress_reporting, t.name, wi.retry_count, t.spec_definition from work_item wi, task t where wi.task_uuid = t.uuid and wi.worker_id is null and wi.work_item_state = $1 and wi.started_at is null and wi.interrupted_at is null and wi.release_version = $2 and t.spec_definition = any($3) and (t.delay_to < current_timestamp or t.delay_to is null) order by wi.priority desc, wi.created_at limit $4 for update skip locked",
                      "update accountratingsummary set rated_event_tax_mny = $1, rated_anti_event_count = $2, rated_event_count = $3, rated_event_mny = $4, bill_period_num = $5, cloned_event_num = $6, costedevent_anti_rec_count = $7, costedevent_rec_count = $8, policy_threshold_mny = $9, drop_event_count = $10, drop_unlimited_count = $11, event_seq_num = $12, event_storage_dat = $13, policy_id = $14, pending_otc_tax_mny = $15, last_costed_message_dtm = $16, latest_rated_event_dtm = $17, pending_otc_lines_tax_mny = $18, pending_otc_mny = $19 where (((accountratingsummary.account_num=$20 ) and (accountratingsummary.event_process_group=$21 )) and (accountratingsummary.event_seq=$22 )) and (accountratingsummary.domain_id=$23 )",
                      "update accountratingsummary set rated_event_tax_mny = $1, rated_anti_event_count = $2, rated_event_count = $3, rated_event_mny = $4, bill_period_num = $5, cloned_event_num = $6, costedevent_anti_rec_count = $7, costedevent_rec_count = $8, policy_threshold_mny = $9, drop_event_count = $10, drop_unlimited_count = $11, event_seq_num = $12, event_storage_dat = $13::timestamptz, policy_id = $14, pending_otc_tax_mny = $15, last_costed_message_dtm = $16::timestamptz, latest_rated_event_dtm = $17::timestamptz, pending_otc_lines_tax_mny = $18, pending_otc_mny = $19 where (((accountratingsummary.account_num=$20 ) and (accountratingsummary.event_process_group=$21 )) and (accountratingsummary.event_seq=$22 )) and (accountratingsummary.domain_id=$23 )",
                      "update cc_tbl_dat_oml_message set account_num = $1, customer_ref=$2, external_action_id =$3,threshold_type=$4, threshold_value=$5,account_balance_before_transaction=$6 , account_balance_after_transaction=$7, threshold_direction=$8, threshold_owner=$9, is_from_threshold_set= $10, threshold_set_id =$11 , threshold_number= $12, threshold_money = $13 , credit_limit_before =$14, credit_limit_after=$15 where event_name=$16 and event_type=$17",
                      "update cc_tbl_dat_oml_message set status = $4 where status = $5 and event_name = $1 and event_type = $2 and msg_seq = $3",
                      "update cc_tbl_dat_su_credit_limit set status = 'ok' where mobile_no = v_rec.mobile_no",
                      "update custprodinvoicediscusage set transaction_id = $1, total_authorised_mny = $2, total_partials_usage = $3, event_seq = $4, total_partials_mny = $5, total_otc_mny = $6, total_usage = $7, prod_group_id = $8, tenant_id = $9, account_num = $10, anti_event_count = $11, anti_event_disc_mny = $12, anti_event_disc_usage = $13, bonus_count = $14, carried_over_boo = $15, counter_resets = $16, counter_usage = $17, customer_category = $18, dyn_alloc_charge_data = $19, event_count = $20, external_balance_liid = $21, fast_cache_seq = $22, total_authorised_usage = $23, last_rated_dtm = $24, latest_event_dtm = $25, total_bonus_award = $26, total_discounted_usage = $27, total_discounted_mny = $28 where ((((((custprodinvoicediscusage.customer_ref=$29 ) and (custprodinvoicediscusage.product_seq=$30 )) and (custprodinvoicediscusage.event_discount_id=$31 )) and ((custprodinvoicediscusage.event_source is null ) or (custprodinvoicediscusage.event_source=$32 ))) and (custprodinvoicediscusage.period_num=$33 )) and (custprodinvoicediscusage.event_seq=$34 )) and (custprodinvoicediscusage.domain_id=$35 )",
                      "update custprodinvoicediscusage set transaction_id = $1, total_authorised_mny = $2, total_partials_usage = $3, event_seq = $4, total_partials_mny = $5, total_otc_mny = $6, total_usage = $7, prod_group_id = $8, tenant_id = $9, account_num = $10, anti_event_count = $11, anti_event_disc_mny = $12, anti_event_disc_usage = $13, bonus_count = $14, carried_over_boo = $15, counter_resets = $16, counter_usage = $17, customer_category = $18, dyn_alloc_charge_data = $19, event_count = $20, external_balance_liid = $21, fast_cache_seq = $22, total_authorised_usage = $23, last_rated_dtm = $24::timestamptz, latest_event_dtm = $25::timestamptz, total_bonus_award = $26, total_discounted_usage = $27, total_discounted_mny = $28 where ((((((custprodinvoicediscusage.customer_ref=$29 ) and (custprodinvoicediscusage.product_seq=$30 )) and (custprodinvoicediscusage.event_discount_id=$31 )) and ((custprodinvoicediscusage.event_source is null ) or (custprodinvoicediscusage.event_source=$32 ))) and (custprodinvoicediscusage.period_num=$33 )) and (custprodinvoicediscusage.event_seq=$34 )) and (custprodinvoicediscusage.domain_id=$35 )",
                      "update jobhasfile set job_file_status = p_newjobfilestatus, processed_tidemark = p_newprocessedtidemark, last_update_dtm = p_newlastupdatedtm where job_id = v_jobhasfile.job_id and managed_file_id = v_jobhasfile.managed_file_id and domain_group_id = v_jobhasfile.domain_group_id",
                      "v_bchkdup = exists ( select from cc_tbl_dat_pc_add_info ai, ais_physicalpayment pp where ai.account_num = p_inaccountnum and ai.receipt_number = p_inreceiptnum and pp.payment_method_id = p_inpaymentmethodid and coalesce(ai.payment_attribute_1,$39) = coalesce(p_inpaymentattribute1,$40) and coalesce(ai.payment_attribute_2,$41) = coalesce(p_inpaymentattribute2,$42) and coalesce(ai.payment_attribute_3,$43) = coalesce(p_inpaymentattribute3,$44) and coalesce(ai.payment_attribute_4,$45) = coalesce(p_inpaymentattribute4,$46) and coalesce(ai.payment_attribute_5,$47) = coalesce(p_inpaymentattribute5,$48) and coalesce(ai.payment_received_mny,$49) = coalesce(v_total_mny,$50) and ai.customer_ref = pp.customer_ref and ai.physical_payment_seq = pp.physical_payment_seq )",
                      "with recursive cet as ( select chp.* from custhasproduct chp where product_seq = productseq::bigint and customer_ref = customerref union all select chp.* from custhasproduct chp join cet on ( chp.parent_product_seq = cet.product_seq and chp.customer_ref = customerref) ) select * from cet",
                      "with recursive descendants as (select customer_ref,parent_customer_ref,concatenate_bills_boo from customer where customer_ref = customerref union select c.customer_ref,c.parent_customer_ref,c.concatenate_bills_boo from customer c inner join descendants d on d.parent_customer_ref = c.customer_ref) select customer_ref,concatenate_bills_boo from descendants",
                      "with tables as ( select * from ( select schemaname as schemaname, relname as table_name, ((coalesce(heap_blks_read,$1) + coalesce(idx_blks_read,$2) + coalesce(toast_blks_read,$3) + coalesce(tidx_blks_read,$4))) as from_disk, ((coalesce(heap_blks_hit,$5) + coalesce(idx_blks_hit,$6) + coalesce(toast_blks_hit,$7) + coalesce(tidx_blks_hit,$8))) as from_cache from pg_statio_user_tables ) a where (from_disk + from_cache) > $9 ) select current_database() as datname, schemaname as schemaname, table_name, from_disk, round((from_disk::numeric / (from_disk + from_cache)::numeric)*$10,$11) as disk_hits_perc , round((from_cache::numeric / (from_disk + from_cache)::numeric)*$12,$13) as cache_hits_perc , (from_disk + from_cache) as total_hits from (select * from tables) a order by from_disk desc limit $14"
                    ],
                    "prefix": "All except:",
                    "readOnly": true
                  }
                },
                "properties": [
                  {
                    "id": "custom.hideFrom",
                    "value": {
                      "legend": false,
                      "tooltip": false,
                      "viz": true
                    }
                  }
                ]
              }
            ]
          },
          "gridPos": {
            "h": 14,
            "w": 24,
            "x": 0,
            "y": 4682
          },
          "id": 619,
          "interval": "1m",
          "options": {
            "legend": {
              "calcs": [
                "mean",
                "max"
              ],
              "displayMode": "table",
              "placement": "right",
              "showLegend": true,
              "sortBy": "Mean",
              "sortDesc": true
            },
            "tooltip": {
              "hideZeros": false,
              "maxHeight": 600,
              "mode": "single",
              "sort": "none"
            }
          },
          "pluginVersion": "11.5.2",
          "targets": [
            {
              "datasource": {
                "type": "prometheus",
                "uid": "${datasource}"
              },
              "disableTextWrap": false,
              "editorMode": "builder",
              "expr": "(sum by(query) (increase(sql_pg_queries_v2{col=\"rows\",query=~\"$query_include_regex\",user_name=~\"$user_include_regex\",query!~\"$query_exclude_regex\",user_name!~\"$user_exclude_regex\"}[1m])) > 0) / (sum by(query) (increase(sql_pg_queries_v2{col=\"calls\",query=~\"$query_include_regex\",user_name=~\"$user_include_regex\",query!~\"$query_exclude_regex\",user_name!~\"$user_exclude_regex\"}[1m])) > 0)",
              "fullMetaSearch": false,
              "hide": false,
              "includeNullMetadata": true,
              "instant": false,
              "legendFormat": "__auto",
              "range": true,
              "refId": "B",
              "useBackend": false
            }
          ],
          "title": "Rows returned per call",
          "type": "timeseries"
        }
      ],
      "title": "Queries - time series - filtered",
      "type": "row"
    },
    {
      "collapsed": true,
      "gridPos": {
        "h": 1,
        "w": 24,
        "x": 0,
        "y": 6
      },
      "id": 847,
      "panels": [
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${datasource}"
          },
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "thresholds"
              },
              "custom": {
                "align": "center",
                "cellOptions": {
                  "type": "auto"
                },
                "filterable": true,
                "inspect": true
              },
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green",
                    "value": null
                  },
                  {
                    "color": "red",
                    "value": 80
                  }
                ]
              },
              "unit": "locale"
            },
            "overrides": [
              {
                "matcher": {
                  "id": "byName",
                  "options": "query"
                },
                "properties": [
                  {
                    "id": "custom.align",
                    "value": "left"
                  },
                  {
                    "id": "custom.width",
                    "value": 300
                  }
                ]
              },
              {
                "matcher": {
                  "id": "byName",
                  "options": "user_name"
                },
                "properties": [
                  {
                    "id": "custom.align",
                    "value": "auto"
                  }
                ]
              }
            ]
          },
          "gridPos": {
            "h": 12,
            "w": 24,
            "x": 0,
            "y": 10528
          },
          "id": 846,
          "interval": "1m",
          "options": {
            "cellHeight": "sm",
            "footer": {
              "countRows": false,
              "enablePagination": true,
              "fields": [],
              "reducer": [
                "sum"
              ],
              "show": true
            },
            "frameIndex": 6,
            "showHeader": true,
            "sortBy": [
              {
                "desc": true,
                "displayName": "Calls"
              }
            ]
          },
          "pluginVersion": "11.5.2",
          "targets": [
            {
              "datasource": {
                "type": "prometheus",
                "uid": "${datasource}"
              },
              "disableTextWrap": false,
              "editorMode": "code",
              "expr": "sum by(query, user_name, top) (increase(sql_pg_queries_v2{col=~\"calls\",query=~\"$query_include_regex\", user_name=~\"$user_include_regex\", query!~\"$query_exclude_regex\", user_name!~\"$user_exclude_regex\"}[$__range]))",
              "format": "table",
              "fullMetaSearch": false,
              "includeNullMetadata": true,
              "instant": false,
              "legendFormat": "__auto",
              "range": true,
              "refId": "calls",
              "useBackend": false
            },
            {
              "datasource": {
                "type": "prometheus",
                "uid": "${datasource}"
              },
              "disableTextWrap": false,
              "editorMode": "code",
              "expr": "sum by(query, user_name, top) (increase(sql_pg_queries_v2{col=~\"total_time_ms\",query=~\"$query_include_regex\", user_name=~\"$user_include_regex\", query!~\"$query_exclude_regex\", user_name!~\"$user_exclude_regex\"}[$__range]))",
              "format": "table",
              "fullMetaSearch": false,
              "hide": false,
              "includeNullMetadata": true,
              "instant": false,
              "legendFormat": "__auto",
              "range": true,
              "refId": "total_time_ms",
              "useBackend": false
            },
            {
              "datasource": {
                "type": "prometheus",
                "uid": "${datasource}"
              },
              "disableTextWrap": false,
              "editorMode": "code",
              "expr": "sum by(query, user_name, top) (increase(sql_pg_queries_v2{col=~\"total_io_bytes\",query=~\"$query_include_regex\", user_name=~\"$user_include_regex\", query!~\"$query_exclude_regex\", user_name!~\"$user_exclude_regex\"}[$__range]))",
              "format": "table",
              "fullMetaSearch": false,
              "hide": false,
              "includeNullMetadata": true,
              "instant": false,
              "legendFormat": "__auto",
              "range": true,
              "refId": "total_io_bytes",
              "useBackend": false
            },
            {
              "datasource": {
                "type": "prometheus",
                "uid": "${datasource}"
              },
              "disableTextWrap": false,
              "editorMode": "code",
              "expr": "sum by(query, user_name, top) (increase(sql_pg_queries_v2{col=~\"total_cpu_time_ms\",query=~\"$query_include_regex\", user_name=~\"$user_include_regex\", query!~\"$query_exclude_regex\", user_name!~\"$user_exclude_regex\"}[$__range]))",
              "format": "table",
              "fullMetaSearch": false,
              "hide": false,
              "includeNullMetadata": true,
              "instant": false,
              "legendFormat": "__auto",
              "range": true,
              "refId": "total_cpu_time_ms",
              "useBackend": false
            },
            {
              "datasource": {
                "type": "prometheus",
                "uid": "${datasource}"
              },
              "disableTextWrap": false,
              "editorMode": "code",
              "expr": "sum by(query, user_name, top) (increase(sql_pg_queries_v2{col=~\"plans\",query=~\"$query_include_regex\", user_name=~\"$user_include_regex\", query!~\"$query_exclude_regex\", user_name!~\"$user_exclude_regex\"}[$__range]))",
              "format": "table",
              "fullMetaSearch": false,
              "hide": false,
              "includeNullMetadata": true,
              "instant": false,
              "legendFormat": "__auto",
              "range": true,
              "refId": "plans",
              "useBackend": false
            },
            {
              "datasource": {
                "type": "prometheus",
                "uid": "${datasource}"
              },
              "disableTextWrap": false,
              "editorMode": "code",
              "expr": "sum by(query, user_name, top) (increase(sql_pg_queries_v2{col=~\"rows\",query=~\"$query_include_regex\", user_name=~\"$user_include_regex\", query!~\"$query_exclude_regex\", user_name!~\"$user_exclude_regex\"}[$__range]))",
              "format": "table",
              "fullMetaSearch": false,
              "hide": false,
              "includeNullMetadata": true,
              "instant": false,
              "legendFormat": "__auto",
              "range": true,
              "refId": "rows",
              "useBackend": false
            },
            {
              "datasource": {
                "type": "prometheus",
                "uid": "${datasource}"
              },
              "disableTextWrap": false,
              "editorMode": "code",
              "expr": "sum by(query, user_name, top) (increase(sql_pg_queries_v2{col=~\"plan_time_ms\",query=~\"$query_include_regex\", user_name=~\"$user_include_regex\", query!~\"$query_exclude_regex\", user_name!~\"$user_exclude_regex\"}[$__range]))",
              "format": "table",
              "fullMetaSearch": false,
              "hide": false,
              "includeNullMetadata": true,
              "instant": false,
              "legendFormat": "__auto",
              "range": true,
              "refId": "plan_time_ms",
              "useBackend": false
            },
            {
              "datasource": {
                "type": "prometheus",
                "uid": "${datasource}"
              },
              "disableTextWrap": false,
              "editorMode": "code",
              "expr": "sum by(query, user_name, top) (increase(sql_pg_queries_v2{col=~\"total_plan_cpu_time_ms\",query=~\"$query_include_regex\", user_name=~\"$user_include_regex\", query!~\"$query_exclude_regex\", user_name!~\"$user_exclude_regex\"}[$__range]))",
              "format": "table",
              "fullMetaSearch": false,
              "hide": false,
              "includeNullMetadata": true,
              "instant": false,
              "legendFormat": "__auto",
              "range": true,
              "refId": "total_plan_cpu_time_ms",
              "useBackend": false
            },
            {
              "datasource": {
                "type": "prometheus",
                "uid": "${datasource}"
              },
              "disableTextWrap": false,
              "editorMode": "code",
              "expr": "sum by(query, user_name, top) (increase(sql_pg_queries_v2{col=\"total_blk_read_time_ms\",query=~\"$query_include_regex\", user_name=~\"$user_include_regex\", query!~\"$query_exclude_regex\", user_name!~\"$user_exclude_regex\"}[$__range]))",
              "format": "table",
              "fullMetaSearch": false,
              "hide": false,
              "includeNullMetadata": true,
              "instant": false,
              "legendFormat": "__auto",
              "range": true,
              "refId": "total_blk_read_time_ms",
              "useBackend": false
            },
            {
              "datasource": {
                "type": "prometheus",
                "uid": "${datasource}"
              },
              "disableTextWrap": false,
              "editorMode": "code",
              "expr": "sum by(query, user_name, top) (increase(sql_pg_queries_v2{col=\"total_blk_write_time_ms\",query=~\"$query_include_regex\", user_name=~\"$user_include_regex\", query!~\"$query_exclude_regex\", user_name!~\"$user_exclude_regex\"}[$__range]))",
              "format": "table",
              "fullMetaSearch": false,
              "hide": false,
              "includeNullMetadata": true,
              "instant": false,
              "legendFormat": "__auto",
              "range": true,
              "refId": "total_blk_write_time_ms",
              "useBackend": false
            }
          ],
          "title": "Query stats",
          "transformations": [
            {
              "id": "merge",
              "options": {}
            },
            {
              "id": "groupBy",
              "options": {
                "fields": {
                  "Value #A": {
                    "aggregations": [
                      "lastNotNull"
                    ],
                    "operation": "aggregate"
                  },
                  "Value #B": {
                    "aggregations": [
                      "lastNotNull"
                    ],
                    "operation": "aggregate"
                  },
                  "Value #C": {
                    "aggregations": [
                      "lastNotNull"
                    ],
                    "operation": "aggregate"
                  },
                  "Value #D": {
                    "aggregations": [
                      "lastNotNull"
                    ],
                    "operation": "aggregate"
                  },
                  "Value #E": {
                    "aggregations": [
                      "lastNotNull"
                    ],
                    "operation": "aggregate"
                  },
                  "Value #F": {
                    "aggregations": [
                      "lastNotNull"
                    ],
                    "operation": "aggregate"
                  },
                  "Value #calls": {
                    "aggregations": [
                      "lastNotNull"
                    ],
                    "operation": "aggregate"
                  },
                  "Value #plan_time_ms": {
                    "aggregations": [
                      "lastNotNull"
                    ],
                    "operation": "aggregate"
                  },
                  "Value #plans": {
                    "aggregations": [
                      "lastNotNull"
                    ],
                    "operation": "aggregate"
                  },
                  "Value #rows": {
                    "aggregations": [
                      "lastNotNull"
                    ],
                    "operation": "aggregate"
                  },
                  "Value #total_blk_read_time_ms": {
                    "aggregations": [
                      "lastNotNull"
                    ],
                    "operation": "aggregate"
                  },
                  "Value #total_blk_write_time_ms": {
                    "aggregations": [
                      "lastNotNull"
                    ],
                    "operation": "aggregate"
                  },
                  "Value #total_cpu_time_ms": {
                    "aggregations": [
                      "lastNotNull"
                    ],
                    "operation": "aggregate"
                  },
                  "Value #total_io_bytes": {
                    "aggregations": [
                      "lastNotNull"
                    ],
                    "operation": "aggregate"
                  },
                  "Value #total_plan_cpu_time_ms": {
                    "aggregations": [
                      "lastNotNull"
                    ],
                    "operation": "aggregate"
                  },
                  "Value #total_time_ms": {
                    "aggregations": [
                      "lastNotNull"
                    ],
                    "operation": "aggregate"
                  },
                  "query": {
                    "aggregations": [],
                    "operation": "groupby"
                  },
                  "top": {
                    "aggregations": [],
                    "operation": "groupby"
                  },
                  "user_name": {
                    "aggregations": [],
                    "operation": "groupby"
                  }
                }
              }
            },
            {
              "id": "organize",
              "options": {
                "excludeByName": {},
                "includeByName": {},
                "indexByName": {
                  "Value #calls (lastNotNull)": 3,
                  "Value #plans (lastNotNull)": 7,
                  "Value #rows (lastNotNull)": 8,
                  "Value #total_cpu_time_ms (lastNotNull)": 6,
                  "Value #total_io_bytes (lastNotNull)": 5,
                  "Value #total_time_ms (lastNotNull)": 4,
                  "query": 0,
                  "top": 2,
                  "user_name": 1
                },
                "renameByName": {
                  "Value #calls (lastNotNull)": "Calls",
                  "Value #plan_time_ms (lastNotNull)": "Plan time,ms",
                  "Value #plans (lastNotNull)": "Plans",
                  "Value #rows (lastNotNull)": "Rows",
                  "Value #total_blk_read_time_ms (lastNotNull)": "Block read time, ms",
                  "Value #total_blk_write_time_ms (lastNotNull)": "Block write time, ms",
                  "Value #total_cpu_time_ms (lastNotNull)": "Total CPU time, ms",
                  "Value #total_io_bytes (lastNotNull)": "Total IO, bytes",
                  "Value #total_plan_cpu_time_ms (lastNotNull)": "Plan CPU time, ms",
                  "Value #total_time_ms (lastNotNull)": "Total time, ms",
                  "query": "Query",
                  "top": "",
                  "user_name": "User"
                }
              }
            }
          ],
          "type": "table"
        }
      ],
      "title": "Queries - aggregated table - filtered",
      "type": "row"
    },
    {
      "collapsed": true,
      "gridPos": {
        "h": 1,
        "w": 24,
        "x": 0,
        "y": 7
      },
      "id": 571,
      "panels": [
        {
          "datasource": {
            "type": "prometheus",
            "uid": "PC3E95692D54ABCC0"
          },
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              },
              "custom": {
                "align": "center",
                "cellOptions": {
                  "type": "auto"
                },
                "filterable": true,
                "inspect": true
              },
              "fieldMinMax": false,
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green",
                    "value": null
                  }
                ]
              },
              "unit": "locale"
            },
            "overrides": [
              {
                "matcher": {
                  "id": "byType",
                  "options": "string"
                },
                "properties": [
                  {
                    "id": "custom.align",
                    "value": "left"
                  }
                ]
              },
              {
                "matcher": {
                  "id": "byRegexp",
                  "options": "/.*duration/"
                },
                "properties": [
                  {
                    "id": "unit",
                    "value": "ms"
                  }
                ]
              },
              {
                "matcher": {
                  "id": "byRegexp",
                  "options": "/.*start/"
                },
                "properties": [
                  {
                    "id": "custom.align",
                    "value": "right"
                  }
                ]
              },
              {
                "matcher": {
                  "id": "byName",
                  "options": "SubXacts"
                },
                "properties": [
                  {
                    "id": "custom.width",
                    "value": 117
                  }
                ]
              },
              {
                "matcher": {
                  "id": "byName",
                  "options": "I blocked"
                },
                "properties": [
                  {
                    "id": "custom.width",
                    "value": 106
                  }
                ]
              },
              {
                "matcher": {
                  "id": "byName",
                  "options": "I was blocked"
                },
                "properties": [
                  {
                    "id": "custom.width",
                    "value": 132
                  }
                ]
              },
              {
                "matcher": {
                  "id": "byName",
                  "options": "XID age"
                },
                "properties": [
                  {
                    "id": "custom.width",
                    "value": 116
                  }
                ]
              },
              {
                "matcher": {
                  "id": "byName",
                  "options": "Pid"
                },
                "properties": [
                  {
                    "id": "custom.width",
                    "value": 91
                  }
                ]
              },
              {
                "matcher": {
                  "id": "byName",
                  "options": "Query"
                },
                "properties": [
                  {
                    "id": "custom.width",
                    "value": 420
                  }
                ]
              },
              {
                "matcher": {
                  "id": "byName",
                  "options": "State"
                },
                "properties": [
                  {
                    "id": "custom.width",
                    "value": 101
                  }
                ]
              }
            ]
          },
          "gridPos": {
            "h": 13,
            "w": 24,
            "x": 0,
            "y": 10536
          },
          "id": 805,
          "options": {
            "cellHeight": "sm",
            "footer": {
              "countRows": false,
              "enablePagination": true,
              "fields": "",
              "reducer": [
                "sum"
              ],
              "show": false
            },
            "showHeader": true,
            "sortBy": [
              {
                "desc": true,
                "displayName": "Xact duration"
              }
            ]
          },
          "pluginVersion": "11.5.2",
          "targets": [
            {
              "disableTextWrap": false,
              "editorMode": "code",
              "exemplar": false,
              "expr": "sum by(backend_type, pid_text, query, query_start, state, user_name, wait_event, xact_start) (sql_pg_transactions_v2{col=\"backend_xid_age\", query!~\".*rater.*|.*alloca.*|.*fetch.*\"})",
              "format": "table",
              "fullMetaSearch": false,
              "includeNullMetadata": true,
              "instant": true,
              "legendFormat": "__auto",
              "range": false,
              "refId": "A",
              "useBackend": false
            },
            {
              "datasource": {
                "type": "prometheus",
                "uid": "PC3E95692D54ABCC0"
              },
              "disableTextWrap": false,
              "editorMode": "builder",
              "exemplar": false,
              "expr": "sum by(backend_type, pid_text, query, query_start, state, user_name, wait_event, xact_start) (sql_pg_transactions_v2{col=\"xact_duration_ms\", query!~\".*rater.*|.*alloca.*\"})",
              "format": "table",
              "fullMetaSearch": false,
              "hide": false,
              "includeNullMetadata": true,
              "instant": true,
              "legendFormat": "__auto",
              "range": false,
              "refId": "B",
              "useBackend": false
            },
            {
              "datasource": {
                "type": "prometheus",
                "uid": "PC3E95692D54ABCC0"
              },
              "disableTextWrap": false,
              "editorMode": "builder",
              "exemplar": false,
              "expr": "sum by(backend_type, pid_text, query, query_start, state, user_name, wait_event, xact_start) (sql_pg_transactions_v2{col=\"query_duration_ms\", query!~\".*rater.*|.*alloca.*\"})",
              "format": "table",
              "fullMetaSearch": false,
              "hide": false,
              "includeNullMetadata": true,
              "instant": true,
              "legendFormat": "__auto",
              "range": false,
              "refId": "C",
              "useBackend": false
            },
            {
              "datasource": {
                "type": "prometheus",
                "uid": "PC3E95692D54ABCC0"
              },
              "disableTextWrap": false,
              "editorMode": "builder",
              "exemplar": false,
              "expr": "sum by(backend_type, pid_text, query, query_start, state, user_name, wait_event, xact_start) (sql_pg_transactions_v2{col=\"granted_locks_count\", query!~\".*rater.*|.*alloca.*\"})",
              "format": "table",
              "fullMetaSearch": false,
              "hide": false,
              "includeNullMetadata": true,
              "instant": true,
              "legendFormat": "__auto",
              "range": false,
              "refId": "D",
              "useBackend": false
            },
            {
              "datasource": {
                "type": "prometheus",
                "uid": "PC3E95692D54ABCC0"
              },
              "disableTextWrap": false,
              "editorMode": "builder",
              "exemplar": false,
              "expr": "sum by(backend_type, pid_text, query, query_start, state, user_name, wait_event, xact_start) (sql_pg_transactions_v2{col=\"waiting_locks_count\", query!~\".*rater.*|.*alloca.*\"})",
              "format": "table",
              "fullMetaSearch": false,
              "hide": false,
              "includeNullMetadata": true,
              "instant": true,
              "legendFormat": "__auto",
              "range": false,
              "refId": "E",
              "useBackend": false
            },
            {
              "datasource": {
                "type": "prometheus",
                "uid": "PC3E95692D54ABCC0"
              },
              "disableTextWrap": false,
              "editorMode": "builder",
              "exemplar": false,
              "expr": "sum by(backend_type, pid_text, query, query_start, state, user_name, wait_event, xact_start) (sql_pg_transactions_v2{col=\"blocking_others_count\", query!~\".*rater.*|.*alloca.*\"})",
              "format": "table",
              "fullMetaSearch": false,
              "hide": false,
              "includeNullMetadata": true,
              "instant": true,
              "legendFormat": "__auto",
              "range": false,
              "refId": "F",
              "useBackend": false
            },
            {
              "datasource": {
                "type": "prometheus",
                "uid": "PC3E95692D54ABCC0"
              },
              "disableTextWrap": false,
              "editorMode": "builder",
              "exemplar": false,
              "expr": "sum by(backend_type, pid_text, query, query_start, state, user_name, wait_event, xact_start) (sql_pg_transactions_v2{col=\"blocked_by_count\", query!~\".*rater.*|.*alloca.*\"})",
              "format": "table",
              "fullMetaSearch": false,
              "hide": false,
              "includeNullMetadata": true,
              "instant": true,
              "legendFormat": "__auto",
              "range": false,
              "refId": "G",
              "useBackend": false
            },
            {
              "datasource": {
                "type": "prometheus",
                "uid": "PC3E95692D54ABCC0"
              },
              "disableTextWrap": false,
              "editorMode": "builder",
              "exemplar": false,
              "expr": "sum by(backend_type, pid_text, query, query_start, state, user_name, wait_event, xact_start) (sql_pg_transactions_v2{col=\"current_subtransactions\", query!~\".*rater.*|.*alloca.*\"})",
              "format": "table",
              "fullMetaSearch": false,
              "hide": false,
              "includeNullMetadata": true,
              "instant": true,
              "legendFormat": "__auto",
              "range": false,
              "refId": "H",
              "useBackend": false
            },
            {
              "datasource": {
                "type": "prometheus",
                "uid": "PC3E95692D54ABCC0"
              },
              "disableTextWrap": false,
              "editorMode": "builder",
              "exemplar": false,
              "expr": "sum by(backend_type, pid_text, query, query_start, state, user_name, wait_event, xact_start) (sql_pg_transactions_v2{col=\"backend_xmin_age\", query!~\".*rater.*|.*alloca.*\"})",
              "format": "table",
              "fullMetaSearch": false,
              "hide": false,
              "includeNullMetadata": true,
              "instant": true,
              "legendFormat": "__auto",
              "range": false,
              "refId": "I",
              "useBackend": false
            }
          ],
          "title": "Current state of selected client transactions",
          "transformations": [
            {
              "id": "merge",
              "options": {}
            },
            {
              "id": "groupBy",
              "options": {
                "fields": {
                  "Value #A": {
                    "aggregations": [
                      "lastNotNull"
                    ],
                    "operation": "aggregate"
                  },
                  "Value #B": {
                    "aggregations": [
                      "lastNotNull"
                    ],
                    "operation": "aggregate"
                  },
                  "Value #C": {
                    "aggregations": [
                      "lastNotNull"
                    ],
                    "operation": "aggregate"
                  },
                  "Value #D": {
                    "aggregations": [
                      "lastNotNull"
                    ],
                    "operation": "aggregate"
                  },
                  "Value #E": {
                    "aggregations": [
                      "lastNotNull"
                    ],
                    "operation": "aggregate"
                  },
                  "Value #F": {
                    "aggregations": [
                      "lastNotNull"
                    ],
                    "operation": "aggregate"
                  },
                  "Value #G": {
                    "aggregations": [
                      "lastNotNull"
                    ],
                    "operation": "aggregate"
                  },
                  "Value #H": {
                    "aggregations": [
                      "lastNotNull"
                    ],
                    "operation": "aggregate"
                  },
                  "Value #I": {
                    "aggregations": [
                      "lastNotNull"
                    ],
                    "operation": "aggregate"
                  },
                  "backend_type": {
                    "aggregations": [],
                    "operation": "groupby"
                  },
                  "pid_text": {
                    "aggregations": [],
                    "operation": "groupby"
                  },
                  "query": {
                    "aggregations": [],
                    "operation": "groupby"
                  },
                  "query_start": {
                    "aggregations": [],
                    "operation": "groupby"
                  },
                  "state": {
                    "aggregations": [],
                    "operation": "groupby"
                  },
                  "user_name": {
                    "aggregations": [],
                    "operation": "groupby"
                  },
                  "wait_event": {
                    "aggregations": [],
                    "operation": "groupby"
                  },
                  "xact_start": {
                    "aggregations": [],
                    "operation": "groupby"
                  }
                }
              }
            },
            {
              "id": "organize",
              "options": {
                "excludeByName": {
                  "backend_type": true
                },
                "includeByName": {},
                "indexByName": {
                  "Value #A (lastNotNull)": 11,
                  "Value #B (lastNotNull)": 9,
                  "Value #C (lastNotNull)": 8,
                  "Value #D (lastNotNull)": 13,
                  "Value #E (lastNotNull)": 14,
                  "Value #F (lastNotNull)": 15,
                  "Value #G (lastNotNull)": 16,
                  "Value #H (lastNotNull)": 10,
                  "Value #I (lastNotNull)": 12,
                  "backend_type": 2,
                  "pid_text": 3,
                  "query": 1,
                  "query_start": 6,
                  "state": 4,
                  "user_name": 0,
                  "wait_event": 5,
                  "xact_start": 7
                },
                "renameByName": {
                  "Value #A (lastNotNull)": "XID age",
                  "Value #B (lastNotNull)": "Xact duration",
                  "Value #C (lastNotNull)": "Query duration",
                  "Value #D (lastNotNull)": "Granted locks",
                  "Value #E (lastNotNull)": "Waiting 4 locks",
                  "Value #F (lastNotNull)": "I blocked",
                  "Value #G (lastNotNull)": "I was blocked",
                  "Value #H (lastNotNull)": "SubXacts",
                  "Value #I (lastNotNull)": "Xmin age",
                  "backend_type": "BE type",
                  "pid_text": "Pid",
                  "query": "Query",
                  "query_start": "Query start",
                  "state": "State",
                  "user_name": "User",
                  "wait_event": "Event",
                  "xact_start": "Xact start"
                }
              }
            }
          ],
          "type": "table"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "PC3E95692D54ABCC0"
          },
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              },
              "custom": {
                "axisBorderShow": false,
                "axisCenteredZero": false,
                "axisColorMode": "text",
                "axisLabel": "",
                "axisPlacement": "auto",
                "barAlignment": 0,
                "barWidthFactor": 0.6,
                "drawStyle": "line",
                "fillOpacity": 9,
                "gradientMode": "none",
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "viz": false
                },
                "insertNulls": false,
                "lineInterpolation": "linear",
                "lineWidth": 1,
                "pointSize": 5,
                "scaleDistribution": {
                  "type": "linear"
                },
                "showPoints": "auto",
                "spanNulls": false,
                "stacking": {
                  "group": "A",
                  "mode": "none"
                },
                "thresholdsStyle": {
                  "mode": "off"
                }
              },
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green",
                    "value": null
                  },
                  {
                    "color": "red",
                    "value": 80
                  }
                ]
              },
              "unit": "dtdurationms"
            },
            "overrides": []
          },
          "gridPos": {
            "h": 15,
            "w": 12,
            "x": 0,
            "y": 10549
          },
          "id": 806,
          "interval": "1m",
          "options": {
            "legend": {
              "calcs": [
                "max"
              ],
              "displayMode": "table",
              "placement": "bottom",
              "showLegend": true,
              "sortBy": "Max",
              "sortDesc": true
            },
            "tooltip": {
              "hideZeros": false,
              "mode": "single",
              "sort": "none"
            }
          },
          "pluginVersion": "11.5.2",
          "targets": [
            {
              "disableTextWrap": false,
              "editorMode": "code",
              "expr": "sum by(query, user_name, xact_start) (sql_pg_transactions_v2{col=\"xact_duration_ms\", query!~\".*rater.*|.*alloca.*|.*vacuum.*\"}) > 10000",
              "fullMetaSearch": false,
              "includeNullMetadata": true,
              "legendFormat": "{{query}} | {{user_name}}",
              "range": true,
              "refId": "A",
              "useBackend": false
            }
          ],
          "title": "Transaction execution time",
          "type": "timeseries"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "PC3E95692D54ABCC0"
          },
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              },
              "custom": {
                "axisBorderShow": false,
                "axisCenteredZero": false,
                "axisColorMode": "text",
                "axisLabel": "",
                "axisPlacement": "auto",
                "barAlignment": 0,
                "barWidthFactor": 0.6,
                "drawStyle": "line",
                "fillOpacity": 9,
                "gradientMode": "none",
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "viz": false
                },
                "insertNulls": false,
                "lineInterpolation": "linear",
                "lineWidth": 1,
                "pointSize": 5,
                "scaleDistribution": {
                  "type": "linear"
                },
                "showPoints": "auto",
                "spanNulls": false,
                "stacking": {
                  "group": "A",
                  "mode": "none"
                },
                "thresholdsStyle": {
                  "mode": "off"
                }
              },
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green",
                    "value": null
                  },
                  {
                    "color": "red",
                    "value": 80
                  }
                ]
              },
              "unit": "dtdurationms"
            },
            "overrides": []
          },
          "gridPos": {
            "h": 15,
            "w": 12,
            "x": 12,
            "y": 10549
          },
          "id": 786,
          "interval": "1m",
          "options": {
            "legend": {
              "calcs": [
                "max"
              ],
              "displayMode": "table",
              "placement": "bottom",
              "showLegend": true,
              "sortBy": "Max",
              "sortDesc": true
            },
            "tooltip": {
              "hideZeros": false,
              "mode": "single",
              "sort": "none"
            }
          },
          "pluginVersion": "11.5.2",
          "targets": [
            {
              "disableTextWrap": false,
              "editorMode": "code",
              "expr": "sum by(query, user_name, query_start) (sql_pg_transactions_v2{col=\"query_duration_ms\", query!~\".*rater.*|.*alloca.*|.*vacuum.*\"}) > 10000",
              "fullMetaSearch": false,
              "includeNullMetadata": true,
              "legendFormat": "{{query}} | {{user_name}}",
              "range": true,
              "refId": "A",
              "useBackend": false
            }
          ],
          "title": "Query execution time",
          "type": "timeseries"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${datasource}"
          },
          "description": "",
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              },
              "custom": {
                "axisBorderShow": false,
                "axisCenteredZero": false,
                "axisColorMode": "text",
                "axisLabel": "",
                "axisPlacement": "auto",
                "barAlignment": 0,
                "barWidthFactor": 0.6,
                "drawStyle": "line",
                "fillOpacity": 0,
                "gradientMode": "none",
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "viz": false
                },
                "insertNulls": false,
                "lineInterpolation": "linear",
                "lineWidth": 1,
                "pointSize": 5,
                "scaleDistribution": {
                  "type": "linear"
                },
                "showPoints": "auto",
                "spanNulls": false,
                "stacking": {
                  "group": "A",
                  "mode": "none"
                },
                "thresholdsStyle": {
                  "mode": "off"
                }
              },
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green",
                    "value": null
                  },
                  {
                    "color": "red",
                    "value": 80
                  }
                ]
              },
              "unit": "short"
            },
            "overrides": []
          },
          "gridPos": {
            "h": 15,
            "w": 24,
            "x": 0,
            "y": 10564
          },
          "id": 688,
          "interval": "1m",
          "options": {
            "legend": {
              "calcs": [],
              "displayMode": "table",
              "placement": "bottom",
              "showLegend": false,
              "sortBy": "Name",
              "sortDesc": false
            },
            "tooltip": {
              "hideZeros": false,
              "maxHeight": 600,
              "mode": "single",
              "sort": "none"
            }
          },
          "pluginVersion": "11.5.2",
          "targets": [
            {
              "datasource": {
                "type": "prometheus",
                "uid": "${datasource}"
              },
              "disableTextWrap": false,
              "editorMode": "builder",
              "expr": "sum by() (sql_pg_cluster_v2{col=\"current_xid\"})",
              "fullMetaSearch": false,
              "includeNullMetadata": true,
              "instant": false,
              "legendFormat": "__auto",
              "range": true,
              "refId": "A",
              "useBackend": false
            },
            {
              "datasource": {
                "type": "prometheus",
                "uid": "${datasource}"
              },
              "disableTextWrap": false,
              "editorMode": "builder",
              "expr": "sum by(user_name, query, col, query_start, pid_text) (sql_pg_long_running_v2{col=~\"backend_xmin|backend_xid\", query!~\".*raterdata.*\", user_name!=\"system user\"}) > 0",
              "fullMetaSearch": false,
              "hide": false,
              "includeNullMetadata": true,
              "instant": false,
              "legendFormat": "{{query}} | {{user_name}}",
              "range": true,
              "refId": "B",
              "useBackend": false
            },
            {
              "datasource": {
                "type": "prometheus",
                "uid": "${datasource}"
              },
              "disableTextWrap": false,
              "editorMode": "builder",
              "expr": "sum by(user_name, query, col, query_start, pid_text, ) (sql_pg_long_running_v2{col=~\"backend_xmin|backend_xid\", query!~\".*raterdata.*\", user_name!=\"system user\"}) > 0",
              "fullMetaSearch": false,
              "hide": false,
              "includeNullMetadata": true,
              "instant": false,
              "legendFormat": "{{query}} | {{user_name}}",
              "range": true,
              "refId": "C",
              "useBackend": false
            }
          ],
          "title": "Current XID and backend xmin per query per query_start",
          "type": "timeseries"
        }
      ],
      "title": "Top current transactions",
      "type": "row"
    },
    {
      "collapsed": true,
      "gridPos": {
        "h": 1,
        "w": 24,
        "x": 0,
        "y": 8
      },
      "id": 790,
      "panels": [
        {
          "datasource": {
            "type": "prometheus",
            "uid": "PC3E95692D54ABCC0"
          },
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "thresholds"
              },
              "custom": {
                "align": "center",
                "cellOptions": {
                  "type": "auto"
                },
                "filterable": true,
                "inspect": true
              },
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green",
                    "value": null
                  },
                  {
                    "color": "red",
                    "value": 80
                  }
                ]
              },
              "unit": "locale"
            },
            "overrides": [
              {
                "matcher": {
                  "id": "byName",
                  "options": "pid_text"
                },
                "properties": [
                  {
                    "id": "custom.width",
                    "value": 95
                  }
                ]
              },
              {
                "matcher": {
                  "id": "byName",
                  "options": "query_start"
                },
                "properties": [
                  {
                    "id": "custom.width",
                    "value": 280
                  }
                ]
              },
              {
                "matcher": {
                  "id": "byName",
                  "options": "state"
                },
                "properties": [
                  {
                    "id": "custom.width",
                    "value": 111
                  }
                ]
              },
              {
                "matcher": {
                  "id": "byName",
                  "options": "wait_event"
                },
                "properties": [
                  {
                    "id": "custom.width",
                    "value": 133
                  }
                ]
              },
              {
                "matcher": {
                  "id": "byName",
                  "options": "xact_start"
                },
                "properties": [
                  {
                    "id": "custom.width",
                    "value": 312
                  }
                ]
              },
              {
                "matcher": {
                  "id": "byName",
                  "options": "pid_text"
                },
                "properties": [
                  {
                    "id": "unit",
                    "value": "string"
                  }
                ]
              },
              {
                "matcher": {
                  "id": "byRegexp",
                  "options": "/.*duration/"
                },
                "properties": [
                  {
                    "id": "unit",
                    "value": "ms"
                  }
                ]
              },
              {
                "matcher": {
                  "id": "byType",
                  "options": "string"
                },
                "properties": [
                  {
                    "id": "custom.align",
                    "value": "left"
                  }
                ]
              },
              {
                "matcher": {
                  "id": "byRegexp",
                  "options": "/.*start/"
                },
                "properties": [
                  {
                    "id": "unit",
                    "value": "dateTimeAsSystem"
                  },
                  {
                    "id": "custom.align",
                    "value": "right"
                  }
                ]
              },
              {
                "matcher": {
                  "id": "byName",
                  "options": "query"
                },
                "properties": [
                  {
                    "id": "custom.width",
                    "value": 268
                  }
                ]
              },
              {
                "matcher": {
                  "id": "byName",
                  "options": "Query"
                },
                "properties": [
                  {
                    "id": "custom.width",
                    "value": 344
                  }
                ]
              }
            ]
          },
          "gridPos": {
            "h": 26,
            "w": 24,
            "x": 0,
            "y": 10580
          },
          "id": 812,
          "interval": "1m",
          "options": {
            "cellHeight": "sm",
            "footer": {
              "countRows": false,
              "enablePagination": true,
              "fields": "",
              "reducer": [
                "sum"
              ],
              "show": false
            },
            "showHeader": true,
            "sortBy": [
              {
                "desc": true,
                "displayName": "Query duration"
              }
            ]
          },
          "pluginVersion": "11.5.2",
          "targets": [
            {
              "disableTextWrap": false,
              "editorMode": "code",
              "exemplar": false,
              "expr": "max by(backend_type, pid_text, query, query_start, user_name,xact_start) (max_over_time(sql_pg_transactions_v2{col=\"query_duration_ms\", query!~\".*vacuum.*|.*rater.*|.*alloca.*\"}[$__range]))",
              "format": "table",
              "fullMetaSearch": false,
              "includeNullMetadata": true,
              "instant": true,
              "legendFormat": "__auto",
              "range": false,
              "refId": "A",
              "useBackend": false
            },
            {
              "datasource": {
                "type": "prometheus",
                "uid": "PC3E95692D54ABCC0"
              },
              "disableTextWrap": false,
              "editorMode": "code",
              "exemplar": false,
              "expr": "max by(backend_type, pid_text, query, query_start, user_name, xact_start) (max_over_time(sql_pg_transactions_v2{col=\"xact_duration_ms\", query!~\".*vacuum.*|.*rater.*|.*alloca.*\"}[$__range]))",
              "format": "table",
              "fullMetaSearch": false,
              "hide": false,
              "includeNullMetadata": true,
              "instant": true,
              "legendFormat": "__auto",
              "range": false,
              "refId": "B",
              "useBackend": false
            },
            {
              "datasource": {
                "type": "prometheus",
                "uid": "PC3E95692D54ABCC0"
              },
              "disableTextWrap": false,
              "editorMode": "code",
              "exemplar": false,
              "expr": "max by(backend_type, pid_text, query, query_start, user_name, xact_start) (max_over_time(sql_pg_transactions_v2{col=\"current_subtransactions\", query!~\".*vacuum.*|.*rater.*|.*alloca.*\"}[$__range]))",
              "format": "table",
              "fullMetaSearch": false,
              "hide": false,
              "includeNullMetadata": true,
              "instant": true,
              "legendFormat": "__auto",
              "range": false,
              "refId": "C",
              "useBackend": false
            },
            {
              "datasource": {
                "type": "prometheus",
                "uid": "PC3E95692D54ABCC0"
              },
              "disableTextWrap": false,
              "editorMode": "code",
              "exemplar": false,
              "expr": "max by(backend_type, pid_text, query, query_start, user_name, xact_start) (max_over_time(sql_pg_transactions_v2{col=\"backend_xid_age\", query!~\".*vacuum.*|.*rater.*|.*alloca.*\"}[$__range]))",
              "format": "table",
              "fullMetaSearch": false,
              "hide": false,
              "includeNullMetadata": true,
              "instant": true,
              "legendFormat": "__auto",
              "range": false,
              "refId": "D",
              "useBackend": false
            },
            {
              "datasource": {
                "type": "prometheus",
                "uid": "PC3E95692D54ABCC0"
              },
              "disableTextWrap": false,
              "editorMode": "code",
              "exemplar": false,
              "expr": "max by(backend_type, pid_text, query, query_start, user_name, xact_start) (max_over_time(sql_pg_transactions_v2{col=\"backend_xmin_age\", query!~\".*vacuum.*|.*rater.*|.*alloca.*\"}[$__range]))",
              "format": "table",
              "fullMetaSearch": false,
              "hide": false,
              "includeNullMetadata": true,
              "instant": true,
              "legendFormat": "__auto",
              "range": false,
              "refId": "E",
              "useBackend": false
            },
            {
              "datasource": {
                "type": "prometheus",
                "uid": "PC3E95692D54ABCC0"
              },
              "disableTextWrap": false,
              "editorMode": "code",
              "exemplar": false,
              "expr": "max by(backend_type, pid_text, query, query_start, user_name, xact_start) (max_over_time(sql_pg_transactions_v2{col=\"blocked_by_count\", query!~\".*vacuum.*|.*rater.*|.*alloca.*\"}[$__range]))",
              "format": "table",
              "fullMetaSearch": false,
              "hide": false,
              "includeNullMetadata": true,
              "instant": true,
              "legendFormat": "__auto",
              "range": false,
              "refId": "F",
              "useBackend": false
            },
            {
              "datasource": {
                "type": "prometheus",
                "uid": "PC3E95692D54ABCC0"
              },
              "disableTextWrap": false,
              "editorMode": "code",
              "exemplar": false,
              "expr": "max by(backend_type, pid_text, query, query_start, user_name, xact_start) (max_over_time(sql_pg_transactions_v2{col=\"blocking_others_count\", query!~\".*vacuum.*|.*rater.*|.*alloca.*\"}[$__range]))",
              "format": "table",
              "fullMetaSearch": false,
              "hide": false,
              "includeNullMetadata": true,
              "instant": true,
              "legendFormat": "__auto",
              "range": false,
              "refId": "G",
              "useBackend": false
            },
            {
              "datasource": {
                "type": "prometheus",
                "uid": "PC3E95692D54ABCC0"
              },
              "disableTextWrap": false,
              "editorMode": "code",
              "exemplar": false,
              "expr": "max by(backend_type, pid_text, query, query_start, user_name, xact_start) (max_over_time(sql_pg_transactions_v2{col=\"granted_locks_count\", query!~\".*vacuum.*|.*rater.*|.*alloca.*\"}[$__range]))",
              "format": "table",
              "fullMetaSearch": false,
              "hide": false,
              "includeNullMetadata": true,
              "instant": true,
              "legendFormat": "__auto",
              "range": false,
              "refId": "H",
              "useBackend": false
            },
            {
              "datasource": {
                "type": "prometheus",
                "uid": "PC3E95692D54ABCC0"
              },
              "disableTextWrap": false,
              "editorMode": "code",
              "exemplar": false,
              "expr": "max by(backend_type, pid_text, query, query_start, user_name, xact_start) (max_over_time(sql_pg_transactions_v2{col=\"waiting_locks_count\", query!~\".*vacuum.*|.*rater.*|.*alloca.*\"}[$__range]))",
              "format": "table",
              "fullMetaSearch": false,
              "hide": false,
              "includeNullMetadata": true,
              "instant": true,
              "legendFormat": "__auto",
              "range": false,
              "refId": "I",
              "useBackend": false
            }
          ],
          "title": "Transaction log, does not reflect current state",
          "transformations": [
            {
              "id": "merge",
              "options": {}
            },
            {
              "id": "groupBy",
              "options": {
                "fields": {
                  "Value": {
                    "aggregations": [
                      "lastNotNull"
                    ],
                    "operation": "aggregate"
                  },
                  "Value #A": {
                    "aggregations": [
                      "lastNotNull"
                    ],
                    "operation": "aggregate"
                  },
                  "Value #B": {
                    "aggregations": [
                      "lastNotNull"
                    ],
                    "operation": "aggregate"
                  },
                  "Value #C": {
                    "aggregations": [
                      "lastNotNull"
                    ],
                    "operation": "aggregate"
                  },
                  "Value #D": {
                    "aggregations": [
                      "lastNotNull"
                    ],
                    "operation": "aggregate"
                  },
                  "Value #E": {
                    "aggregations": [
                      "lastNotNull"
                    ],
                    "operation": "aggregate"
                  },
                  "Value #F": {
                    "aggregations": [
                      "lastNotNull"
                    ],
                    "operation": "aggregate"
                  },
                  "Value #G": {
                    "aggregations": [
                      "lastNotNull"
                    ],
                    "operation": "aggregate"
                  },
                  "Value #H": {
                    "aggregations": [
                      "lastNotNull"
                    ],
                    "operation": "aggregate"
                  },
                  "Value #I": {
                    "aggregations": [
                      "lastNotNull"
                    ],
                    "operation": "aggregate"
                  },
                  "backend_type": {
                    "aggregations": [],
                    "operation": "groupby"
                  },
                  "pid_text": {
                    "aggregations": [],
                    "operation": "groupby"
                  },
                  "query": {
                    "aggregations": [],
                    "operation": "groupby"
                  },
                  "query_start": {
                    "aggregations": [],
                    "operation": "groupby"
                  },
                  "state": {
                    "aggregations": [],
                    "operation": "groupby"
                  },
                  "user_name": {
                    "aggregations": [],
                    "operation": "groupby"
                  },
                  "wait_event": {
                    "aggregations": [],
                    "operation": "groupby"
                  },
                  "xact_start": {
                    "aggregations": [],
                    "operation": "groupby"
                  }
                }
              }
            },
            {
              "id": "organize",
              "options": {
                "excludeByName": {
                  "backend_type": true
                },
                "includeByName": {},
                "indexByName": {
                  "Value #A (lastNotNull)": 6,
                  "Value #B (lastNotNull)": 7,
                  "backend_type": 0,
                  "pid_text": 2,
                  "query": 3,
                  "query_start": 4,
                  "user_name": 1,
                  "xact_start": 5
                },
                "renameByName": {
                  "Value #A (lastNotNull)": "Query duration",
                  "Value #B (lastNotNull)": "Xact duration",
                  "Value #C (lastNotNull)": "Subtrans",
                  "Value #D (lastNotNull)": "XID age",
                  "Value #E (lastNotNull)": "Xmin age",
                  "Value #F (lastNotNull)": "I was blocked",
                  "Value #G (lastNotNull)": "I blocked",
                  "Value #H (lastNotNull)": "Granted",
                  "Value #I (lastNotNull)": "Waiting",
                  "backend_type": "",
                  "pid_text": "Pid",
                  "query": "Query",
                  "query_start": "Query start",
                  "user_name": "User",
                  "xact_start": "Xact start"
                }
              }
            }
          ],
          "type": "table"
        }
      ],
      "title": "Transaction log",
      "type": "row"
    },
    {
      "collapsed": true,
      "gridPos": {
        "h": 1,
        "w": 24,
        "x": 0,
        "y": 9
      },
      "id": 782,
      "panels": [
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${datasource}"
          },
          "description": "",
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              },
              "custom": {
                "axisBorderShow": false,
                "axisCenteredZero": false,
                "axisColorMode": "text",
                "axisLabel": "",
                "axisPlacement": "auto",
                "barAlignment": 0,
                "barWidthFactor": 0.6,
                "drawStyle": "line",
                "fillOpacity": 0,
                "gradientMode": "none",
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "viz": false
                },
                "insertNulls": false,
                "lineInterpolation": "linear",
                "lineWidth": 1,
                "pointSize": 5,
                "scaleDistribution": {
                  "type": "linear"
                },
                "showPoints": "auto",
                "spanNulls": false,
                "stacking": {
                  "group": "A",
                  "mode": "none"
                },
                "thresholdsStyle": {
                  "mode": "off"
                }
              },
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green",
                    "value": null
                  },
                  {
                    "color": "red",
                    "value": 80
                  }
                ]
              },
              "unit": "locale"
            },
            "overrides": []
          },
          "gridPos": {
            "h": 11,
            "w": 12,
            "x": 0,
            "y": 10581
          },
          "id": 710,
          "interval": "1m",
          "options": {
            "legend": {
              "calcs": [
                "sum"
              ],
              "displayMode": "table",
              "placement": "bottom",
              "showLegend": true,
              "sortBy": "Total",
              "sortDesc": true
            },
            "tooltip": {
              "hideZeros": false,
              "maxHeight": 600,
              "mode": "single",
              "sort": "none"
            }
          },
          "pluginVersion": "11.5.2",
          "targets": [
            {
              "datasource": {
                "type": "prometheus",
                "uid": "${datasource}"
              },
              "disableTextWrap": false,
              "editorMode": "code",
              "expr": "sum by(query, query_start) (sql_pg_long_running_v2{col=~\"current_subtransactions\",query=~\"$query_include_regex\", user_name=~\"$user_include_regex\", query!~\"$query_exclude_regex\", user_name!~\"$user_exclude_regex\"}) > 0",
              "fullMetaSearch": false,
              "includeNullMetadata": true,
              "instant": false,
              "legendFormat": "{{query}}",
              "range": true,
              "refId": "A",
              "useBackend": false
            }
          ],
          "title": "Subtransactions per query execution",
          "type": "timeseries"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${datasource}"
          },
          "description": "",
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "thresholds"
              },
              "custom": {
                "align": "auto",
                "cellOptions": {
                  "type": "auto"
                },
                "inspect": false
              },
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green",
                    "value": null
                  },
                  {
                    "color": "red",
                    "value": 256
                  }
                ]
              }
            },
            "overrides": [
              {
                "matcher": {
                  "id": "byName",
                  "options": "query"
                },
                "properties": [
                  {
                    "id": "custom.width",
                    "value": 704
                  }
                ]
              }
            ]
          },
          "gridPos": {
            "h": 11,
            "w": 12,
            "x": 12,
            "y": 10581
          },
          "id": 843,
          "interval": "1m",
          "options": {
            "cellHeight": "sm",
            "footer": {
              "countRows": false,
              "enablePagination": true,
              "fields": "",
              "reducer": [
                "sum"
              ],
              "show": false
            },
            "showHeader": true,
            "sortBy": [
              {
                "desc": true,
                "displayName": "Value (lastNotNull)"
              }
            ]
          },
          "pluginVersion": "11.5.2",
          "targets": [
            {
              "datasource": {
                "type": "prometheus",
                "uid": "${datasource}"
              },
              "disableTextWrap": false,
              "editorMode": "code",
              "exemplar": false,
              "expr": "max by(query, pid_text, user_name) (max_over_time(sql_pg_long_running_v2{col=~\"current_subtransactions\",query=~\"$query_include_regex\", user_name=~\"$user_include_regex\", query!~\"$query_exclude_regex\", user_name!~\"$user_exclude_regex\"}[$__range])) > 0",
              "format": "table",
              "fullMetaSearch": false,
              "includeNullMetadata": true,
              "instant": false,
              "legendFormat": "__auto",
              "range": true,
              "refId": "A",
              "useBackend": false
            }
          ],
          "title": "Subtransactions history (max by query)",
          "transformations": [
            {
              "id": "groupBy",
              "options": {
                "fields": {
                  "Time": {
                    "aggregations": []
                  },
                  "Value": {
                    "aggregations": [
                      "lastNotNull"
                    ],
                    "operation": "aggregate"
                  },
                  "query": {
                    "aggregations": [],
                    "operation": "groupby"
                  },
                  "user_name": {
                    "aggregations": [],
                    "operation": "groupby"
                  }
                }
              }
            }
          ],
          "type": "table"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${datasource}"
          },
          "description": "",
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "thresholds"
              },
              "custom": {
                "align": "auto",
                "cellOptions": {
                  "type": "auto"
                },
                "inspect": false
              },
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green",
                    "value": null
                  },
                  {
                    "color": "red",
                    "value": 256
                  }
                ]
              }
            },
            "overrides": [
              {
                "matcher": {
                  "id": "byName",
                  "options": "query"
                },
                "properties": [
                  {
                    "id": "custom.width",
                    "value": 298
                  }
                ]
              }
            ]
          },
          "gridPos": {
            "h": 22,
            "w": 5,
            "x": 0,
            "y": 10592
          },
          "id": 783,
          "interval": "1m",
          "options": {
            "cellHeight": "sm",
            "footer": {
              "countRows": false,
              "fields": "",
              "reducer": [
                "sum"
              ],
              "show": false
            },
            "showHeader": true,
            "sortBy": [
              {
                "desc": true,
                "displayName": "Value (lastNotNull)"
              }
            ]
          },
          "pluginVersion": "11.5.2",
          "targets": [
            {
              "datasource": {
                "type": "prometheus",
                "uid": "${datasource}"
              },
              "disableTextWrap": false,
              "editorMode": "builder",
              "exemplar": false,
              "expr": "max by(query, pid_text) (sql_pg_long_running_v2{col=~\"current_subtransactions\"}) > 0",
              "format": "table",
              "fullMetaSearch": false,
              "includeNullMetadata": true,
              "instant": true,
              "legendFormat": "__auto",
              "range": false,
              "refId": "A",
              "useBackend": false
            }
          ],
          "title": "Subtransactions right now (max per query|pid)",
          "transformations": [
            {
              "id": "groupBy",
              "options": {
                "fields": {
                  "Value": {
                    "aggregations": [
                      "lastNotNull"
                    ],
                    "operation": "aggregate"
                  },
                  "query": {
                    "aggregations": [],
                    "operation": "groupby"
                  }
                }
              }
            }
          ],
          "type": "table"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${datasource}"
          },
          "description": "",
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "thresholds"
              },
              "custom": {
                "fillOpacity": 70,
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "viz": false
                },
                "lineWidth": 1
              },
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green",
                    "value": null
                  },
                  {
                    "color": "red",
                    "value": 255
                  }
                ]
              }
            },
            "overrides": [
              {
                "matcher": {
                  "id": "byName",
                  "options": "Value"
                },
                "properties": []
              }
            ]
          },
          "gridPos": {
            "h": 11,
            "w": 19,
            "x": 5,
            "y": 10592
          },
          "id": 781,
          "interval": "1m",
          "options": {
            "colWidth": 0.9,
            "legend": {
              "displayMode": "list",
              "placement": "bottom",
              "showLegend": false
            },
            "rowHeight": 0.9,
            "showValue": "auto",
            "tooltip": {
              "hideZeros": false,
              "mode": "single",
              "sort": "none"
            }
          },
          "pluginVersion": "11.5.2",
          "targets": [
            {
              "datasource": {
                "type": "prometheus",
                "uid": "${datasource}"
              },
              "disableTextWrap": false,
              "editorMode": "builder",
              "expr": "sum by(query) (sql_pg_long_running_v2{col=~\"current_subtransactions\"}) > 0",
              "fullMetaSearch": false,
              "hide": true,
              "includeNullMetadata": true,
              "instant": false,
              "legendFormat": "__auto",
              "range": true,
              "refId": "A",
              "useBackend": false
            },
            {
              "datasource": {
                "type": "prometheus",
                "uid": "${datasource}"
              },
              "disableTextWrap": false,
              "editorMode": "builder",
              "expr": "avg by(query) (sql_pg_long_running_v2{col=~\"current_subtransactions\"}) > 0",
              "fullMetaSearch": false,
              "hide": true,
              "includeNullMetadata": true,
              "instant": false,
              "legendFormat": "__auto",
              "range": true,
              "refId": "B",
              "useBackend": false
            },
            {
              "datasource": {
                "type": "prometheus",
                "uid": "${datasource}"
              },
              "disableTextWrap": false,
              "editorMode": "code",
              "expr": "label_replace(\r\n  max by (query) (\r\n    sql_pg_transactions_v2{col=~\"current_subtransactions\",query=~\"$query_include_regex\", user_name=~\"$user_include_regex\", query!~\"$query_exclude_regex\", user_name!~\"$user_exclude_regex\"}\r\n  ),\r\n  \"legend\", \"$1\", \"query\", \"^(.{1,100}).*$\"\r\n) > 0\r\n",
              "fullMetaSearch": false,
              "hide": false,
              "includeNullMetadata": true,
              "instant": false,
              "legendFormat": "{{legend}}",
              "range": true,
              "refId": "C",
              "useBackend": false
            }
          ],
          "title": "Subtransactions per query (red means 256+)",
          "type": "status-history"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${datasource}"
          },
          "description": "",
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "thresholds"
              },
              "custom": {
                "fillOpacity": 70,
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "viz": false
                },
                "lineWidth": 1
              },
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green",
                    "value": null
                  },
                  {
                    "color": "red",
                    "value": 255
                  }
                ]
              }
            },
            "overrides": []
          },
          "gridPos": {
            "h": 11,
            "w": 19,
            "x": 5,
            "y": 10603
          },
          "id": 792,
          "interval": "1m",
          "options": {
            "colWidth": 0.9,
            "legend": {
              "displayMode": "list",
              "placement": "bottom",
              "showLegend": false
            },
            "rowHeight": 0.9,
            "showValue": "always",
            "tooltip": {
              "hideZeros": false,
              "mode": "single",
              "sort": "none"
            }
          },
          "pluginVersion": "11.5.2",
          "targets": [
            {
              "datasource": {
                "type": "prometheus",
                "uid": "${datasource}"
              },
              "disableTextWrap": false,
              "editorMode": "builder",
              "expr": "sum by(user_name, ) (sql_pg_long_running_v2{col=~\"current_subtransactions\"}) > 0",
              "fullMetaSearch": false,
              "hide": true,
              "includeNullMetadata": true,
              "instant": false,
              "legendFormat": "__auto",
              "range": true,
              "refId": "A",
              "useBackend": false
            },
            {
              "datasource": {
                "type": "prometheus",
                "uid": "${datasource}"
              },
              "disableTextWrap": false,
              "editorMode": "code",
              "expr": "max by(user_name) (sql_pg_transactions_v2{col=~\"current_subtransactions\",query=~\"$query_include_regex\", user_name=~\"$user_include_regex\", query!~\"$query_exclude_regex\", user_name!~\"$user_exclude_regex\"}) > 0",
              "fullMetaSearch": false,
              "hide": false,
              "includeNullMetadata": true,
              "instant": false,
              "legendFormat": "__auto",
              "range": true,
              "refId": "B",
              "useBackend": false
            },
            {
              "datasource": {
                "type": "prometheus",
                "uid": "${datasource}"
              },
              "disableTextWrap": false,
              "editorMode": "code",
              "expr": "label_replace(\r\n  max by (query) (\r\n    sql_pg_long_running_v2{col=~\"current_subtransactions\"}\r\n  ),\r\n  \"legend\", \"$1\", \"query\", \"^(.{1,100}).*$\"\r\n) > 0\r\n",
              "fullMetaSearch": false,
              "hide": true,
              "includeNullMetadata": true,
              "instant": false,
              "legendFormat": "{{legend}}",
              "range": true,
              "refId": "C",
              "useBackend": false
            }
          ],
          "title": "Subtransactions per user (red means 256+)",
          "transformations": [
            {
              "id": "organize",
              "options": {}
            }
          ],
          "type": "status-history"
        }
      ],
      "title": "Subtransactions filtered",
      "type": "row"
    },
    {
      "collapsed": true,
      "gridPos": {
        "h": 1,
        "w": 24,
        "x": 0,
        "y": 10
      },
      "id": 820,
      "panels": [
        {
          "datasource": {
            "type": "prometheus",
            "uid": "PC3E95692D54ABCC0"
          },
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "thresholds"
              },
              "custom": {
                "align": "auto",
                "cellOptions": {
                  "type": "auto"
                },
                "filterable": true,
                "inspect": true
              },
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green",
                    "value": null
                  },
                  {
                    "color": "red",
                    "value": 80
                  }
                ]
              }
            },
            "overrides": [
              {
                "matcher": {
                  "id": "byName",
                  "options": "Query"
                },
                "properties": [
                  {
                    "id": "custom.width",
                    "value": 628
                  }
                ]
              }
            ]
          },
          "gridPos": {
            "h": 10,
            "w": 24,
            "x": 0,
            "y": 10532
          },
          "id": 821,
          "options": {
            "cellHeight": "sm",
            "footer": {
              "countRows": false,
              "enablePagination": true,
              "fields": "",
              "reducer": [
                "sum"
              ],
              "show": false
            },
            "showHeader": true,
            "sortBy": [
              {
                "desc": false,
                "displayName": "tuple_details"
              }
            ]
          },
          "pluginVersion": "11.5.2",
          "targets": [
            {
              "disableTextWrap": false,
              "editorMode": "code",
              "exemplar": false,
              "expr": "sum by(granted, lock_type, mode, pid, query, user_name, table_name, tuple_details, tuple_id) (sql_pg_x_locks_v2{query=~\"$query_include_regex\", user_name=~\"$user_include_regex\", query!~\"$query_exclude_regex\", user_name!~\"$user_exclude_regex\"})",
              "format": "table",
              "fullMetaSearch": false,
              "includeNullMetadata": true,
              "instant": true,
              "legendFormat": "__auto",
              "range": false,
              "refId": "A",
              "useBackend": false
            }
          ],
          "title": "Current locks",
          "transformations": [
            {
              "id": "organize",
              "options": {
                "excludeByName": {
                  "Time": true,
                  "Value": false
                },
                "includeByName": {},
                "indexByName": {
                  "Time": 0,
                  "Value": 10,
                  "granted": 6,
                  "lock_type": 4,
                  "mode": 5,
                  "pid": 3,
                  "query": 2,
                  "table_name": 7,
                  "tuple_details": 8,
                  "tuple_id": 9,
                  "user_name": 1
                },
                "renameByName": {
                  "lock_type": "",
                  "pid": "pid",
                  "query": "Query",
                  "user_name": "User"
                }
              }
            }
          ],
          "type": "table"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "PC3E95692D54ABCC0"
          },
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "continuous-GrYlRd"
              },
              "custom": {
                "fillOpacity": 70,
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "viz": false
                },
                "insertNulls": false,
                "lineWidth": 0,
                "spanNulls": false
              },
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green",
                    "value": null
                  },
                  {
                    "color": "red",
                    "value": 80
                  }
                ]
              }
            },
            "overrides": [
              {
                "__systemRef": "hideSeriesFrom",
                "matcher": {
                  "id": "byNames",
                  "options": {
                    "mode": "exclude",
                    "names": [
                      "aaf_component",
                      "aaf_historical_password",
                      "aaf_perm_class_map",
                      "aaf_property",
                      "aaf_resource_perm",
                      "aaf_role",
                      "aaf_role_member",
                      "aaf_role_resource_perm",
                      "aaf_user",
                      "aaf_user_attribute",
                      "aaf_user_member",
                      "abstractplugin",
                      "abstractplugin_key_name",
                      "abstractplugin_name_key",
                      "abstractplugininput",
                      "abstractpluginoutput",
                      "accactionthreshold",
                      "accactionthresholdset",
                      "accactthreset_key_name",
                      "accactthreset_name_key",
                      "accessgroup",
                      "accessgroupmember",
                      "account",
                      "accountdetails",
                      "accountingperiod",
                      "accountpayment",
                      "accountpayment_key_name",
                      "accountpayment_name_key",
                      "accountrating",
                      "accountratingsummary",
                      "action",
                      "action_key_name",
                      "action_name_key",
                      "actionparamdata",
                      "actionparamdata_key_name",
                      "actionparamdata_name_key",
                      "actionparamvalue",
                      "actiontype",
                      "actiontype_key_name",
                      "actiontype_name_key",
                      "actiontypeparam",
                      "activityrule",
                      "activityrule_key_name",
                      "activityrule_name_key",
                      "address",
                      "address_key_name",
                      "address_name_key",
                      "addressformat",
                      "addressformat_key_name",
                      "addressformat_name_key",
                      "addressformatitem",
                      "adjtypeattributes_key_name",
                      "adjtypeattributes_name_key",
                      "adjustmenttype",
                      "adjustmenttype_key_name",
                      "adjustmenttype_name_key",
                      "adjustmenttypeattributes",
                      "aegcataloguechange",
                      "agedependentprice",
                      "agedependentprice_key_name",
                      "agedependentprice_name_key",
                      "agedependentpriceband",
                      "agedeppricev2_key_name",
                      "agedeppricev2_name_key",
                      "allocationtobill",
                      "amfattributetype",
                      "amfattrtypetotable",
                      "amfcluster",
                      "amfclustertohost",
                      "amfclustertype",
                      "amfcomponent",
                      "amfcomponentargument",
                      "amfcomponenttype",
                      "amfcomponenttypeargument",
                      "amfcomptypetosutype",
                      "amfcsiattribute",
                      "amfservicegroup",
                      "amfservicegroupargument",
                      "amfservicegrouptype",
                      "amfserviceunit",
                      "amfserviceunittype",
                      "amfsgtypetoclustertype",
                      "amftable",
                      "announcementdef",
                      "announcementdef_key_name",
                      "announcementdef_name_key",
                      "async_operation_catsync",
                      "attributeset",
                      "attributeset_key_name",
                      "attributeset_name_key",
                      "attributesetattribute",
                      "attributesetnamespace",
                      "attributetype",
                      "attributetype_key_name",
                      "attributetype_name_key",
                      "attributevaluelist",
                      "attronlinereamapping",
                      "attrsetattribute_key_name",
                      "attrsetattribute_name_key",
                      "attrsetnamespace_key_name",
                      "attrsetnamespace_name_key",
                      "audittrail",
                      "audittransaction",
                      "audittransactionaction",
                      "audittransactionclass",
                      "balancemodifact_key_name",
                      "balancemodifact_name_key",
                      "balancemodificationaction",
                      "bandingmodel",
                      "bandingmodel_key_name",
                      "bandingmodel_name_key",
                      "bandingmodelv2_key_name",
                      "bandingmodelv2_name_key",
                      "basetimerate",
                      "billhaslatefeeschedule",
                      "billsummary",
                      "cancelbillcustpc",
                      "catalogueaudit",
                      "cc_tbl_dat_inv_bm_rerun_hist",
                      "cc_tbl_dat_late_cdr",
                      "cc_tbl_dat_oml_message",
                      "cc_tbl_dat_online_tr",
                      "cc_tbl_dat_pc_add_info",
                      "cc_tbl_dat_pc_excess_payment",
                      "cc_tbl_dat_transaction_change",
                      "cc_tbl_dat_up_filelog",
                      "cc_tbl_dat_up_filelog_fail",
                      "cc_tbl_dat_up_sortlog",
                      "cc_tbl_dat_usage_file_ind",
                      "cc_tbl_dat_variables",
                      "chargesegment",
                      "chargesegmentv2_key_name",
                      "chargesegmentv2_name_key",
                      "compositepredicate",
                      "contactdetails",
                      "costband",
                      "costbandv2_key_name",
                      "costbandv2_name_key",
                      "costcode",
                      "cpdumanagerequest",
                      "custeventsource",
                      "custfilterelement",
                      "custhasproduct",
                      "custhasproduct_key_name",
                      "custhasproduct_name_key",
                      "custoverrideprice",
                      "custoverriderate",
                      "custprodaddonratedetails",
                      "custprodextendedattrdet",
                      "custprodinvoicediscusage",
                      "custprodratingdiscount",
                      "custproductaddress",
                      "custproductattrdetails",
                      "custproductcharge",
                      "custproductdetails",
                      "custproducteventtypes",
                      "custproductstatus",
                      "custproducttariffdetails",
                      "debtagerequest",
                      "eventsourceusage",
                      "filegrouplog",
                      "jobhasfile",
                      "krai_account_nrm_all",
                      "managedfile",
                      "nrmjob",
                      "ongoingtransactions",
                      "paysettlementaction",
                      "physicalpayment",
                      "physicalpayment_key_name",
                      "physicalpayment_name_key",
                      "ratingcatalogue",
                      "rdbcostedeventv1_250920000_250921000",
                      "rdbcostedeventv1_250924000_250925000",
                      "rdbcostedeventv1_250928000_250929000",
                      "rdbcostedeventv1_251001000_251002000",
                      "rdbcostedeventv1_251004000_251005000",
                      "rdbcostedeventv1_251008000_251009000",
                      "rdbcostedeventv1_251012000_251013000",
                      "rdbcostedeventv1_251016000_251017000",
                      "reraterequest",
                      "tmppaymentallocation",
                      "vhbandmap"
                    ],
                    "prefix": "All except:",
                    "readOnly": true
                  }
                },
                "properties": []
              }
            ]
          },
          "gridPos": {
            "h": 22,
            "w": 12,
            "x": 0,
            "y": 12801
          },
          "id": 815,
          "interval": "1m",
          "options": {
            "alignValue": "left",
            "legend": {
              "displayMode": "list",
              "placement": "bottom",
              "showLegend": true
            },
            "mergeValues": true,
            "rowHeight": 0.9,
            "showValue": "auto",
            "tooltip": {
              "hideZeros": false,
              "mode": "single",
              "sort": "none"
            }
          },
          "pluginVersion": "11.5.2",
          "targets": [
            {
              "editorMode": "code",
              "expr": "sum by(granted, lock_type, mode, pid, query, user_name, table_name, tuple_details, tuple_id) (sql_pg_x_locks_v2)",
              "hide": true,
              "legendFormat": "__auto",
              "range": true,
              "refId": "A"
            },
            {
              "datasource": {
                "type": "prometheus",
                "uid": "PC3E95692D54ABCC0"
              },
              "disableTextWrap": false,
              "editorMode": "code",
              "expr": "sum by(table_name) (sql_pg_x_locks_v2{query=~\"$query_include_regex\", user_name=~\"$user_include_regex\", query!~\"$query_exclude_regex\", user_name!~\"$user_exclude_regex\"\r\n})",
              "fullMetaSearch": false,
              "hide": false,
              "includeNullMetadata": true,
              "legendFormat": "__auto",
              "range": true,
              "refId": "B",
              "useBackend": false
            }
          ],
          "title": "Table locks",
          "type": "state-timeline"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "PC3E95692D54ABCC0"
          },
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "continuous-GrYlRd"
              },
              "custom": {
                "fillOpacity": 70,
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "viz": false
                },
                "insertNulls": false,
                "lineWidth": 0,
                "spanNulls": false
              },
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green",
                    "value": null
                  },
                  {
                    "color": "red",
                    "value": 80
                  }
                ]
              }
            },
            "overrides": [
              {
                "__systemRef": "hideSeriesFrom",
                "matcher": {
                  "id": "byNames",
                  "options": {
                    "mode": "exclude",
                    "names": [
                      "aaf_component",
                      "aaf_historical_password",
                      "aaf_perm_class_map",
                      "aaf_property",
                      "aaf_resource_perm",
                      "aaf_role",
                      "aaf_role_member",
                      "aaf_role_resource_perm",
                      "aaf_user",
                      "aaf_user_attribute",
                      "aaf_user_member",
                      "abstractplugin",
                      "abstractplugin_key_name",
                      "abstractplugin_name_key",
                      "abstractplugininput",
                      "abstractpluginoutput",
                      "accactionthreshold",
                      "accactionthresholdset",
                      "accactthreset_key_name",
                      "accactthreset_name_key",
                      "accessgroup",
                      "accessgroupmember",
                      "account",
                      "accountdetails",
                      "accountingperiod",
                      "accountpayment",
                      "accountpayment_key_name",
                      "accountpayment_name_key",
                      "accountrating",
                      "accountratingsummary",
                      "action",
                      "action_key_name",
                      "action_name_key",
                      "actionparamdata",
                      "actionparamdata_key_name",
                      "actionparamdata_name_key",
                      "actionparamvalue",
                      "actiontype",
                      "actiontype_key_name",
                      "actiontype_name_key",
                      "actiontypeparam",
                      "activityrule",
                      "activityrule_key_name",
                      "activityrule_name_key",
                      "address",
                      "address_key_name",
                      "address_name_key",
                      "addressformat",
                      "addressformat_key_name",
                      "addressformat_name_key",
                      "addressformatitem",
                      "adjtypeattributes_key_name",
                      "adjtypeattributes_name_key",
                      "adjustmenttype",
                      "adjustmenttype_key_name",
                      "adjustmenttype_name_key",
                      "adjustmenttypeattributes",
                      "aegcataloguechange",
                      "agedependentprice",
                      "agedependentprice_key_name",
                      "agedependentprice_name_key",
                      "agedependentpriceband",
                      "agedeppricev2_key_name",
                      "agedeppricev2_name_key",
                      "allocationtobill",
                      "amfattributetype",
                      "amfattrtypetotable",
                      "amfcluster",
                      "amfclustertohost",
                      "amfclustertype",
                      "amfcomponent",
                      "amfcomponentargument",
                      "amfcomponenttype",
                      "amfcomponenttypeargument",
                      "amfcomptypetosutype",
                      "amfcsiattribute",
                      "amfservicegroup",
                      "amfservicegroupargument",
                      "amfservicegrouptype",
                      "amfserviceunit",
                      "amfserviceunittype",
                      "amfsgtypetoclustertype",
                      "amftable",
                      "announcementdef",
                      "announcementdef_key_name",
                      "announcementdef_name_key",
                      "async_operation_catsync",
                      "attributeset",
                      "attributeset_key_name",
                      "attributeset_name_key",
                      "attributesetattribute",
                      "attributesetnamespace",
                      "attributetype",
                      "attributetype_key_name",
                      "attributetype_name_key",
                      "attributevaluelist",
                      "attronlinereamapping",
                      "attrsetattribute_key_name",
                      "attrsetattribute_name_key",
                      "attrsetnamespace_key_name",
                      "attrsetnamespace_name_key",
                      "audittrail",
                      "audittransaction",
                      "audittransactionaction",
                      "audittransactionclass",
                      "balancemodifact_key_name",
                      "balancemodifact_name_key",
                      "balancemodificationaction",
                      "bandingmodel",
                      "bandingmodel_key_name",
                      "bandingmodel_name_key",
                      "bandingmodelv2_key_name",
                      "bandingmodelv2_name_key",
                      "basetimerate",
                      "billhaslatefeeschedule",
                      "billsummary",
                      "cancelbillcustpc",
                      "catalogueaudit",
                      "cc_tbl_dat_inv_bm_rerun_hist",
                      "cc_tbl_dat_late_cdr",
                      "cc_tbl_dat_oml_message",
                      "cc_tbl_dat_online_tr",
                      "cc_tbl_dat_pc_add_info",
                      "cc_tbl_dat_pc_excess_payment",
                      "cc_tbl_dat_transaction_change",
                      "cc_tbl_dat_up_filelog",
                      "cc_tbl_dat_up_filelog_fail",
                      "cc_tbl_dat_up_sortlog",
                      "cc_tbl_dat_usage_file_ind",
                      "cc_tbl_dat_variables",
                      "chargesegment",
                      "chargesegmentv2_key_name",
                      "chargesegmentv2_name_key",
                      "compositepredicate",
                      "contactdetails",
                      "costband",
                      "costbandv2_key_name",
                      "costbandv2_name_key",
                      "costcode",
                      "cpdumanagerequest",
                      "custeventsource",
                      "custfilterelement",
                      "custhasproduct",
                      "custhasproduct_key_name",
                      "custhasproduct_name_key",
                      "custoverrideprice",
                      "custoverriderate",
                      "custprodaddonratedetails",
                      "custprodextendedattrdet",
                      "custprodinvoicediscusage",
                      "custprodratingdiscount",
                      "custproductaddress",
                      "custproductattrdetails",
                      "custproductcharge",
                      "custproductdetails",
                      "custproducteventtypes",
                      "custproductstatus",
                      "custproducttariffdetails",
                      "debtagerequest",
                      "eventsourceusage",
                      "filegrouplog",
                      "jobhasfile",
                      "krai_account_nrm_all",
                      "managedfile",
                      "nrmjob",
                      "ongoingtransactions",
                      "paysettlementaction",
                      "physicalpayment",
                      "physicalpayment_key_name",
                      "physicalpayment_name_key",
                      "ratingcatalogue",
                      "rdbcostedeventv1_250920000_250921000",
                      "rdbcostedeventv1_250924000_250925000",
                      "rdbcostedeventv1_250928000_250929000",
                      "rdbcostedeventv1_251001000_251002000",
                      "rdbcostedeventv1_251004000_251005000",
                      "rdbcostedeventv1_251008000_251009000",
                      "rdbcostedeventv1_251012000_251013000",
                      "rdbcostedeventv1_251016000_251017000",
                      "reraterequest",
                      "tmppaymentallocation",
                      "vhbandmap"
                    ],
                    "prefix": "All except:",
                    "readOnly": true
                  }
                },
                "properties": []
              }
            ]
          },
          "gridPos": {
            "h": 22,
            "w": 12,
            "x": 12,
            "y": 12801
          },
          "id": 814,
          "interval": "1m",
          "options": {
            "alignValue": "left",
            "legend": {
              "displayMode": "list",
              "placement": "bottom",
              "showLegend": true
            },
            "mergeValues": true,
            "rowHeight": 0.9,
            "showValue": "auto",
            "tooltip": {
              "hideZeros": false,
              "mode": "single",
              "sort": "none"
            }
          },
          "pluginVersion": "11.5.2",
          "targets": [
            {
              "editorMode": "code",
              "expr": "sum by(granted, lock_type, mode, pid, query, user_name, table_name, tuple_details, tuple_id) (sql_pg_x_locks_v2{query=~\"$query_include_regex\", user_name=~\"$user_include_regex\", query!~\"$query_exclude_regex\", user_name!~\"$user_exclude_regex\"})",
              "hide": true,
              "legendFormat": "__auto",
              "range": true,
              "refId": "A"
            },
            {
              "datasource": {
                "type": "prometheus",
                "uid": "PC3E95692D54ABCC0"
              },
              "disableTextWrap": false,
              "editorMode": "code",
              "expr": "sum by(user_name) (sql_pg_x_locks_v2{query=~\"$query_include_regex\", user_name=~\"$user_include_regex\", query!~\"$query_exclude_regex\", user_name!~\"$user_exclude_regex\"})",
              "fullMetaSearch": false,
              "hide": false,
              "includeNullMetadata": true,
              "legendFormat": "__auto",
              "range": true,
              "refId": "B",
              "useBackend": false
            }
          ],
          "title": "Locks per user",
          "type": "state-timeline"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "PC3E95692D54ABCC0"
          },
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "continuous-GrYlRd"
              },
              "custom": {
                "fillOpacity": 70,
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "viz": false
                },
                "insertNulls": false,
                "lineWidth": 0,
                "spanNulls": false
              },
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green",
                    "value": null
                  },
                  {
                    "color": "red",
                    "value": 80
                  }
                ]
              }
            },
            "overrides": [
              {
                "__systemRef": "hideSeriesFrom",
                "matcher": {
                  "id": "byNames",
                  "options": {
                    "mode": "exclude",
                    "names": [
                      "aaf_component",
                      "aaf_historical_password",
                      "aaf_perm_class_map",
                      "aaf_property",
                      "aaf_resource_perm",
                      "aaf_role",
                      "aaf_role_member",
                      "aaf_role_resource_perm",
                      "aaf_user",
                      "aaf_user_attribute",
                      "aaf_user_member",
                      "abstractplugin",
                      "abstractplugin_key_name",
                      "abstractplugin_name_key",
                      "abstractplugininput",
                      "abstractpluginoutput",
                      "accactionthreshold",
                      "accactionthresholdset",
                      "accactthreset_key_name",
                      "accactthreset_name_key",
                      "accessgroup",
                      "accessgroupmember",
                      "account",
                      "accountdetails",
                      "accountingperiod",
                      "accountpayment",
                      "accountpayment_key_name",
                      "accountpayment_name_key",
                      "accountrating",
                      "accountratingsummary",
                      "action",
                      "action_key_name",
                      "action_name_key",
                      "actionparamdata",
                      "actionparamdata_key_name",
                      "actionparamdata_name_key",
                      "actionparamvalue",
                      "actiontype",
                      "actiontype_key_name",
                      "actiontype_name_key",
                      "actiontypeparam",
                      "activityrule",
                      "activityrule_key_name",
                      "activityrule_name_key",
                      "address",
                      "address_key_name",
                      "address_name_key",
                      "addressformat",
                      "addressformat_key_name",
                      "addressformat_name_key",
                      "addressformatitem",
                      "adjtypeattributes_key_name",
                      "adjtypeattributes_name_key",
                      "adjustmenttype",
                      "adjustmenttype_key_name",
                      "adjustmenttype_name_key",
                      "adjustmenttypeattributes",
                      "aegcataloguechange",
                      "agedependentprice",
                      "agedependentprice_key_name",
                      "agedependentprice_name_key",
                      "agedependentpriceband",
                      "agedeppricev2_key_name",
                      "agedeppricev2_name_key",
                      "allocationtobill",
                      "amfattributetype",
                      "amfattrtypetotable",
                      "amfcluster",
                      "amfclustertohost",
                      "amfclustertype",
                      "amfcomponent",
                      "amfcomponentargument",
                      "amfcomponenttype",
                      "amfcomponenttypeargument",
                      "amfcomptypetosutype",
                      "amfcsiattribute",
                      "amfservicegroup",
                      "amfservicegroupargument",
                      "amfservicegrouptype",
                      "amfserviceunit",
                      "amfserviceunittype",
                      "amfsgtypetoclustertype",
                      "amftable",
                      "announcementdef",
                      "announcementdef_key_name",
                      "announcementdef_name_key",
                      "async_operation_catsync",
                      "attributeset",
                      "attributeset_key_name",
                      "attributeset_name_key",
                      "attributesetattribute",
                      "attributesetnamespace",
                      "attributetype",
                      "attributetype_key_name",
                      "attributetype_name_key",
                      "attributevaluelist",
                      "attronlinereamapping",
                      "attrsetattribute_key_name",
                      "attrsetattribute_name_key",
                      "attrsetnamespace_key_name",
                      "attrsetnamespace_name_key",
                      "audittrail",
                      "audittransaction",
                      "audittransactionaction",
                      "audittransactionclass",
                      "balancemodifact_key_name",
                      "balancemodifact_name_key",
                      "balancemodificationaction",
                      "bandingmodel",
                      "bandingmodel_key_name",
                      "bandingmodel_name_key",
                      "bandingmodelv2_key_name",
                      "bandingmodelv2_name_key",
                      "basetimerate",
                      "billhaslatefeeschedule",
                      "billsummary",
                      "cancelbillcustpc",
                      "catalogueaudit",
                      "cc_tbl_dat_inv_bm_rerun_hist",
                      "cc_tbl_dat_late_cdr",
                      "cc_tbl_dat_oml_message",
                      "cc_tbl_dat_online_tr",
                      "cc_tbl_dat_pc_add_info",
                      "cc_tbl_dat_pc_excess_payment",
                      "cc_tbl_dat_transaction_change",
                      "cc_tbl_dat_up_filelog",
                      "cc_tbl_dat_up_filelog_fail",
                      "cc_tbl_dat_up_sortlog",
                      "cc_tbl_dat_usage_file_ind",
                      "cc_tbl_dat_variables",
                      "chargesegment",
                      "chargesegmentv2_key_name",
                      "chargesegmentv2_name_key",
                      "compositepredicate",
                      "contactdetails",
                      "costband",
                      "costbandv2_key_name",
                      "costbandv2_name_key",
                      "costcode",
                      "cpdumanagerequest",
                      "custeventsource",
                      "custfilterelement",
                      "custhasproduct",
                      "custhasproduct_key_name",
                      "custhasproduct_name_key",
                      "custoverrideprice",
                      "custoverriderate",
                      "custprodaddonratedetails",
                      "custprodextendedattrdet",
                      "custprodinvoicediscusage",
                      "custprodratingdiscount",
                      "custproductaddress",
                      "custproductattrdetails",
                      "custproductcharge",
                      "custproductdetails",
                      "custproducteventtypes",
                      "custproductstatus",
                      "custproducttariffdetails",
                      "debtagerequest",
                      "eventsourceusage",
                      "filegrouplog",
                      "jobhasfile",
                      "krai_account_nrm_all",
                      "managedfile",
                      "nrmjob",
                      "ongoingtransactions",
                      "paysettlementaction",
                      "physicalpayment",
                      "physicalpayment_key_name",
                      "physicalpayment_name_key",
                      "ratingcatalogue",
                      "rdbcostedeventv1_250920000_250921000",
                      "rdbcostedeventv1_250924000_250925000",
                      "rdbcostedeventv1_250928000_250929000",
                      "rdbcostedeventv1_251001000_251002000",
                      "rdbcostedeventv1_251004000_251005000",
                      "rdbcostedeventv1_251008000_251009000",
                      "rdbcostedeventv1_251012000_251013000",
                      "rdbcostedeventv1_251016000_251017000",
                      "reraterequest",
                      "tmppaymentallocation",
                      "vhbandmap"
                    ],
                    "prefix": "All except:",
                    "readOnly": true
                  }
                },
                "properties": []
              }
            ]
          },
          "gridPos": {
            "h": 22,
            "w": 24,
            "x": 0,
            "y": 12823
          },
          "id": 818,
          "interval": "1m",
          "options": {
            "alignValue": "left",
            "legend": {
              "displayMode": "list",
              "placement": "bottom",
              "showLegend": true
            },
            "mergeValues": true,
            "rowHeight": 0.9,
            "showValue": "auto",
            "tooltip": {
              "hideZeros": false,
              "mode": "single",
              "sort": "none"
            }
          },
          "pluginVersion": "11.5.2",
          "targets": [
            {
              "editorMode": "code",
              "expr": "sum by(granted, lock_type, mode, pid, query, user_name, table_name, tuple_details, tuple_id) (sql_pg_x_locks_v2)",
              "hide": true,
              "legendFormat": "__auto",
              "range": true,
              "refId": "A"
            },
            {
              "datasource": {
                "type": "prometheus",
                "uid": "PC3E95692D54ABCC0"
              },
              "disableTextWrap": false,
              "editorMode": "code",
              "expr": "sum by (query) (\r\n  label_replace(\r\n    sql_pg_x_locks_v2{query=~\"$query_include_regex\", user_name=~\"$user_include_regex\", query!~\"$query_exclude_regex\", user_name!~\"$user_exclude_regex\"},\r\n    \"query\",\r\n    \"$1\",\r\n    \"query\",\r\n    \"^(.{100}).*\"\r\n  )\r\n)\r\n",
              "fullMetaSearch": false,
              "hide": false,
              "includeNullMetadata": true,
              "legendFormat": "__auto",
              "range": true,
              "refId": "B",
              "useBackend": false
            }
          ],
          "title": "Locks per query",
          "type": "state-timeline"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "PC3E95692D54ABCC0"
          },
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "continuous-GrYlRd"
              },
              "custom": {
                "fillOpacity": 70,
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "viz": false
                },
                "insertNulls": false,
                "lineWidth": 0,
                "spanNulls": false
              },
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green",
                    "value": null
                  },
                  {
                    "color": "red",
                    "value": 80
                  }
                ]
              }
            },
            "overrides": [
              {
                "__systemRef": "hideSeriesFrom",
                "matcher": {
                  "id": "byNames",
                  "options": {
                    "mode": "exclude",
                    "names": [
                      "aaf_component",
                      "aaf_historical_password",
                      "aaf_perm_class_map",
                      "aaf_property",
                      "aaf_resource_perm",
                      "aaf_role",
                      "aaf_role_member",
                      "aaf_role_resource_perm",
                      "aaf_user",
                      "aaf_user_attribute",
                      "aaf_user_member",
                      "abstractplugin",
                      "abstractplugin_key_name",
                      "abstractplugin_name_key",
                      "abstractplugininput",
                      "abstractpluginoutput",
                      "accactionthreshold",
                      "accactionthresholdset",
                      "accactthreset_key_name",
                      "accactthreset_name_key",
                      "accessgroup",
                      "accessgroupmember",
                      "account",
                      "accountdetails",
                      "accountingperiod",
                      "accountpayment",
                      "accountpayment_key_name",
                      "accountpayment_name_key",
                      "accountrating",
                      "accountratingsummary",
                      "action",
                      "action_key_name",
                      "action_name_key",
                      "actionparamdata",
                      "actionparamdata_key_name",
                      "actionparamdata_name_key",
                      "actionparamvalue",
                      "actiontype",
                      "actiontype_key_name",
                      "actiontype_name_key",
                      "actiontypeparam",
                      "activityrule",
                      "activityrule_key_name",
                      "activityrule_name_key",
                      "address",
                      "address_key_name",
                      "address_name_key",
                      "addressformat",
                      "addressformat_key_name",
                      "addressformat_name_key",
                      "addressformatitem",
                      "adjtypeattributes_key_name",
                      "adjtypeattributes_name_key",
                      "adjustmenttype",
                      "adjustmenttype_key_name",
                      "adjustmenttype_name_key",
                      "adjustmenttypeattributes",
                      "aegcataloguechange",
                      "agedependentprice",
                      "agedependentprice_key_name",
                      "agedependentprice_name_key",
                      "agedependentpriceband",
                      "agedeppricev2_key_name",
                      "agedeppricev2_name_key",
                      "allocationtobill",
                      "amfattributetype",
                      "amfattrtypetotable",
                      "amfcluster",
                      "amfclustertohost",
                      "amfclustertype",
                      "amfcomponent",
                      "amfcomponentargument",
                      "amfcomponenttype",
                      "amfcomponenttypeargument",
                      "amfcomptypetosutype",
                      "amfcsiattribute",
                      "amfservicegroup",
                      "amfservicegroupargument",
                      "amfservicegrouptype",
                      "amfserviceunit",
                      "amfserviceunittype",
                      "amfsgtypetoclustertype",
                      "amftable",
                      "announcementdef",
                      "announcementdef_key_name",
                      "announcementdef_name_key",
                      "async_operation_catsync",
                      "attributeset",
                      "attributeset_key_name",
                      "attributeset_name_key",
                      "attributesetattribute",
                      "attributesetnamespace",
                      "attributetype",
                      "attributetype_key_name",
                      "attributetype_name_key",
                      "attributevaluelist",
                      "attronlinereamapping",
                      "attrsetattribute_key_name",
                      "attrsetattribute_name_key",
                      "attrsetnamespace_key_name",
                      "attrsetnamespace_name_key",
                      "audittrail",
                      "audittransaction",
                      "audittransactionaction",
                      "audittransactionclass",
                      "balancemodifact_key_name",
                      "balancemodifact_name_key",
                      "balancemodificationaction",
                      "bandingmodel",
                      "bandingmodel_key_name",
                      "bandingmodel_name_key",
                      "bandingmodelv2_key_name",
                      "bandingmodelv2_name_key",
                      "basetimerate",
                      "billhaslatefeeschedule",
                      "billsummary",
                      "cancelbillcustpc",
                      "catalogueaudit",
                      "cc_tbl_dat_inv_bm_rerun_hist",
                      "cc_tbl_dat_late_cdr",
                      "cc_tbl_dat_oml_message",
                      "cc_tbl_dat_online_tr",
                      "cc_tbl_dat_pc_add_info",
                      "cc_tbl_dat_pc_excess_payment",
                      "cc_tbl_dat_transaction_change",
                      "cc_tbl_dat_up_filelog",
                      "cc_tbl_dat_up_filelog_fail",
                      "cc_tbl_dat_up_sortlog",
                      "cc_tbl_dat_usage_file_ind",
                      "cc_tbl_dat_variables",
                      "chargesegment",
                      "chargesegmentv2_key_name",
                      "chargesegmentv2_name_key",
                      "compositepredicate",
                      "contactdetails",
                      "costband",
                      "costbandv2_key_name",
                      "costbandv2_name_key",
                      "costcode",
                      "cpdumanagerequest",
                      "custeventsource",
                      "custfilterelement",
                      "custhasproduct",
                      "custhasproduct_key_name",
                      "custhasproduct_name_key",
                      "custoverrideprice",
                      "custoverriderate",
                      "custprodaddonratedetails",
                      "custprodextendedattrdet",
                      "custprodinvoicediscusage",
                      "custprodratingdiscount",
                      "custproductaddress",
                      "custproductattrdetails",
                      "custproductcharge",
                      "custproductdetails",
                      "custproducteventtypes",
                      "custproductstatus",
                      "custproducttariffdetails",
                      "debtagerequest",
                      "eventsourceusage",
                      "filegrouplog",
                      "jobhasfile",
                      "krai_account_nrm_all",
                      "managedfile",
                      "nrmjob",
                      "ongoingtransactions",
                      "paysettlementaction",
                      "physicalpayment",
                      "physicalpayment_key_name",
                      "physicalpayment_name_key",
                      "ratingcatalogue",
                      "rdbcostedeventv1_250920000_250921000",
                      "rdbcostedeventv1_250924000_250925000",
                      "rdbcostedeventv1_250928000_250929000",
                      "rdbcostedeventv1_251001000_251002000",
                      "rdbcostedeventv1_251004000_251005000",
                      "rdbcostedeventv1_251008000_251009000",
                      "rdbcostedeventv1_251012000_251013000",
                      "rdbcostedeventv1_251016000_251017000",
                      "reraterequest",
                      "tmppaymentallocation",
                      "vhbandmap"
                    ],
                    "prefix": "All except:",
                    "readOnly": true
                  }
                },
                "properties": []
              }
            ]
          },
          "gridPos": {
            "h": 18,
            "w": 12,
            "x": 0,
            "y": 12845
          },
          "id": 819,
          "interval": "1m",
          "options": {
            "alignValue": "left",
            "legend": {
              "displayMode": "list",
              "placement": "bottom",
              "showLegend": true
            },
            "mergeValues": true,
            "rowHeight": 0.9,
            "showValue": "auto",
            "tooltip": {
              "hideZeros": false,
              "mode": "single",
              "sort": "none"
            }
          },
          "pluginVersion": "11.5.2",
          "targets": [
            {
              "editorMode": "code",
              "expr": "sum by(granted, lock_type, mode, pid, query, user_name, table_name, tuple_details, tuple_id) (sql_pg_x_locks_v2)",
              "hide": true,
              "legendFormat": "__auto",
              "range": true,
              "refId": "A"
            },
            {
              "datasource": {
                "type": "prometheus",
                "uid": "PC3E95692D54ABCC0"
              },
              "disableTextWrap": false,
              "editorMode": "code",
              "expr": "sum by(tuple_details) (sql_pg_x_locks_v2{tuple_details!=\"no details\", query=~\"$query_include_regex\", user_name=~\"$user_include_regex\", query!~\"$query_exclude_regex\", user_name!~\"$user_exclude_regex\"})",
              "fullMetaSearch": false,
              "hide": false,
              "includeNullMetadata": true,
              "legendFormat": "__auto",
              "range": true,
              "refId": "B",
              "useBackend": false
            }
          ],
          "title": "Tuple locks",
          "type": "state-timeline"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${datasource}"
          },
          "description": "",
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              },
              "custom": {
                "axisBorderShow": false,
                "axisCenteredZero": false,
                "axisColorMode": "text",
                "axisLabel": "",
                "axisPlacement": "auto",
                "barAlignment": 0,
                "barWidthFactor": 0.6,
                "drawStyle": "line",
                "fillOpacity": 0,
                "gradientMode": "none",
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "viz": false
                },
                "insertNulls": false,
                "lineInterpolation": "linear",
                "lineWidth": 1,
                "pointSize": 5,
                "scaleDistribution": {
                  "type": "linear"
                },
                "showPoints": "auto",
                "spanNulls": false,
                "stacking": {
                  "group": "A",
                  "mode": "none"
                },
                "thresholdsStyle": {
                  "mode": "off"
                }
              },
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green",
                    "value": null
                  },
                  {
                    "color": "red",
                    "value": 80
                  }
                ]
              }
            },
            "overrides": []
          },
          "gridPos": {
            "h": 18,
            "w": 12,
            "x": 12,
            "y": 12845
          },
          "id": 575,
          "interval": "1m",
          "options": {
            "legend": {
              "calcs": [
                "max",
                "lastNotNull"
              ],
              "displayMode": "table",
              "placement": "right",
              "showLegend": true
            },
            "tooltip": {
              "hideZeros": false,
              "maxHeight": 600,
              "mode": "single",
              "sort": "none"
            }
          },
          "pluginVersion": "11.5.2",
          "targets": [
            {
              "datasource": {
                "type": "prometheus",
                "uid": "${datasource}"
              },
              "disableTextWrap": false,
              "editorMode": "builder",
              "expr": "sum by(col, database_name) (increase(sql_pg_dbstats_v2{col=~\"deadlocks|checksum_failures\", database_name=\"aisprod-bg2\"}[2m])) / 2",
              "fullMetaSearch": false,
              "includeNullMetadata": true,
              "instant": false,
              "legendFormat": "{{col}}",
              "range": true,
              "refId": "A",
              "useBackend": false
            }
          ],
          "title": "Deadlocks and checksum failures PER MINUTE",
          "type": "timeseries"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "PC3E95692D54ABCC0"
          },
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "thresholds"
              },
              "custom": {
                "align": "auto",
                "cellOptions": {
                  "type": "auto"
                },
                "filterable": true,
                "inspect": false
              },
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green",
                    "value": null
                  },
                  {
                    "color": "red",
                    "value": 80
                  }
                ]
              }
            },
            "overrides": [
              {
                "matcher": {
                  "id": "byName",
                  "options": "Query"
                },
                "properties": [
                  {
                    "id": "custom.width",
                    "value": 628
                  }
                ]
              },
              {
                "matcher": {
                  "id": "byName",
                  "options": "pid"
                },
                "properties": [
                  {
                    "id": "custom.width",
                    "value": 92
                  }
                ]
              },
              {
                "matcher": {
                  "id": "byName",
                  "options": "table_name"
                },
                "properties": [
                  {
                    "id": "custom.width",
                    "value": 116
                  }
                ]
              },
              {
                "matcher": {
                  "id": "byName",
                  "options": "granted"
                },
                "properties": [
                  {
                    "id": "custom.width",
                    "value": 134
                  }
                ]
              },
              {
                "matcher": {
                  "id": "byName",
                  "options": "Time (min)"
                },
                "properties": [
                  {
                    "id": "custom.width",
                    "value": 187
                  },
                  {
                    "id": "unit",
                    "value": "dateTimeAsIso"
                  }
                ]
              }
            ]
          },
          "gridPos": {
            "h": 14,
            "w": 24,
            "x": 0,
            "y": 12863
          },
          "id": 816,
          "interval": "1m",
          "options": {
            "cellHeight": "sm",
            "footer": {
              "countRows": false,
              "enablePagination": true,
              "fields": "",
              "reducer": [
                "sum"
              ],
              "show": false
            },
            "showHeader": true,
            "sortBy": [
              {
                "desc": true,
                "displayName": "Value (lastNotNull)"
              }
            ]
          },
          "pluginVersion": "11.5.2",
          "targets": [
            {
              "disableTextWrap": false,
              "editorMode": "code",
              "exemplar": false,
              "expr": "sum by(granted, lock_type, mode, pid, query, user_name, table_name, tuple_details, tuple_id) (sql_pg_x_locks_v2{user_name!~\".*costed.*\", query=~\"$query_include_regex\", user_name=~\"$user_include_regex\", query!~\"$query_exclude_regex\", user_name!~\"$user_exclude_regex\"})",
              "format": "table",
              "fullMetaSearch": false,
              "includeNullMetadata": true,
              "instant": false,
              "legendFormat": "__auto",
              "range": true,
              "refId": "A",
              "useBackend": false
            }
          ],
          "title": "Locks history ",
          "transformations": [
            {
              "id": "groupBy",
              "options": {
                "fields": {
                  "Time": {
                    "aggregations": [
                      "min"
                    ],
                    "operation": "aggregate"
                  },
                  "Value": {
                    "aggregations": [
                      "lastNotNull"
                    ]
                  },
                  "granted": {
                    "aggregations": [],
                    "operation": "groupby"
                  },
                  "lock_type": {
                    "aggregations": [],
                    "operation": "groupby"
                  },
                  "mode": {
                    "aggregations": [],
                    "operation": "groupby"
                  },
                  "pid": {
                    "aggregations": [],
                    "operation": "groupby"
                  },
                  "query": {
                    "aggregations": [],
                    "operation": "groupby"
                  },
                  "table_name": {
                    "aggregations": [],
                    "operation": "groupby"
                  },
                  "tuple_details": {
                    "aggregations": [],
                    "operation": "groupby"
                  },
                  "tuple_id": {
                    "aggregations": [],
                    "operation": "groupby"
                  },
                  "user_name": {
                    "aggregations": [],
                    "operation": "groupby"
                  }
                }
              }
            },
            {
              "id": "organize",
              "options": {
                "excludeByName": {
                  "Time": false,
                  "Value": true,
                  "granted": false,
                  "tuple_id": true
                },
                "includeByName": {},
                "indexByName": {
                  "Time (min)": 0,
                  "granted": 6,
                  "lock_type": 4,
                  "mode": 5,
                  "pid": 3,
                  "query": 2,
                  "table_name": 7,
                  "tuple_details": 8,
                  "tuple_id": 9,
                  "user_name": 1
                },
                "renameByName": {
                  "Time (min)": "Start",
                  "lock_type": "",
                  "pid": "pid",
                  "query": "Query",
                  "user_name": "User"
                }
              }
            }
          ],
          "type": "table"
        }
      ],
      "title": "Locks filtered",
      "type": "row"
    },
    {
      "collapsed": true,
      "gridPos": {
        "h": 1,
        "w": 24,
        "x": 0,
        "y": 11
      },
      "id": 607,
      "panels": [
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${datasource}"
          },
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "continuous-GrYlRd"
              },
              "custom": {
                "fillOpacity": 70,
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "viz": false
                },
                "lineWidth": 1
              },
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green",
                    "value": null
                  },
                  {
                    "color": "red",
                    "value": 0.8
                  }
                ]
              }
            },
            "overrides": []
          },
          "gridPos": {
            "h": 11,
            "w": 24,
            "x": 0,
            "y": 10533
          },
          "id": 609,
          "interval": "1m",
          "options": {
            "colWidth": 0.9,
            "legend": {
              "displayMode": "list",
              "placement": "bottom",
              "showLegend": true
            },
            "rowHeight": 0.9,
            "showValue": "auto",
            "tooltip": {
              "hideZeros": false,
              "mode": "single",
              "sort": "none"
            }
          },
          "pluginVersion": "11.5.2",
          "targets": [
            {
              "datasource": {
                "type": "prometheus",
                "uid": "${datasource}"
              },
              "disableTextWrap": false,
              "editorMode": "builder",
              "expr": "sum by(relname) (increase(sql_pg_tables_v2{col=\"autovacuum_count\"}[1m])) > 0",
              "fullMetaSearch": false,
              "includeNullMetadata": true,
              "instant": false,
              "legendFormat": "{{label_name}}",
              "range": true,
              "refId": "A",
              "useBackend": false
            }
          ],
          "title": "Autovacuum timeline",
          "type": "status-history"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${datasource}"
          },
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              },
              "custom": {
                "axisBorderShow": false,
                "axisCenteredZero": false,
                "axisColorMode": "text",
                "axisLabel": "",
                "axisPlacement": "auto",
                "barAlignment": 0,
                "barWidthFactor": 0.6,
                "drawStyle": "line",
                "fillOpacity": 0,
                "gradientMode": "none",
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "viz": false
                },
                "insertNulls": false,
                "lineInterpolation": "linear",
                "lineWidth": 1,
                "pointSize": 5,
                "scaleDistribution": {
                  "type": "linear"
                },
                "showPoints": "auto",
                "spanNulls": 600000,
                "stacking": {
                  "group": "A",
                  "mode": "none"
                },
                "thresholdsStyle": {
                  "mode": "off"
                }
              },
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green",
                    "value": null
                  },
                  {
                    "color": "red",
                    "value": 80
                  }
                ]
              },
              "unit": "percentunit"
            },
            "overrides": []
          },
          "gridPos": {
            "h": 12,
            "w": 24,
            "x": 0,
            "y": 12360
          },
          "id": 832,
          "interval": "1m",
          "options": {
            "legend": {
              "calcs": [],
              "displayMode": "table",
              "placement": "right",
              "showLegend": true
            },
            "tooltip": {
              "hideZeros": false,
              "maxHeight": 600,
              "mode": "single",
              "sort": "none"
            }
          },
          "pluginVersion": "11.5.2",
          "targets": [
            {
              "datasource": {
                "type": "prometheus",
                "uid": "${datasource}"
              },
              "disableTextWrap": false,
              "editorMode": "builder",
              "expr": "sum by(col, relname) (sql_pg_vacuum_progress_v2{col=~\"scan_completion_ratio|vacuum_completion_ratio|scan_completion_ratio_2|vacuum_completion_ratio_4\"}) > 0",
              "fullMetaSearch": false,
              "includeNullMetadata": true,
              "legendFormat": "{{relname}} - {{col}}",
              "range": true,
              "refId": "A",
              "useBackend": false
            }
          ],
          "title": "Vacuum Progress",
          "type": "timeseries"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${datasource}"
          },
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "continuous-GrYlRd"
              },
              "custom": {
                "fillOpacity": 70,
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "viz": false
                },
                "insertNulls": false,
                "lineWidth": 0,
                "spanNulls": false
              },
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green",
                    "value": null
                  },
                  {
                    "color": "red",
                    "value": 80
                  }
                ]
              }
            },
            "overrides": []
          },
          "gridPos": {
            "h": 12,
            "w": 24,
            "x": 0,
            "y": 12372
          },
          "id": 839,
          "interval": "1m",
          "options": {
            "alignValue": "left",
            "legend": {
              "displayMode": "list",
              "placement": "bottom",
              "showLegend": true
            },
            "mergeValues": true,
            "rowHeight": 0.9,
            "showValue": "auto",
            "tooltip": {
              "hideZeros": false,
              "mode": "single",
              "sort": "none"
            }
          },
          "pluginVersion": "11.5.2",
          "targets": [
            {
              "datasource": {
                "type": "prometheus",
                "uid": "${datasource}"
              },
              "disableTextWrap": false,
              "editorMode": "builder",
              "expr": "sum by(col, relname) (sql_pg_vacuum_progress_v2{col=\"phase_state\"}) > 0",
              "fullMetaSearch": false,
              "includeNullMetadata": true,
              "legendFormat": "{{relname}}",
              "range": true,
              "refId": "A",
              "useBackend": false
            }
          ],
          "title": "Vacuum Progress",
          "type": "state-timeline"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${datasource}"
          },
          "description": "",
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              },
              "custom": {
                "axisBorderShow": false,
                "axisCenteredZero": false,
                "axisColorMode": "text",
                "axisLabel": "",
                "axisPlacement": "auto",
                "barAlignment": 0,
                "barWidthFactor": 0.6,
                "drawStyle": "line",
                "fillOpacity": 0,
                "gradientMode": "none",
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "viz": false
                },
                "insertNulls": false,
                "lineInterpolation": "linear",
                "lineWidth": 1,
                "pointSize": 4,
                "scaleDistribution": {
                  "type": "linear"
                },
                "showPoints": "always",
                "spanNulls": true,
                "stacking": {
                  "group": "A",
                  "mode": "none"
                },
                "thresholdsStyle": {
                  "mode": "off"
                }
              },
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green",
                    "value": null
                  },
                  {
                    "color": "red",
                    "value": 80
                  }
                ]
              },
              "unit": "locale"
            },
            "overrides": []
          },
          "gridPos": {
            "h": 11,
            "w": 24,
            "x": 0,
            "y": 12384
          },
          "id": 706,
          "interval": "1m",
          "options": {
            "legend": {
              "calcs": [
                "last"
              ],
              "displayMode": "table",
              "placement": "right",
              "showLegend": true,
              "sortBy": "Last",
              "sortDesc": true
            },
            "tooltip": {
              "hideZeros": false,
              "maxHeight": 600,
              "mode": "single",
              "sort": "none"
            }
          },
          "pluginVersion": "11.5.2",
          "targets": [
            {
              "datasource": {
                "type": "prometheus",
                "uid": "${datasource}"
              },
              "disableTextWrap": false,
              "editorMode": "builder",
              "expr": "sum by(relname) (sql_pg_tables_vacuum_v2{col=\"n_dead_tup\"}) > 2",
              "fullMetaSearch": false,
              "includeNullMetadata": true,
              "instant": false,
              "legendFormat": "__auto",
              "range": true,
              "refId": "A",
              "useBackend": false
            }
          ],
          "title": "Number of dead tuples",
          "type": "timeseries"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${datasource}"
          },
          "description": "",
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              },
              "custom": {
                "axisBorderShow": false,
                "axisCenteredZero": false,
                "axisColorMode": "text",
                "axisLabel": "",
                "axisPlacement": "auto",
                "barAlignment": 0,
                "barWidthFactor": 0.6,
                "drawStyle": "line",
                "fillOpacity": 0,
                "gradientMode": "none",
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "viz": false
                },
                "insertNulls": false,
                "lineInterpolation": "linear",
                "lineWidth": 1,
                "pointSize": 4,
                "scaleDistribution": {
                  "type": "linear"
                },
                "showPoints": "always",
                "spanNulls": true,
                "stacking": {
                  "group": "A",
                  "mode": "none"
                },
                "thresholdsStyle": {
                  "mode": "off"
                }
              },
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green",
                    "value": null
                  },
                  {
                    "color": "red",
                    "value": 80
                  }
                ]
              },
              "unit": "percentunit"
            },
            "overrides": []
          },
          "gridPos": {
            "h": 12,
            "w": 24,
            "x": 0,
            "y": 12395
          },
          "id": 616,
          "options": {
            "legend": {
              "calcs": [
                "last",
                "max"
              ],
              "displayMode": "table",
              "placement": "right",
              "showLegend": true,
              "sortBy": "Last",
              "sortDesc": true
            },
            "tooltip": {
              "hideZeros": false,
              "maxHeight": 600,
              "mode": "single",
              "sort": "none"
            }
          },
          "pluginVersion": "11.5.2",
          "targets": [
            {
              "datasource": {
                "type": "prometheus",
                "uid": "${datasource}"
              },
              "disableTextWrap": false,
              "editorMode": "builder",
              "expr": "sum by(relname) (sql_pg_tables_vacuum_v2{col=\"dead_tuple_vacuum_ratio\"}) > 0",
              "fullMetaSearch": false,
              "includeNullMetadata": true,
              "instant": false,
              "legendFormat": "__auto",
              "range": true,
              "refId": "A",
              "useBackend": false
            }
          ],
          "title": "Dead tuples as percentage of vacuum triggering threshold",
          "type": "timeseries"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${datasource}"
          },
          "description": "",
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              },
              "custom": {
                "axisBorderShow": false,
                "axisCenteredZero": false,
                "axisColorMode": "text",
                "axisLabel": "",
                "axisPlacement": "auto",
                "barAlignment": 0,
                "barWidthFactor": 0.6,
                "drawStyle": "line",
                "fillOpacity": 0,
                "gradientMode": "none",
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "viz": false
                },
                "insertNulls": false,
                "lineInterpolation": "linear",
                "lineWidth": 1,
                "pointSize": 4,
                "scaleDistribution": {
                  "type": "linear"
                },
                "showPoints": "always",
                "spanNulls": true,
                "stacking": {
                  "group": "A",
                  "mode": "none"
                },
                "thresholdsStyle": {
                  "mode": "off"
                }
              },
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green",
                    "value": null
                  },
                  {
                    "color": "red",
                    "value": 80
                  }
                ]
              },
              "unit": "percentunit"
            },
            "overrides": []
          },
          "gridPos": {
            "h": 10,
            "w": 24,
            "x": 0,
            "y": 12407
          },
          "id": 602,
          "options": {
            "legend": {
              "calcs": [
                "lastNotNull"
              ],
              "displayMode": "table",
              "placement": "right",
              "showLegend": true,
              "sortBy": "Last *",
              "sortDesc": true
            },
            "tooltip": {
              "hideZeros": false,
              "maxHeight": 600,
              "mode": "single",
              "sort": "none"
            }
          },
          "pluginVersion": "11.5.2",
          "targets": [
            {
              "datasource": {
                "type": "prometheus",
                "uid": "${datasource}"
              },
              "disableTextWrap": false,
              "editorMode": "code",
              "expr": "sum by(relname) (sql_pg_tables_vacuum_v2{col=\"inserts_vacuum_ratio\", relname!~\".*tmp.*\"})",
              "fullMetaSearch": false,
              "includeNullMetadata": true,
              "instant": false,
              "legendFormat": "__auto",
              "range": true,
              "refId": "A",
              "useBackend": false
            }
          ],
          "title": "Inserts as percentage of vacuum triggering threshold",
          "type": "timeseries"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${datasource}"
          },
          "description": "",
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              },
              "custom": {
                "axisBorderShow": false,
                "axisCenteredZero": false,
                "axisColorMode": "text",
                "axisLabel": "",
                "axisPlacement": "auto",
                "barAlignment": 0,
                "barWidthFactor": 0.6,
                "drawStyle": "line",
                "fillOpacity": 0,
                "gradientMode": "none",
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "viz": false
                },
                "insertNulls": false,
                "lineInterpolation": "linear",
                "lineWidth": 1,
                "pointSize": 4,
                "scaleDistribution": {
                  "type": "linear"
                },
                "showPoints": "always",
                "spanNulls": true,
                "stacking": {
                  "group": "A",
                  "mode": "none"
                },
                "thresholdsStyle": {
                  "mode": "off"
                }
              },
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green",
                    "value": null
                  },
                  {
                    "color": "red",
                    "value": 80
                  }
                ]
              },
              "unit": "locale"
            },
            "overrides": []
          },
          "gridPos": {
            "h": 10,
            "w": 24,
            "x": 0,
            "y": 12417
          },
          "id": 848,
          "options": {
            "legend": {
              "calcs": [
                "lastNotNull"
              ],
              "displayMode": "table",
              "placement": "right",
              "showLegend": true,
              "sortBy": "Last *",
              "sortDesc": true
            },
            "tooltip": {
              "hideZeros": false,
              "maxHeight": 600,
              "mode": "single",
              "sort": "none"
            }
          },
          "pluginVersion": "11.5.2",
          "targets": [
            {
              "datasource": {
                "type": "prometheus",
                "uid": "${datasource}"
              },
              "disableTextWrap": false,
              "editorMode": "builder",
              "expr": "sum by(relname) (sql_pg_tables_vacuum_v2{col=\"n_mod_since_analyze\", relname!~\".*tmp.*\"})",
              "fullMetaSearch": false,
              "includeNullMetadata": true,
              "instant": false,
              "legendFormat": "__auto",
              "range": true,
              "refId": "A",
              "useBackend": false
            }
          ],
          "title": "Modifications since last analyze",
          "type": "timeseries"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${datasource}"
          },
          "description": "",
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              },
              "custom": {
                "axisBorderShow": false,
                "axisCenteredZero": false,
                "axisColorMode": "text",
                "axisLabel": "",
                "axisPlacement": "auto",
                "barAlignment": 0,
                "barWidthFactor": 0.6,
                "drawStyle": "line",
                "fillOpacity": 0,
                "gradientMode": "none",
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "viz": false
                },
                "insertNulls": false,
                "lineInterpolation": "linear",
                "lineWidth": 1,
                "pointSize": 4,
                "scaleDistribution": {
                  "type": "linear"
                },
                "showPoints": "always",
                "spanNulls": true,
                "stacking": {
                  "group": "A",
                  "mode": "none"
                },
                "thresholdsStyle": {
                  "mode": "off"
                }
              },
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green",
                    "value": null
                  },
                  {
                    "color": "red",
                    "value": 80
                  }
                ]
              },
              "unit": "percentunit"
            },
            "overrides": []
          },
          "gridPos": {
            "h": 10,
            "w": 24,
            "x": 0,
            "y": 12427
          },
          "id": 849,
          "options": {
            "legend": {
              "calcs": [
                "lastNotNull"
              ],
              "displayMode": "table",
              "placement": "right",
              "showLegend": true,
              "sortBy": "Last *",
              "sortDesc": true
            },
            "tooltip": {
              "hideZeros": false,
              "maxHeight": 600,
              "mode": "single",
              "sort": "none"
            }
          },
          "pluginVersion": "11.5.2",
          "targets": [
            {
              "datasource": {
                "type": "prometheus",
                "uid": "${datasource}"
              },
              "disableTextWrap": false,
              "editorMode": "builder",
              "expr": "sum by(relname) (sql_pg_tables_vacuum_v2{col=\"modifications_analyze_ratio\", relname!~\".*tmp.*\"}) > 0.01",
              "fullMetaSearch": false,
              "includeNullMetadata": true,
              "instant": false,
              "legendFormat": "__auto",
              "range": true,
              "refId": "A",
              "useBackend": false
            }
          ],
          "title": "Modifications as percentage of analyze triggering threshold",
          "type": "timeseries"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${datasource}"
          },
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              },
              "custom": {
                "fillOpacity": 70,
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "viz": false
                },
                "insertNulls": false,
                "lineWidth": 0,
                "spanNulls": false
              },
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green",
                    "value": null
                  },
                  {
                    "color": "red",
                    "value": 0.8
                  }
                ]
              }
            },
            "overrides": []
          },
          "gridPos": {
            "h": 8,
            "w": 24,
            "x": 0,
            "y": 12437
          },
          "id": 608,
          "interval": "1m",
          "options": {
            "alignValue": "left",
            "legend": {
              "displayMode": "list",
              "placement": "bottom",
              "showLegend": false
            },
            "mergeValues": false,
            "rowHeight": 0.9,
            "showValue": "never",
            "tooltip": {
              "hideZeros": false,
              "maxHeight": 600,
              "mode": "single",
              "sort": "none"
            }
          },
          "pluginVersion": "11.5.2",
          "targets": [
            {
              "datasource": {
                "type": "prometheus",
                "uid": "${datasource}"
              },
              "disableTextWrap": false,
              "editorMode": "builder",
              "expr": "sum by(relname) (rate(sql_pg_tables_v2{col=\"vacuum_count\"}[1m])) > 0",
              "fullMetaSearch": false,
              "includeNullMetadata": true,
              "instant": false,
              "legendFormat": "{{label_name}}",
              "range": true,
              "refId": "A",
              "useBackend": false
            }
          ],
          "title": "Vacuum timeline",
          "type": "state-timeline"
        }
      ],
      "title": "Vacuum ",
      "type": "row"
    },
    {
      "collapsed": true,
      "gridPos": {
        "h": 1,
        "w": 24,
        "x": 0,
        "y": 12
      },
      "id": 676,
      "panels": [
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${datasource}"
          },
          "description": "",
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              },
              "custom": {
                "axisBorderShow": true,
                "axisCenteredZero": false,
                "axisColorMode": "series",
                "axisGridShow": false,
                "axisLabel": "",
                "axisPlacement": "auto",
                "barAlignment": 0,
                "barWidthFactor": 0.6,
                "drawStyle": "line",
                "fillOpacity": 0,
                "gradientMode": "none",
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "viz": false
                },
                "insertNulls": false,
                "lineInterpolation": "linear",
                "lineWidth": 1,
                "pointSize": 5,
                "scaleDistribution": {
                  "log": 10,
                  "type": "log"
                },
                "showPoints": "auto",
                "spanNulls": false,
                "stacking": {
                  "group": "A",
                  "mode": "none"
                },
                "thresholdsStyle": {
                  "mode": "off"
                }
              },
              "mappings": [],
              "min": 0,
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green",
                    "value": null
                  },
                  {
                    "color": "red",
                    "value": 80
                  }
                ]
              },
              "unit": "short"
            },
            "overrides": []
          },
          "gridPos": {
            "h": 14,
            "w": 24,
            "x": 0,
            "y": 10534
          },
          "id": 680,
          "interval": "1m",
          "options": {
            "legend": {
              "calcs": [
                "mean",
                "max",
                "sum"
              ],
              "displayMode": "table",
              "placement": "right",
              "showLegend": true,
              "sortBy": "Total",
              "sortDesc": true
            },
            "tooltip": {
              "hideZeros": false,
              "maxHeight": 600,
              "mode": "single",
              "sort": "none"
            }
          },
          "pluginVersion": "11.5.2",
          "targets": [
            {
              "datasource": {
                "type": "prometheus",
                "uid": "${datasource}"
              },
              "disableTextWrap": false,
              "editorMode": "builder",
              "expr": "sum by(relname) (increase(sql_pg_tables_v2{col=~\"n_tup_del|n_tup_upd|n_tup_ins\", relname!~\"tmp.*\"}[1m])) > 0",
              "fullMetaSearch": false,
              "hide": false,
              "includeNullMetadata": true,
              "instant": false,
              "legendFormat": "{{relname}} – {{col}}",
              "range": true,
              "refId": "B",
              "useBackend": false
            }
          ],
          "title": "Busiest tables, operations per minute, log scale",
          "type": "timeseries"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${datasource}"
          },
          "description": "",
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              },
              "custom": {
                "axisBorderShow": false,
                "axisCenteredZero": false,
                "axisColorMode": "text",
                "axisLabel": "",
                "axisPlacement": "auto",
                "barAlignment": 0,
                "barWidthFactor": 0.6,
                "drawStyle": "line",
                "fillOpacity": 0,
                "gradientMode": "none",
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "viz": false
                },
                "insertNulls": false,
                "lineInterpolation": "linear",
                "lineWidth": 1,
                "pointSize": 5,
                "scaleDistribution": {
                  "type": "linear"
                },
                "showPoints": "auto",
                "spanNulls": false,
                "stacking": {
                  "group": "A",
                  "mode": "none"
                },
                "thresholdsStyle": {
                  "mode": "off"
                }
              },
              "decimals": 0,
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green",
                    "value": null
                  },
                  {
                    "color": "red",
                    "value": 80
                  }
                ]
              },
              "unit": "locale"
            },
            "overrides": [
              {
                "matcher": {
                  "id": "byName",
                  "options": "custproductcharge"
                },
                "properties": [
                  {
                    "id": "color",
                    "value": {
                      "fixedColor": "red",
                      "mode": "fixed"
                    }
                  }
                ]
              }
            ]
          },
          "gridPos": {
            "h": 14,
            "w": 24,
            "x": 0,
            "y": 12176
          },
          "id": 679,
          "interval": "1m",
          "options": {
            "legend": {
              "calcs": [
                "mean",
                "max",
                "sum"
              ],
              "displayMode": "table",
              "placement": "right",
              "showLegend": true,
              "sortBy": "Total",
              "sortDesc": true
            },
            "tooltip": {
              "hideZeros": false,
              "maxHeight": 600,
              "mode": "single",
              "sort": "none"
            }
          },
          "pluginVersion": "11.5.2",
          "targets": [
            {
              "datasource": {
                "type": "prometheus",
                "uid": "${datasource}"
              },
              "disableTextWrap": false,
              "editorMode": "builder",
              "expr": "sum by(relname) (increase(sql_pg_tables_v2{col=~\"n_tup_ins\", relname!~\".*tmp.*\"}[1m])) > 0",
              "fullMetaSearch": false,
              "hide": false,
              "includeNullMetadata": true,
              "instant": false,
              "legendFormat": "{{relname}}",
              "range": true,
              "refId": "B",
              "useBackend": false
            }
          ],
          "title": "Insert operations PER MINUTE",
          "type": "timeseries"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${datasource}"
          },
          "description": "",
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              },
              "custom": {
                "axisBorderShow": false,
                "axisCenteredZero": false,
                "axisColorMode": "text",
                "axisLabel": "",
                "axisPlacement": "auto",
                "barAlignment": 0,
                "barWidthFactor": 0.6,
                "drawStyle": "line",
                "fillOpacity": 0,
                "gradientMode": "none",
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "viz": false
                },
                "insertNulls": false,
                "lineInterpolation": "linear",
                "lineWidth": 1,
                "pointSize": 5,
                "scaleDistribution": {
                  "type": "linear"
                },
                "showPoints": "auto",
                "spanNulls": false,
                "stacking": {
                  "group": "A",
                  "mode": "none"
                },
                "thresholdsStyle": {
                  "mode": "off"
                }
              },
              "decimals": 0,
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green",
                    "value": null
                  },
                  {
                    "color": "red",
                    "value": 80
                  }
                ]
              },
              "unit": "locale"
            },
            "overrides": [
              {
                "matcher": {
                  "id": "byName",
                  "options": "custproductcharge"
                },
                "properties": [
                  {
                    "id": "color",
                    "value": {
                      "fixedColor": "red",
                      "mode": "fixed"
                    }
                  }
                ]
              }
            ]
          },
          "gridPos": {
            "h": 14,
            "w": 24,
            "x": 0,
            "y": 12190
          },
          "id": 845,
          "interval": "1m",
          "options": {
            "legend": {
              "calcs": [
                "mean",
                "max",
                "sum"
              ],
              "displayMode": "table",
              "placement": "right",
              "showLegend": true,
              "sortBy": "Total",
              "sortDesc": true
            },
            "tooltip": {
              "hideZeros": false,
              "maxHeight": 600,
              "mode": "single",
              "sort": "none"
            }
          },
          "pluginVersion": "11.5.2",
          "targets": [
            {
              "datasource": {
                "type": "prometheus",
                "uid": "${datasource}"
              },
              "disableTextWrap": false,
              "editorMode": "builder",
              "expr": "sum by(relname) (increase(sql_pg_tables_v2{col=~\"n_tup_upd\", relname!~\".*tmp.*\"}[1m])) > 0",
              "fullMetaSearch": false,
              "hide": false,
              "includeNullMetadata": true,
              "instant": false,
              "legendFormat": "{{relname}}",
              "range": true,
              "refId": "B",
              "useBackend": false
            }
          ],
          "title": "Update operations PER MINUTE",
          "type": "timeseries"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${datasource}"
          },
          "description": "",
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              },
              "custom": {
                "axisBorderShow": false,
                "axisCenteredZero": false,
                "axisColorMode": "text",
                "axisLabel": "",
                "axisPlacement": "auto",
                "barAlignment": 0,
                "barWidthFactor": 0.6,
                "drawStyle": "line",
                "fillOpacity": 0,
                "gradientMode": "none",
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "viz": false
                },
                "insertNulls": false,
                "lineInterpolation": "linear",
                "lineWidth": 1,
                "pointSize": 5,
                "scaleDistribution": {
                  "type": "linear"
                },
                "showPoints": "auto",
                "spanNulls": false,
                "stacking": {
                  "group": "A",
                  "mode": "none"
                },
                "thresholdsStyle": {
                  "mode": "off"
                }
              },
              "decimals": 0,
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green",
                    "value": null
                  },
                  {
                    "color": "red",
                    "value": 80
                  }
                ]
              },
              "unit": "locale"
            },
            "overrides": [
              {
                "matcher": {
                  "id": "byName",
                  "options": "custproductcharge"
                },
                "properties": [
                  {
                    "id": "color",
                    "value": {
                      "fixedColor": "red",
                      "mode": "fixed"
                    }
                  }
                ]
              }
            ]
          },
          "gridPos": {
            "h": 14,
            "w": 24,
            "x": 0,
            "y": 12204
          },
          "id": 844,
          "interval": "1m",
          "options": {
            "legend": {
              "calcs": [
                "mean",
                "max",
                "sum"
              ],
              "displayMode": "table",
              "placement": "right",
              "showLegend": true,
              "sortBy": "Total",
              "sortDesc": true
            },
            "tooltip": {
              "hideZeros": false,
              "maxHeight": 600,
              "mode": "single",
              "sort": "none"
            }
          },
          "pluginVersion": "11.5.2",
          "targets": [
            {
              "datasource": {
                "type": "prometheus",
                "uid": "${datasource}"
              },
              "disableTextWrap": false,
              "editorMode": "builder",
              "expr": "sum by(relname) (increase(sql_pg_tables_v2{col=~\"n_tup_del\", relname!~\".*tmp.*\"}[1m])) > 0",
              "fullMetaSearch": false,
              "hide": false,
              "includeNullMetadata": true,
              "instant": false,
              "legendFormat": "{{relname}}",
              "range": true,
              "refId": "B",
              "useBackend": false
            }
          ],
          "title": "Insert operations PER MINUTE",
          "type": "timeseries"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "PC3E95692D54ABCC0"
          },
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              },
              "custom": {
                "axisBorderShow": false,
                "axisCenteredZero": false,
                "axisColorMode": "text",
                "axisLabel": "",
                "axisPlacement": "auto",
                "barAlignment": 0,
                "barWidthFactor": 0.6,
                "drawStyle": "line",
                "fillOpacity": 0,
                "gradientMode": "none",
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "viz": false
                },
                "insertNulls": false,
                "lineInterpolation": "linear",
                "lineWidth": 1,
                "pointSize": 5,
                "scaleDistribution": {
                  "type": "linear"
                },
                "showPoints": "auto",
                "spanNulls": false,
                "stacking": {
                  "group": "A",
                  "mode": "none"
                },
                "thresholdsStyle": {
                  "mode": "off"
                }
              },
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green",
                    "value": null
                  },
                  {
                    "color": "red",
                    "value": 80
                  }
                ]
              },
              "unit": "locale"
            },
            "overrides": []
          },
          "gridPos": {
            "h": 12,
            "w": 24,
            "x": 0,
            "y": 12218
          },
          "id": 826,
          "interval": "1m",
          "options": {
            "legend": {
              "calcs": [
                "sum"
              ],
              "displayMode": "table",
              "placement": "right",
              "showLegend": true,
              "sortBy": "Total",
              "sortDesc": true
            },
            "tooltip": {
              "hideZeros": false,
              "mode": "single",
              "sort": "none"
            }
          },
          "pluginVersion": "11.5.2",
          "targets": [
            {
              "datasource": {
                "type": "prometheus",
                "uid": "PC3E95692D54ABCC0"
              },
              "disableTextWrap": false,
              "editorMode": "builder",
              "expr": "sum by(relname) (increase(sql_pg_tables_v2{col=~\"seq_scan\"}[1m])) > 0",
              "fullMetaSearch": false,
              "hide": false,
              "includeNullMetadata": true,
              "legendFormat": "{{relname}}",
              "range": true,
              "refId": "B",
              "useBackend": false
            }
          ],
          "title": "Seq scans PER MINUTE",
          "type": "timeseries"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "PC3E95692D54ABCC0"
          },
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              },
              "custom": {
                "axisBorderShow": false,
                "axisCenteredZero": false,
                "axisColorMode": "text",
                "axisLabel": "",
                "axisPlacement": "auto",
                "barAlignment": 0,
                "barWidthFactor": 0.6,
                "drawStyle": "line",
                "fillOpacity": 0,
                "gradientMode": "none",
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "viz": false
                },
                "insertNulls": false,
                "lineInterpolation": "linear",
                "lineWidth": 1,
                "pointSize": 5,
                "scaleDistribution": {
                  "type": "linear"
                },
                "showPoints": "auto",
                "spanNulls": false,
                "stacking": {
                  "group": "A",
                  "mode": "none"
                },
                "thresholdsStyle": {
                  "mode": "off"
                }
              },
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green",
                    "value": null
                  },
                  {
                    "color": "red",
                    "value": 80
                  }
                ]
              },
              "unit": "locale"
            },
            "overrides": []
          },
          "gridPos": {
            "h": 12,
            "w": 24,
            "x": 0,
            "y": 12230
          },
          "id": 841,
          "interval": "1m",
          "options": {
            "legend": {
              "calcs": [
                "sum"
              ],
              "displayMode": "table",
              "placement": "right",
              "showLegend": true,
              "sortBy": "Total",
              "sortDesc": true
            },
            "tooltip": {
              "hideZeros": false,
              "mode": "single",
              "sort": "none"
            }
          },
          "pluginVersion": "11.5.2",
          "targets": [
            {
              "datasource": {
                "type": "prometheus",
                "uid": "PC3E95692D54ABCC0"
              },
              "disableTextWrap": false,
              "editorMode": "builder",
              "expr": "sum by(relname) (increase(sql_pg_tables_v2{col=~\"idx_scan\"}[1m])) > 0",
              "fullMetaSearch": false,
              "hide": false,
              "includeNullMetadata": true,
              "legendFormat": "{{relname}}",
              "range": true,
              "refId": "A",
              "useBackend": false
            }
          ],
          "title": "Index scans PER MINUTE",
          "type": "timeseries"
        }
      ],
      "title": "Table stats - timeseries",
      "type": "row"
    },
    {
      "collapsed": true,
      "gridPos": {
        "h": 1,
        "w": 24,
        "x": 0,
        "y": 13
      },
      "id": 857,
      "panels": [
        {
          "datasource": {
            "type": "prometheus",
            "uid": "PC3E95692D54ABCC0"
          },
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "thresholds"
              },
              "custom": {
                "align": "auto",
                "cellOptions": {
                  "type": "auto"
                },
                "filterable": true,
                "inspect": false,
                "minWidth": 50
              },
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green",
                    "value": null
                  },
                  {
                    "color": "red",
                    "value": 80
                  }
                ]
              },
              "unit": "locale"
            },
            "overrides": [
              {
                "matcher": {
                  "id": "byRegexp",
                  "options": "/.*bytes/"
                },
                "properties": [
                  {
                    "id": "unit",
                    "value": "bytes"
                  }
                ]
              }
            ]
          },
          "gridPos": {
            "h": 15,
            "w": 24,
            "x": 0,
            "y": 12243
          },
          "id": 856,
          "interval": "1m",
          "options": {
            "cellHeight": "sm",
            "footer": {
              "countRows": false,
              "enablePagination": true,
              "fields": "",
              "reducer": [
                "sum"
              ],
              "show": false
            },
            "showHeader": true,
            "sortBy": [
              {
                "desc": true,
                "displayName": "n_live_tup"
              }
            ]
          },
          "pluginVersion": "11.5.2",
          "targets": [
            {
              "disableTextWrap": false,
              "editorMode": "code",
              "exemplar": false,
              "expr": "sum by(relname, col) (increase(sql_pg_tables_v2{relname!~\".*tmp.*\"}[$__range]))",
              "format": "table",
              "fullMetaSearch": false,
              "includeNullMetadata": true,
              "instant": true,
              "legendFormat": "__auto",
              "range": false,
              "refId": "A",
              "useBackend": false
            }
          ],
          "title": "Changes in metrics per table during the selected period",
          "transformations": [
            {
              "id": "groupBy",
              "options": {
                "fields": {
                  "Value": {
                    "aggregations": [
                      "lastNotNull"
                    ],
                    "operation": "aggregate"
                  },
                  "col": {
                    "aggregations": [],
                    "operation": "groupby"
                  },
                  "relname": {
                    "aggregations": [],
                    "operation": "groupby"
                  }
                }
              }
            },
            {
              "id": "groupingToMatrix",
              "options": {
                "columnField": "col",
                "rowField": "relname",
                "valueField": "Value (lastNotNull)"
              }
            },
            {
              "id": "organize",
              "options": {
                "excludeByName": {
                  "relsize_bytes": false
                },
                "includeByName": {},
                "indexByName": {
                  "autoanalyze_count": 13,
                  "autovacuum_count": 8,
                  "heap_hit_bytes": 9,
                  "heap_read_bytes": 10,
                  "idx_hit_bytes": 11,
                  "idx_read_bytes": 12,
                  "idx_scan": 6,
                  "n_dead_tup": 5,
                  "n_live_tup": 4,
                  "n_tup_del": 3,
                  "n_tup_hot_upd": 14,
                  "n_tup_ins": 2,
                  "n_tup_newpage_upd": 15,
                  "n_tup_upd": 1,
                  "relname\\col": 0,
                  "relsize_bytes": 16,
                  "seq_scan": 7
                },
                "renameByName": {
                  "relname\\col": "Table"
                }
              }
            }
          ],
          "type": "table"
        }
      ],
      "title": "Table stats - aggregated table",
      "type": "row"
    },
    {
      "collapsed": true,
      "gridPos": {
        "h": 1,
        "w": 24,
        "x": 0,
        "y": 14
      },
      "id": 867,
      "panels": [
        {
          "datasource": {
            "type": "prometheus",
            "uid": "PC3E95692D54ABCC0"
          },
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              },
              "custom": {
                "axisBorderShow": false,
                "axisCenteredZero": false,
                "axisColorMode": "text",
                "axisLabel": "",
                "axisPlacement": "auto",
                "barAlignment": 0,
                "barWidthFactor": 0.6,
                "drawStyle": "line",
                "fillOpacity": 0,
                "gradientMode": "none",
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "viz": false
                },
                "insertNulls": false,
                "lineInterpolation": "linear",
                "lineWidth": 1,
                "pointSize": 5,
                "scaleDistribution": {
                  "type": "linear"
                },
                "showPoints": "auto",
                "spanNulls": false,
                "stacking": {
                  "group": "A",
                  "mode": "none"
                },
                "thresholdsStyle": {
                  "mode": "off"
                }
              },
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green",
                    "value": null
                  },
                  {
                    "color": "red",
                    "value": 80
                  }
                ]
              },
              "unit": "bytes"
            },
            "overrides": []
          },
          "gridPos": {
            "h": 8,
            "w": 12,
            "x": 0,
            "y": 15
          },
          "id": 859,
          "interval": "1m",
          "options": {
            "legend": {
              "calcs": [
                "mean"
              ],
              "displayMode": "table",
              "placement": "right",
              "showLegend": true,
              "sortBy": "Mean",
              "sortDesc": true
            },
            "tooltip": {
              "hideZeros": false,
              "mode": "single",
              "sort": "none"
            }
          },
          "pluginVersion": "11.5.2",
          "targets": [
            {
              "disableTextWrap": false,
              "editorMode": "builder",
              "expr": "sum by(col) (increase(sql_pg_cluster_v2{col=~\"backend_written_bytes|bgwriter_written_bytes|checkpoint_written_bytes|wal_bytes\"}[1m])) / 60",
              "fullMetaSearch": false,
              "includeNullMetadata": true,
              "legendFormat": "__auto",
              "range": true,
              "refId": "A",
              "useBackend": false
            }
          ],
          "title": "Data persisting, bytes per second",
          "type": "timeseries"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "PC3E95692D54ABCC0"
          },
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              },
              "custom": {
                "axisBorderShow": false,
                "axisCenteredZero": false,
                "axisColorMode": "text",
                "axisLabel": "",
                "axisPlacement": "auto",
                "barAlignment": 0,
                "barWidthFactor": 0.6,
                "drawStyle": "line",
                "fillOpacity": 0,
                "gradientMode": "none",
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "viz": false
                },
                "insertNulls": false,
                "lineInterpolation": "linear",
                "lineWidth": 1,
                "pointSize": 5,
                "scaleDistribution": {
                  "type": "linear"
                },
                "showPoints": "auto",
                "spanNulls": false,
                "stacking": {
                  "group": "A",
                  "mode": "none"
                },
                "thresholdsStyle": {
                  "mode": "off"
                }
              },
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green",
                    "value": null
                  },
                  {
                    "color": "red",
                    "value": 80
                  }
                ]
              },
              "unit": "locale"
            },
            "overrides": []
          },
          "gridPos": {
            "h": 8,
            "w": 12,
            "x": 12,
            "y": 15
          },
          "id": 861,
          "interval": "1m",
          "options": {
            "legend": {
              "calcs": [
                "mean"
              ],
              "displayMode": "table",
              "placement": "right",
              "showLegend": true,
              "sortBy": "Mean",
              "sortDesc": true
            },
            "tooltip": {
              "hideZeros": false,
              "mode": "single",
              "sort": "none"
            }
          },
          "pluginVersion": "11.5.2",
          "targets": [
            {
              "disableTextWrap": false,
              "editorMode": "builder",
              "expr": "sum by(col) (increase(sql_pg_cluster_v2{col=~\"wal_records|wal_fpi\"}[1m])) / 60",
              "fullMetaSearch": false,
              "includeNullMetadata": true,
              "legendFormat": "__auto",
              "range": true,
              "refId": "A",
              "useBackend": false
            }
          ],
          "title": "WAL records and fpi per second",
          "type": "timeseries"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${datasource}"
          },
          "description": "",
          "fieldConfig": {
            "defaults": {
              "color": {
                "fixedColor": "blue",
                "mode": "continuous-purples"
              },
              "custom": {
                "fillOpacity": 70,
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "viz": false
                },
                "insertNulls": false,
                "lineWidth": 0,
                "spanNulls": false
              },
              "fieldMinMax": false,
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green",
                    "value": null
                  },
                  {
                    "color": "red",
                    "value": 0.8
                  }
                ]
              }
            },
            "overrides": []
          },
          "gridPos": {
            "h": 6,
            "w": 12,
            "x": 0,
            "y": 23
          },
          "id": 597,
          "interval": "1m",
          "options": {
            "alignValue": "left",
            "legend": {
              "displayMode": "list",
              "placement": "bottom",
              "showLegend": false
            },
            "mergeValues": false,
            "rowHeight": 0.9,
            "showValue": "never",
            "tooltip": {
              "hideZeros": false,
              "maxHeight": 600,
              "mode": "single",
              "sort": "none"
            }
          },
          "pluginVersion": "11.5.2",
          "targets": [
            {
              "datasource": {
                "type": "prometheus",
                "uid": "${datasource}"
              },
              "disableTextWrap": false,
              "editorMode": "builder",
              "expr": "sum by(col) (increase(sql_pg_cluster_v2{col=\"checkpoints_timed\"}[1m]))",
              "fullMetaSearch": false,
              "includeNullMetadata": true,
              "instant": false,
              "legendFormat": "Timed checkpoints",
              "range": true,
              "refId": "A",
              "useBackend": false
            },
            {
              "datasource": {
                "type": "prometheus",
                "uid": "${datasource}"
              },
              "disableTextWrap": false,
              "editorMode": "builder",
              "expr": "sum by(col) (increase(sql_pg_cluster_v2{col=\"checkpoints_requested\"}[1m]))",
              "fullMetaSearch": false,
              "hide": false,
              "includeNullMetadata": true,
              "instant": false,
              "legendFormat": "Requested checkpoints",
              "range": true,
              "refId": "B",
              "useBackend": false
            }
          ],
          "title": "Checkpoints schedule",
          "type": "state-timeline"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "PC3E95692D54ABCC0"
          },
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              },
              "custom": {
                "axisBorderShow": false,
                "axisCenteredZero": false,
                "axisColorMode": "text",
                "axisLabel": "",
                "axisPlacement": "auto",
                "barAlignment": 0,
                "barWidthFactor": 0.6,
                "drawStyle": "line",
                "fillOpacity": 0,
                "gradientMode": "none",
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "viz": false
                },
                "insertNulls": false,
                "lineInterpolation": "linear",
                "lineWidth": 1,
                "pointSize": 5,
                "scaleDistribution": {
                  "type": "linear"
                },
                "showPoints": "auto",
                "spanNulls": false,
                "stacking": {
                  "group": "A",
                  "mode": "none"
                },
                "thresholdsStyle": {
                  "mode": "off"
                }
              },
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green",
                    "value": null
                  },
                  {
                    "color": "red",
                    "value": 80
                  }
                ]
              },
              "unit": "locale"
            },
            "overrides": []
          },
          "gridPos": {
            "h": 8,
            "w": 12,
            "x": 12,
            "y": 23
          },
          "id": 863,
          "interval": "1m",
          "options": {
            "legend": {
              "calcs": [
                "mean"
              ],
              "displayMode": "table",
              "placement": "right",
              "showLegend": true,
              "sortBy": "Mean",
              "sortDesc": true
            },
            "tooltip": {
              "hideZeros": false,
              "mode": "single",
              "sort": "none"
            }
          },
          "pluginVersion": "11.5.2",
          "targets": [
            {
              "disableTextWrap": false,
              "editorMode": "builder",
              "expr": "sum by(col) (increase(sql_pg_cluster_v2{col=~\"wal_writes|wal_syncs\"}[1m])) / 60",
              "fullMetaSearch": false,
              "includeNullMetadata": true,
              "legendFormat": "__auto",
              "range": true,
              "refId": "A",
              "useBackend": false
            }
          ],
          "title": "WAL writes and syncs per second",
          "type": "timeseries"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "PC3E95692D54ABCC0"
          },
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              },
              "custom": {
                "axisBorderShow": false,
                "axisCenteredZero": false,
                "axisColorMode": "text",
                "axisLabel": "",
                "axisPlacement": "auto",
                "barAlignment": 0,
                "barWidthFactor": 0.6,
                "drawStyle": "line",
                "fillOpacity": 0,
                "gradientMode": "none",
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "viz": false
                },
                "insertNulls": false,
                "lineInterpolation": "linear",
                "lineWidth": 1,
                "pointSize": 5,
                "scaleDistribution": {
                  "type": "linear"
                },
                "showPoints": "auto",
                "spanNulls": false,
                "stacking": {
                  "group": "A",
                  "mode": "none"
                },
                "thresholdsStyle": {
                  "mode": "off"
                }
              },
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green",
                    "value": null
                  },
                  {
                    "color": "red",
                    "value": 80
                  }
                ]
              },
              "unit": "ms"
            },
            "overrides": []
          },
          "gridPos": {
            "h": 8,
            "w": 12,
            "x": 0,
            "y": 29
          },
          "id": 860,
          "interval": "1m",
          "options": {
            "legend": {
              "calcs": [
                "mean"
              ],
              "displayMode": "table",
              "placement": "right",
              "showLegend": true
            },
            "tooltip": {
              "hideZeros": false,
              "mode": "single",
              "sort": "none"
            }
          },
          "pluginVersion": "11.5.2",
          "targets": [
            {
              "disableTextWrap": false,
              "editorMode": "builder",
              "expr": "sum by(col) (increase(sql_pg_cluster_v2{col=~\"checkpoint_sync_time_ms|checkpoint_write_time_ms\"}[1m])) / 60",
              "fullMetaSearch": false,
              "includeNullMetadata": true,
              "legendFormat": "__auto",
              "range": true,
              "refId": "A",
              "useBackend": false
            }
          ],
          "title": "Checkpoint write time",
          "type": "timeseries"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "PC3E95692D54ABCC0"
          },
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              },
              "custom": {
                "axisBorderShow": false,
                "axisCenteredZero": false,
                "axisColorMode": "text",
                "axisLabel": "",
                "axisPlacement": "auto",
                "barAlignment": 0,
                "barWidthFactor": 0.6,
                "drawStyle": "line",
                "fillOpacity": 0,
                "gradientMode": "none",
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "viz": false
                },
                "insertNulls": false,
                "lineInterpolation": "linear",
                "lineWidth": 1,
                "pointSize": 5,
                "scaleDistribution": {
                  "type": "linear"
                },
                "showPoints": "auto",
                "spanNulls": false,
                "stacking": {
                  "group": "A",
                  "mode": "none"
                },
                "thresholdsStyle": {
                  "mode": "off"
                }
              },
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green",
                    "value": null
                  },
                  {
                    "color": "red",
                    "value": 80
                  }
                ]
              },
              "unit": "locale"
            },
            "overrides": []
          },
          "gridPos": {
            "h": 8,
            "w": 12,
            "x": 12,
            "y": 31
          },
          "id": 865,
          "interval": "1m",
          "options": {
            "legend": {
              "calcs": [
                "mean"
              ],
              "displayMode": "table",
              "placement": "right",
              "showLegend": true,
              "sortBy": "Mean",
              "sortDesc": true
            },
            "tooltip": {
              "hideZeros": false,
              "mode": "single",
              "sort": "none"
            }
          },
          "pluginVersion": "11.5.2",
          "targets": [
            {
              "disableTextWrap": false,
              "editorMode": "code",
              "expr": "(sum  (increase(sql_pg_cluster_v2{col=~\"wal_records\"}[1m])) / 60)/(sum  (increase(sql_pg_cluster_v2{col=~\"wal_writes\"}[1m])) / 60)",
              "fullMetaSearch": false,
              "includeNullMetadata": true,
              "legendFormat": "WAL records per write",
              "range": true,
              "refId": "A",
              "useBackend": false
            }
          ],
          "title": "WAL write batch size",
          "type": "timeseries"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "PC3E95692D54ABCC0"
          },
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              },
              "custom": {
                "axisBorderShow": false,
                "axisCenteredZero": false,
                "axisColorMode": "text",
                "axisLabel": "",
                "axisPlacement": "auto",
                "barAlignment": 0,
                "barWidthFactor": 0.6,
                "drawStyle": "line",
                "fillOpacity": 0,
                "gradientMode": "none",
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "viz": false
                },
                "insertNulls": false,
                "lineInterpolation": "linear",
                "lineWidth": 1,
                "pointSize": 5,
                "scaleDistribution": {
                  "type": "linear"
                },
                "showPoints": "auto",
                "spanNulls": false,
                "stacking": {
                  "group": "A",
                  "mode": "none"
                },
                "thresholdsStyle": {
                  "mode": "off"
                }
              },
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green",
                    "value": null
                  },
                  {
                    "color": "red",
                    "value": 80
                  }
                ]
              },
              "unit": "ms"
            },
            "overrides": []
          },
          "gridPos": {
            "h": 10,
            "w": 12,
            "x": 0,
            "y": 37
          },
          "id": 866,
          "interval": "1m",
          "options": {
            "legend": {
              "calcs": [
                "mean"
              ],
              "displayMode": "table",
              "placement": "right",
              "showLegend": true
            },
            "tooltip": {
              "hideZeros": false,
              "mode": "single",
              "sort": "none"
            }
          },
          "pluginVersion": "11.5.2",
          "targets": [
            {
              "disableTextWrap": false,
              "editorMode": "builder",
              "expr": "sum by(col) (increase(sql_pg_cluster_v2{col=~\"wal_sync_time_ms|wal_write_time_ms\"}[1m])) / 60",
              "fullMetaSearch": false,
              "includeNullMetadata": true,
              "legendFormat": "__auto",
              "range": true,
              "refId": "A",
              "useBackend": false
            }
          ],
          "title": "WAL write time",
          "type": "timeseries"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "PC3E95692D54ABCC0"
          },
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              },
              "custom": {
                "axisBorderShow": false,
                "axisCenteredZero": false,
                "axisColorMode": "text",
                "axisLabel": "",
                "axisPlacement": "auto",
                "barAlignment": 0,
                "barWidthFactor": 0.6,
                "drawStyle": "line",
                "fillOpacity": 0,
                "gradientMode": "none",
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "viz": false
                },
                "insertNulls": false,
                "lineInterpolation": "linear",
                "lineWidth": 1,
                "pointSize": 5,
                "scaleDistribution": {
                  "type": "linear"
                },
                "showPoints": "auto",
                "spanNulls": false,
                "stacking": {
                  "group": "A",
                  "mode": "none"
                },
                "thresholdsStyle": {
                  "mode": "off"
                }
              },
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green",
                    "value": null
                  },
                  {
                    "color": "red",
                    "value": 80
                  }
                ]
              }
            },
            "overrides": []
          },
          "gridPos": {
            "h": 8,
            "w": 12,
            "x": 12,
            "y": 39
          },
          "id": 864,
          "interval": "1m",
          "options": {
            "legend": {
              "calcs": [
                "mean"
              ],
              "displayMode": "table",
              "placement": "right",
              "showLegend": true,
              "sortBy": "Mean",
              "sortDesc": true
            },
            "tooltip": {
              "hideZeros": false,
              "mode": "single",
              "sort": "none"
            }
          },
          "pluginVersion": "11.5.2",
          "targets": [
            {
              "disableTextWrap": false,
              "editorMode": "builder",
              "expr": "sum by(col) (increase(sql_pg_cluster_v2{col=~\"wal_files_archived\"}[1m]))",
              "fullMetaSearch": false,
              "includeNullMetadata": true,
              "legendFormat": "__auto",
              "range": true,
              "refId": "A",
              "useBackend": false
            }
          ],
          "title": "WAL files archived PER MINUTE",
          "type": "timeseries"
        }
      ],
      "title": "Data persisting stats",
      "type": "row"
    },
    {
      "collapsed": true,
      "gridPos": {
        "h": 1,
        "w": 24,
        "x": 0,
        "y": 15
      },
      "id": 559,
      "panels": [
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${datasource}"
          },
          "description": "",
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              },
              "custom": {
                "axisBorderShow": false,
                "axisCenteredZero": false,
                "axisColorMode": "text",
                "axisLabel": "",
                "axisPlacement": "auto",
                "barAlignment": 0,
                "barWidthFactor": 0.6,
                "drawStyle": "line",
                "fillOpacity": 0,
                "gradientMode": "none",
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "viz": false
                },
                "insertNulls": false,
                "lineInterpolation": "linear",
                "lineWidth": 1,
                "pointSize": 5,
                "scaleDistribution": {
                  "type": "linear"
                },
                "showPoints": "auto",
                "spanNulls": false,
                "stacking": {
                  "group": "A",
                  "mode": "none"
                },
                "thresholdsStyle": {
                  "mode": "off"
                }
              },
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green",
                    "value": null
                  },
                  {
                    "color": "red",
                    "value": 80
                  }
                ]
              },
              "unit": "bytes"
            },
            "overrides": []
          },
          "gridPos": {
            "h": 15,
            "w": 12,
            "x": 0,
            "y": 11991
          },
          "id": 561,
          "interval": "1m",
          "options": {
            "legend": {
              "calcs": [
                "mean",
                "max"
              ],
              "displayMode": "table",
              "placement": "right",
              "showLegend": true,
              "sortBy": "Max",
              "sortDesc": true
            },
            "tooltip": {
              "hideZeros": false,
              "maxHeight": 600,
              "mode": "single",
              "sort": "none"
            }
          },
          "pluginVersion": "11.5.2",
          "targets": [
            {
              "datasource": {
                "type": "prometheus",
                "uid": "${datasource}"
              },
              "disableTextWrap": false,
              "editorMode": "builder",
              "expr": "sum by(col, name) (increase(sql_pg_slru_v2{col=~\"hit_bytes\"}[2m])) / 120",
              "fullMetaSearch": false,
              "hide": false,
              "includeNullMetadata": true,
              "instant": false,
              "interval": "",
              "legendFormat": "{{name}}",
              "range": true,
              "refId": "A",
              "useBackend": false
            },
            {
              "datasource": {
                "type": "prometheus",
                "uid": "${datasource}"
              },
              "disableTextWrap": false,
              "editorMode": "builder",
              "expr": "sum by(col, name) (increase(sql_pg_slru_v2{col=~\"exists_bytes|read_bytes|written_bytes|zeroed_bytes\"}[2m])) / 120",
              "fullMetaSearch": false,
              "hide": true,
              "includeNullMetadata": true,
              "instant": false,
              "interval": "",
              "legendFormat": "{{name}} | {{col}}",
              "range": true,
              "refId": "B",
              "useBackend": false
            },
            {
              "datasource": {
                "type": "prometheus",
                "uid": "${datasource}"
              },
              "disableTextWrap": false,
              "editorMode": "builder",
              "expr": "sum by(col, name) (increase(sql_pg_slru_v2{col=~\"truncates|flushes\"}[2m])) / 120",
              "fullMetaSearch": false,
              "hide": true,
              "includeNullMetadata": true,
              "instant": false,
              "interval": "",
              "legendFormat": "{{name}} | {{col}}",
              "range": true,
              "refId": "C",
              "useBackend": false
            }
          ],
          "title": "SLRU hits",
          "type": "timeseries"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${datasource}"
          },
          "description": "",
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              },
              "custom": {
                "axisBorderShow": false,
                "axisCenteredZero": false,
                "axisColorMode": "text",
                "axisLabel": "",
                "axisPlacement": "auto",
                "barAlignment": 0,
                "barWidthFactor": 0.6,
                "drawStyle": "line",
                "fillOpacity": 0,
                "gradientMode": "none",
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "viz": false
                },
                "insertNulls": false,
                "lineInterpolation": "linear",
                "lineWidth": 1,
                "pointSize": 5,
                "scaleDistribution": {
                  "type": "linear"
                },
                "showPoints": "auto",
                "spanNulls": false,
                "stacking": {
                  "group": "A",
                  "mode": "none"
                },
                "thresholdsStyle": {
                  "mode": "off"
                }
              },
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green",
                    "value": null
                  },
                  {
                    "color": "red",
                    "value": 80
                  }
                ]
              },
              "unit": "bytes"
            },
            "overrides": []
          },
          "gridPos": {
            "h": 15,
            "w": 12,
            "x": 12,
            "y": 11991
          },
          "id": 549,
          "interval": "1m",
          "options": {
            "legend": {
              "calcs": [
                "mean",
                "max"
              ],
              "displayMode": "table",
              "placement": "right",
              "showLegend": true,
              "sortBy": "Max",
              "sortDesc": true
            },
            "tooltip": {
              "hideZeros": false,
              "maxHeight": 600,
              "mode": "single",
              "sort": "none"
            }
          },
          "pluginVersion": "11.5.2",
          "targets": [
            {
              "datasource": {
                "type": "prometheus",
                "uid": "${datasource}"
              },
              "disableTextWrap": false,
              "editorMode": "builder",
              "expr": "sum by(col, name) (increase(sql_pg_slru_v2{col=~\"hit_bytes\"}[2m])) / 120",
              "fullMetaSearch": false,
              "hide": true,
              "includeNullMetadata": true,
              "instant": false,
              "interval": "",
              "legendFormat": "{{name}} | {{col}}",
              "range": true,
              "refId": "A",
              "useBackend": false
            },
            {
              "datasource": {
                "type": "prometheus",
                "uid": "${datasource}"
              },
              "disableTextWrap": false,
              "editorMode": "builder",
              "expr": "sum by(col, name) (increase(sql_pg_slru_v2{col=~\"exists_bytes|read_bytes|written_bytes|zeroed_bytes\"}[2m])) / 120",
              "fullMetaSearch": false,
              "hide": false,
              "includeNullMetadata": true,
              "instant": false,
              "interval": "",
              "legendFormat": "{{name}} | {{col}}",
              "range": true,
              "refId": "B",
              "useBackend": false
            },
            {
              "datasource": {
                "type": "prometheus",
                "uid": "${datasource}"
              },
              "disableTextWrap": false,
              "editorMode": "builder",
              "expr": "sum by(col, name) (increase(sql_pg_slru_v2{col=~\"truncates|flushes\"}[2m])) / 120",
              "fullMetaSearch": false,
              "hide": true,
              "includeNullMetadata": true,
              "instant": false,
              "interval": "",
              "legendFormat": "{{name}} | {{col}}",
              "range": true,
              "refId": "C",
              "useBackend": false
            }
          ],
          "title": "SLRU IO",
          "type": "timeseries"
        }
      ],
      "title": "SLRU",
      "type": "row"
    },
    {
      "collapsed": true,
      "gridPos": {
        "h": 1,
        "w": 24,
        "x": 0,
        "y": 16
      },
      "id": 868,
      "panels": [
        {
          "datasource": {
            "type": "prometheus",
            "uid": "PC3E95692D54ABCC0"
          },
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              },
              "custom": {
                "axisBorderShow": false,
                "axisCenteredZero": false,
                "axisColorMode": "text",
                "axisLabel": "",
                "axisPlacement": "auto",
                "barAlignment": 0,
                "barWidthFactor": 0.6,
                "drawStyle": "line",
                "fillOpacity": 0,
                "gradientMode": "none",
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "viz": false
                },
                "insertNulls": false,
                "lineInterpolation": "linear",
                "lineWidth": 1,
                "pointSize": 5,
                "scaleDistribution": {
                  "type": "linear"
                },
                "showPoints": "auto",
                "spanNulls": false,
                "stacking": {
                  "group": "A",
                  "mode": "none"
                },
                "thresholdsStyle": {
                  "mode": "off"
                }
              },
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green",
                    "value": null
                  },
                  {
                    "color": "red",
                    "value": 80
                  }
                ]
              },
              "unit": "bytes"
            },
            "overrides": []
          },
          "gridPos": {
            "h": 15,
            "w": 12,
            "x": 0,
            "y": 12028
          },
          "id": 758,
          "interval": "1m",
          "options": {
            "legend": {
              "calcs": [],
              "displayMode": "table",
              "placement": "right",
              "showLegend": true
            },
            "tooltip": {
              "hideZeros": false,
              "mode": "single",
              "sort": "none"
            }
          },
          "pluginVersion": "11.5.2",
          "targets": [
            {
              "datasource": {
                "type": "prometheus",
                "uid": "PC3E95692D54ABCC0"
              },
              "disableTextWrap": false,
              "editorMode": "builder",
              "expr": "sum by(col) (sql_pg_replication_v2{col=\"wal_lsn_bytes\", server=\"PROD\"})",
              "fullMetaSearch": false,
              "hide": false,
              "includeNullMetadata": true,
              "legendFormat": "Current WAL LSN",
              "range": true,
              "refId": "B",
              "useBackend": false
            },
            {
              "datasource": {
                "type": "prometheus",
                "uid": "PC3E95692D54ABCC0"
              },
              "disableTextWrap": false,
              "editorMode": "builder",
              "expr": "sum by(col) (sql_pg_replication_v2{col=\"flush_lsn_bytes\", server=\"PROD\"})",
              "fullMetaSearch": false,
              "hide": false,
              "includeNullMetadata": true,
              "legendFormat": "Last WAL PERSISTED (flush)",
              "range": true,
              "refId": "A",
              "useBackend": false
            },
            {
              "datasource": {
                "type": "prometheus",
                "uid": "PC3E95692D54ABCC0"
              },
              "disableTextWrap": false,
              "editorMode": "builder",
              "expr": "sum by(col) (sql_pg_replication_v2{col=\"replay_lsn_bytes\", server=\"PROD\"})",
              "fullMetaSearch": false,
              "hide": false,
              "includeNullMetadata": true,
              "legendFormat": "Last WAL APPLIED (replay)",
              "range": true,
              "refId": "C",
              "useBackend": false
            },
            {
              "datasource": {
                "type": "prometheus",
                "uid": "PC3E95692D54ABCC0"
              },
              "disableTextWrap": false,
              "editorMode": "builder",
              "expr": "sum by(col) (sql_pg_replication_v2{col=\"sent_lsn_bytes\", server=\"PROD\"})",
              "fullMetaSearch": false,
              "hide": false,
              "includeNullMetadata": true,
              "legendFormat": "Last WAL SENT",
              "range": true,
              "refId": "D",
              "useBackend": false
            },
            {
              "datasource": {
                "type": "prometheus",
                "uid": "PC3E95692D54ABCC0"
              },
              "disableTextWrap": false,
              "editorMode": "builder",
              "expr": "sum by(col) (sql_pg_replication_v2{col=\"write_lsn_bytes\", server=\"PROD\"})",
              "fullMetaSearch": false,
              "hide": false,
              "includeNullMetadata": true,
              "legendFormat": "Last WAL RECEIVED (write)",
              "range": true,
              "refId": "E",
              "useBackend": false
            }
          ],
          "title": "Replication: WAL location - PROD",
          "type": "timeseries"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "PC3E95692D54ABCC0"
          },
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              },
              "custom": {
                "axisBorderShow": false,
                "axisCenteredZero": false,
                "axisColorMode": "text",
                "axisLabel": "",
                "axisPlacement": "auto",
                "barAlignment": 0,
                "barWidthFactor": 0.6,
                "drawStyle": "line",
                "fillOpacity": 0,
                "gradientMode": "none",
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "viz": false
                },
                "insertNulls": false,
                "lineInterpolation": "linear",
                "lineWidth": 1,
                "pointSize": 5,
                "scaleDistribution": {
                  "type": "linear"
                },
                "showPoints": "auto",
                "spanNulls": false,
                "stacking": {
                  "group": "A",
                  "mode": "none"
                },
                "thresholdsStyle": {
                  "mode": "off"
                }
              },
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green",
                    "value": null
                  },
                  {
                    "color": "red",
                    "value": 80
                  }
                ]
              },
              "unit": "bytes"
            },
            "overrides": []
          },
          "gridPos": {
            "h": 15,
            "w": 12,
            "x": 12,
            "y": 12028
          },
          "id": 759,
          "interval": "1m",
          "options": {
            "legend": {
              "calcs": [],
              "displayMode": "table",
              "placement": "right",
              "showLegend": true
            },
            "tooltip": {
              "hideZeros": false,
              "mode": "single",
              "sort": "none"
            }
          },
          "pluginVersion": "11.5.2",
          "targets": [
            {
              "datasource": {
                "type": "prometheus",
                "uid": "PC3E95692D54ABCC0"
              },
              "disableTextWrap": false,
              "editorMode": "builder",
              "expr": "sum by(col) (sql_pg_replication_v2{col=\"wal_lsn_bytes\", server=\"DR\"})",
              "fullMetaSearch": false,
              "hide": false,
              "includeNullMetadata": true,
              "legendFormat": "Current WAL LSN",
              "range": true,
              "refId": "B",
              "useBackend": false
            },
            {
              "datasource": {
                "type": "prometheus",
                "uid": "PC3E95692D54ABCC0"
              },
              "disableTextWrap": false,
              "editorMode": "builder",
              "expr": "sum by(col) (sql_pg_replication_v2{col=\"flush_lsn_bytes\", server=\"DR\"})",
              "fullMetaSearch": false,
              "hide": false,
              "includeNullMetadata": true,
              "legendFormat": "Last WAL PERSISTED (flush)",
              "range": true,
              "refId": "A",
              "useBackend": false
            },
            {
              "datasource": {
                "type": "prometheus",
                "uid": "PC3E95692D54ABCC0"
              },
              "disableTextWrap": false,
              "editorMode": "builder",
              "expr": "sum by(col) (sql_pg_replication_v2{col=\"replay_lsn_bytes\", server=\"DR\"})",
              "fullMetaSearch": false,
              "hide": false,
              "includeNullMetadata": true,
              "legendFormat": "Last WAL APPLIED (replay)",
              "range": true,
              "refId": "C",
              "useBackend": false
            },
            {
              "datasource": {
                "type": "prometheus",
                "uid": "PC3E95692D54ABCC0"
              },
              "disableTextWrap": false,
              "editorMode": "builder",
              "expr": "sum by(col) (sql_pg_replication_v2{col=\"sent_lsn_bytes\", server=\"DR\"})",
              "fullMetaSearch": false,
              "hide": false,
              "includeNullMetadata": true,
              "legendFormat": "Last WAL SENT",
              "range": true,
              "refId": "D",
              "useBackend": false
            },
            {
              "datasource": {
                "type": "prometheus",
                "uid": "PC3E95692D54ABCC0"
              },
              "disableTextWrap": false,
              "editorMode": "builder",
              "expr": "sum by(col) (sql_pg_replication_v2{col=\"write_lsn_bytes\", server=\"DR\"})",
              "fullMetaSearch": false,
              "hide": false,
              "includeNullMetadata": true,
              "legendFormat": "Last WAL RECEIVED (write)",
              "range": true,
              "refId": "E",
              "useBackend": false
            }
          ],
          "title": "Replication: WAL location - DR",
          "type": "timeseries"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "PC3E95692D54ABCC0"
          },
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              },
              "custom": {
                "axisBorderShow": false,
                "axisCenteredZero": false,
                "axisColorMode": "text",
                "axisLabel": "",
                "axisPlacement": "auto",
                "barAlignment": 0,
                "barWidthFactor": 0.6,
                "drawStyle": "line",
                "fillOpacity": 0,
                "gradientMode": "none",
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "viz": false
                },
                "insertNulls": false,
                "lineInterpolation": "linear",
                "lineWidth": 1,
                "pointSize": 5,
                "scaleDistribution": {
                  "type": "linear"
                },
                "showPoints": "auto",
                "spanNulls": false,
                "stacking": {
                  "group": "A",
                  "mode": "none"
                },
                "thresholdsStyle": {
                  "mode": "off"
                }
              },
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green",
                    "value": null
                  },
                  {
                    "color": "red",
                    "value": 80
                  }
                ]
              },
              "unit": "string"
            },
            "overrides": []
          },
          "gridPos": {
            "h": 12,
            "w": 12,
            "x": 0,
            "y": 12043
          },
          "id": 761,
          "interval": "1m",
          "options": {
            "legend": {
              "calcs": [],
              "displayMode": "table",
              "placement": "right",
              "showLegend": true
            },
            "tooltip": {
              "hideZeros": false,
              "mode": "single",
              "sort": "none"
            }
          },
          "pluginVersion": "11.5.2",
          "targets": [
            {
              "datasource": {
                "type": "prometheus",
                "uid": "PC3E95692D54ABCC0"
              },
              "disableTextWrap": false,
              "editorMode": "builder",
              "expr": "sum by(col) (sql_pg_replication_v2{col=~\"flush_lag_seconds|replay_lag_seconds|write_lag_seconds\", server=\"PROD\"})",
              "fullMetaSearch": false,
              "hide": false,
              "includeNullMetadata": true,
              "legendFormat": "{{col}}",
              "range": true,
              "refId": "B",
              "useBackend": false
            }
          ],
          "title": "Replication: Lag - PROD",
          "type": "timeseries"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "PC3E95692D54ABCC0"
          },
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              },
              "custom": {
                "axisBorderShow": false,
                "axisCenteredZero": false,
                "axisColorMode": "text",
                "axisLabel": "",
                "axisPlacement": "auto",
                "barAlignment": 0,
                "barWidthFactor": 0.6,
                "drawStyle": "line",
                "fillOpacity": 0,
                "gradientMode": "none",
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "viz": false
                },
                "insertNulls": false,
                "lineInterpolation": "linear",
                "lineWidth": 1,
                "pointSize": 5,
                "scaleDistribution": {
                  "type": "linear"
                },
                "showPoints": "auto",
                "spanNulls": false,
                "stacking": {
                  "group": "A",
                  "mode": "none"
                },
                "thresholdsStyle": {
                  "mode": "off"
                }
              },
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green",
                    "value": null
                  },
                  {
                    "color": "red",
                    "value": 80
                  }
                ]
              },
              "unit": "string"
            },
            "overrides": []
          },
          "gridPos": {
            "h": 12,
            "w": 12,
            "x": 12,
            "y": 12043
          },
          "id": 762,
          "interval": "1m",
          "options": {
            "legend": {
              "calcs": [],
              "displayMode": "table",
              "placement": "right",
              "showLegend": true
            },
            "tooltip": {
              "hideZeros": false,
              "mode": "single",
              "sort": "none"
            }
          },
          "pluginVersion": "11.5.2",
          "targets": [
            {
              "datasource": {
                "type": "prometheus",
                "uid": "PC3E95692D54ABCC0"
              },
              "disableTextWrap": false,
              "editorMode": "builder",
              "expr": "sum by(col) (sql_pg_replication_v2{col=~\"flush_lag_seconds|replay_lag_seconds|write_lag_seconds\", server=\"DR\"})",
              "fullMetaSearch": false,
              "hide": false,
              "includeNullMetadata": true,
              "legendFormat": "{{col}}",
              "range": true,
              "refId": "B",
              "useBackend": false
            }
          ],
          "title": "Replication: Lag - DR",
          "type": "timeseries"
        }
      ],
      "title": "Replication",
      "type": "row"
    },
    {
      "collapsed": true,
      "gridPos": {
        "h": 1,
        "w": 24,
        "x": 0,
        "y": 17
      },
      "id": 572,
      "panels": [
        {
          "datasource": {
            "type": "prometheus",
            "uid": "$datasource"
          },
          "description": "Basic CPU info",
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              },
              "custom": {
                "axisBorderShow": false,
                "axisCenteredZero": false,
                "axisColorMode": "text",
                "axisLabel": "",
                "axisPlacement": "auto",
                "barAlignment": 0,
                "barWidthFactor": 0.6,
                "drawStyle": "line",
                "fillOpacity": 0,
                "gradientMode": "none",
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "viz": false
                },
                "insertNulls": false,
                "lineInterpolation": "linear",
                "lineWidth": 1,
                "pointSize": 5,
                "scaleDistribution": {
                  "type": "linear"
                },
                "showPoints": "auto",
                "spanNulls": false,
                "stacking": {
                  "group": "A",
                  "mode": "none"
                },
                "thresholdsStyle": {
                  "mode": "off"
                }
              },
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green",
                    "value": null
                  },
                  {
                    "color": "red",
                    "value": 80
                  }
                ]
              },
              "unit": "percentunit"
            },
            "overrides": [
              {
                "matcher": {
                  "id": "byFrameRefID",
                  "options": "A"
                },
                "properties": [
                  {
                    "id": "custom.axisPlacement",
                    "value": "right"
                  },
                  {
                    "id": "unit",
                    "value": "short"
                  }
                ]
              }
            ]
          },
          "gridPos": {
            "h": 11,
            "w": 12,
            "x": 0,
            "y": 50
          },
          "id": 784,
          "interval": "1m",
          "options": {
            "legend": {
              "calcs": [
                "mean",
                "max"
              ],
              "displayMode": "table",
              "placement": "right",
              "showLegend": true,
              "sortBy": "Mean",
              "sortDesc": true
            },
            "tooltip": {
              "hideZeros": false,
              "maxHeight": 600,
              "mode": "single",
              "sort": "none"
            }
          },
          "pluginVersion": "11.5.2",
          "targets": [
            {
              "datasource": {
                "uid": "$datasource"
              },
              "disableTextWrap": false,
              "editorMode": "code",
              "expr": " avg by (node, mode) (rate(node_cpu_seconds_total{mode!=\"idle\", node=~\".*db.*\"}[1m]))",
              "format": "time_series",
              "fullMetaSearch": false,
              "hide": false,
              "includeNullMetadata": true,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "{{node}} | {{mode}}",
              "range": true,
              "refId": "B",
              "step": 240,
              "useBackend": false
            }
          ],
          "title": "CPU Utilization",
          "type": "timeseries"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "$datasource"
          },
          "description": "Basic memory usage",
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              },
              "custom": {
                "axisBorderShow": true,
                "axisCenteredZero": false,
                "axisColorMode": "text",
                "axisLabel": "",
                "axisPlacement": "auto",
                "barAlignment": 0,
                "barWidthFactor": 0.6,
                "drawStyle": "line",
                "fillOpacity": 0,
                "gradientMode": "none",
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "viz": false
                },
                "insertNulls": false,
                "lineInterpolation": "linear",
                "lineWidth": 1,
                "pointSize": 5,
                "scaleDistribution": {
                  "type": "linear"
                },
                "showPoints": "never",
                "spanNulls": false,
                "stacking": {
                  "group": "A",
                  "mode": "none"
                },
                "thresholdsStyle": {
                  "mode": "off"
                }
              },
              "decimals": 0,
              "fieldMinMax": false,
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green",
                    "value": null
                  },
                  {
                    "color": "red",
                    "value": 80
                  }
                ]
              },
              "unit": "decbytes"
            },
            "overrides": []
          },
          "gridPos": {
            "h": 11,
            "w": 12,
            "x": 12,
            "y": 50
          },
          "id": 855,
          "options": {
            "legend": {
              "calcs": [
                "firstNotNull",
                "min",
                "max",
                "lastNotNull"
              ],
              "displayMode": "table",
              "placement": "right",
              "showLegend": true
            },
            "tooltip": {
              "hideZeros": false,
              "mode": "single",
              "sort": "none"
            }
          },
          "pluginVersion": "11.5.2",
          "targets": [
            {
              "datasource": {
                "uid": "$datasource"
              },
              "editorMode": "code",
              "expr": "(avg by (node)(node_memory_MemTotal_bytes{node=~\".*db.*\"})) ",
              "format": "time_series",
              "hide": false,
              "interval": "",
              "intervalFactor": 2,
              "legendFormat": "{{node}} – Total Physical RAM Available",
              "range": true,
              "refId": "A",
              "step": 240
            },
            {
              "datasource": {
                "uid": "$datasource"
              },
              "editorMode": "code",
              "expr": "(avg by (node)(node_memory_MemAvailable_bytes{node=~\".*db.*\"})) ",
              "format": "time_series",
              "hide": false,
              "interval": "",
              "intervalFactor": 2,
              "legendFormat": "{{node}} – Memory ready for new allocations (free + reclaimable)",
              "range": true,
              "refId": "B",
              "step": 240
            },
            {
              "datasource": {
                "uid": "$datasource"
              },
              "editorMode": "code",
              "expr": "(avg by (node)(node_memory_MemFree_bytes{node=~\".*db.*\"})) ",
              "format": "time_series",
              "hide": false,
              "interval": "",
              "intervalFactor": 2,
              "legendFormat": "{{node}} – Completely free",
              "range": true,
              "refId": "D",
              "step": 240
            },
            {
              "datasource": {
                "uid": "$datasource"
              },
              "editorMode": "code",
              "expr": "(avg by (node)(node_memory_Buffers_bytes{node=~\".*db.*\"})) ",
              "format": "time_series",
              "hide": false,
              "interval": "",
              "intervalFactor": 2,
              "legendFormat": "{{node}} – Memory used for I/O buffering",
              "range": true,
              "refId": "C",
              "step": 240
            },
            {
              "datasource": {
                "uid": "$datasource"
              },
              "editorMode": "code",
              "expr": "(avg by (node)(node_memory_Cached_bytes{node=~\".*db.*\"})) ",
              "format": "time_series",
              "hide": false,
              "interval": "",
              "intervalFactor": 2,
              "legendFormat": "{{node}} – File cache memory",
              "range": true,
              "refId": "E",
              "step": 240
            },
            {
              "datasource": {
                "uid": "$datasource"
              },
              "editorMode": "code",
              "expr": "(avg by (node)(node_memory_Active_bytes{node=~\".*db.*\"})) ",
              "format": "time_series",
              "hide": false,
              "interval": "",
              "intervalFactor": 2,
              "legendFormat": "{{node}} – Memory pages actively used by processes.",
              "range": true,
              "refId": "F",
              "step": 240
            },
            {
              "datasource": {
                "uid": "$datasource"
              },
              "editorMode": "code",
              "expr": "(avg by (node)(node_memory_Shmem_bytes{node=~\".*db.*\"})) ",
              "format": "time_series",
              "hide": false,
              "interval": "",
              "intervalFactor": 2,
              "legendFormat": "{{node}} - Shared memory (HP-off for PG)",
              "range": true,
              "refId": "G",
              "step": 240
            },
            {
              "datasource": {
                "uid": "$datasource"
              },
              "editorMode": "code",
              "expr": "(avg by (node)(node_memory_Committed_AS_bytes{node=~\".*db.*\"})) ",
              "format": "time_series",
              "hide": false,
              "interval": "",
              "intervalFactor": 2,
              "legendFormat": "{{node}} - Total memory promised to processes",
              "range": true,
              "refId": "H",
              "step": 240
            },
            {
              "datasource": {
                "uid": "$datasource"
              },
              "editorMode": "code",
              "expr": "(avg by (node)(node_memory_CommitLimit_bytes{node=~\".*db.*\"})) ",
              "format": "time_series",
              "hide": false,
              "interval": "",
              "intervalFactor": 2,
              "legendFormat": "{{node}} - Maximum memory allocable before hitting the limit",
              "range": true,
              "refId": "I",
              "step": 240
            },
            {
              "datasource": {
                "uid": "$datasource"
              },
              "editorMode": "code",
              "expr": "(avg by (node)(node_memory_AnonHugePages_bytes{node=~\".*db.*\"})) ",
              "format": "time_series",
              "hide": false,
              "interval": "",
              "intervalFactor": 2,
              "legendFormat": "{{node}} - Huge pages used for anonymous memory allocations",
              "range": true,
              "refId": "J",
              "step": 240
            },
            {
              "datasource": {
                "uid": "$datasource"
              },
              "editorMode": "code",
              "expr": "(avg by (node)(node_memory_SwapTotal_bytes{node=~\".*db.*\"} - node_memory_SwapFree_bytes{node=~\".*db.*\"})) ",
              "format": "time_series",
              "hide": false,
              "interval": "",
              "intervalFactor": 2,
              "legendFormat": "{{node}} - Swap Usage",
              "range": true,
              "refId": "K",
              "step": 240
            },
            {
              "datasource": {
                "uid": "$datasource"
              },
              "editorMode": "code",
              "expr": "(avg by (node)(node_memory_Active_anon_bytes{node=~\".*db.*\"})) ",
              "format": "time_series",
              "hide": false,
              "interval": "",
              "intervalFactor": 2,
              "legendFormat": "{{node}} - Active memory used by anonymous pages (~PG BE’s private memory)",
              "range": true,
              "refId": "L",
              "step": 240
            },
            {
              "datasource": {
                "uid": "$datasource"
              },
              "editorMode": "code",
              "expr": "(avg by (node)(node_memory_Active_file_bytes{node=~\".*db.*\"})) ",
              "format": "time_series",
              "hide": false,
              "interval": "",
              "intervalFactor": 2,
              "legendFormat": "{{node}} - Active memory used by files",
              "range": true,
              "refId": "M",
              "step": 240
            }
          ],
          "title": "Memory",
          "type": "timeseries"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "$datasource"
          },
          "description": "Basic CPU info",
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              },
              "custom": {
                "axisBorderShow": false,
                "axisCenteredZero": false,
                "axisColorMode": "text",
                "axisLabel": "",
                "axisPlacement": "auto",
                "fillOpacity": 80,
                "gradientMode": "none",
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "viz": false
                },
                "lineWidth": 1,
                "scaleDistribution": {
                  "type": "linear"
                },
                "thresholdsStyle": {
                  "mode": "off"
                }
              },
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green",
                    "value": null
                  },
                  {
                    "color": "red",
                    "value": 80
                  }
                ]
              },
              "unit": "percentunit"
            },
            "overrides": [
              {
                "matcher": {
                  "id": "byName",
                  "options": "cpu\\mode"
                },
                "properties": [
                  {
                    "id": "unit",
                    "value": "string"
                  }
                ]
              }
            ]
          },
          "gridPos": {
            "h": 8,
            "w": 12,
            "x": 0,
            "y": 61
          },
          "id": 852,
          "interval": "1m",
          "options": {
            "barRadius": 0,
            "barWidth": 0.97,
            "fullHighlight": false,
            "groupWidth": 0.7,
            "legend": {
              "calcs": [],
              "displayMode": "list",
              "placement": "bottom",
              "showLegend": true
            },
            "orientation": "auto",
            "showValue": "auto",
            "stacking": "none",
            "tooltip": {
              "hideZeros": false,
              "maxHeight": 600,
              "mode": "single",
              "sort": "none"
            },
            "xTickLabelRotation": 0,
            "xTickLabelSpacing": 0
          },
          "pluginVersion": "11.5.2",
          "targets": [
            {
              "datasource": {
                "uid": "$datasource"
              },
              "disableTextWrap": false,
              "editorMode": "code",
              "expr": "avg by(mode, cpu) (rate(node_cpu_seconds_total{node=~\".*801.*\",mode=~\"(system|user|iowait|softirq|steal|irq|nice)\"}[1m]))",
              "format": "table",
              "fullMetaSearch": false,
              "hide": false,
              "includeNullMetadata": true,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "{{mode}}",
              "range": true,
              "refId": "CPU per core/mode",
              "step": 240,
              "useBackend": false
            }
          ],
          "title": "CPU per core/mode, node 801",
          "transformations": [
            {
              "id": "groupBy",
              "options": {
                "fields": {
                  "Time": {
                    "aggregations": []
                  },
                  "Value": {
                    "aggregations": [
                      "mean"
                    ],
                    "operation": "aggregate"
                  },
                  "cpu": {
                    "aggregations": [],
                    "operation": "groupby"
                  },
                  "mode": {
                    "aggregations": [],
                    "operation": "groupby"
                  }
                }
              }
            },
            {
              "id": "groupingToMatrix",
              "options": {
                "columnField": "mode",
                "rowField": "cpu",
                "valueField": "Value (mean)"
              }
            },
            {
              "id": "calculateField",
              "options": {
                "mode": "reduceRow",
                "reduce": {
                  "include": [
                    "irq",
                    "nice",
                    "user",
                    "steal",
                    "iowait",
                    "system",
                    "softirq"
                  ],
                  "reducer": "sum"
                },
                "replaceFields": false
              }
            }
          ],
          "type": "barchart"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "$datasource"
          },
          "description": "Basic CPU info",
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              },
              "custom": {
                "axisBorderShow": false,
                "axisCenteredZero": false,
                "axisColorMode": "text",
                "axisLabel": "",
                "axisPlacement": "auto",
                "fillOpacity": 80,
                "gradientMode": "none",
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "viz": false
                },
                "lineWidth": 1,
                "scaleDistribution": {
                  "type": "linear"
                },
                "thresholdsStyle": {
                  "mode": "off"
                }
              },
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green",
                    "value": null
                  },
                  {
                    "color": "red",
                    "value": 80
                  }
                ]
              },
              "unit": "percentunit"
            },
            "overrides": [
              {
                "matcher": {
                  "id": "byName",
                  "options": "cpu\\mode"
                },
                "properties": [
                  {
                    "id": "unit",
                    "value": "string"
                  }
                ]
              }
            ]
          },
          "gridPos": {
            "h": 8,
            "w": 12,
            "x": 12,
            "y": 61
          },
          "id": 853,
          "interval": "1m",
          "options": {
            "barRadius": 0,
            "barWidth": 0.97,
            "fullHighlight": false,
            "groupWidth": 0.7,
            "legend": {
              "calcs": [],
              "displayMode": "list",
              "placement": "bottom",
              "showLegend": true
            },
            "orientation": "auto",
            "showValue": "auto",
            "stacking": "none",
            "tooltip": {
              "hideZeros": false,
              "maxHeight": 600,
              "mode": "single",
              "sort": "none"
            },
            "xTickLabelRotation": 0,
            "xTickLabelSpacing": 0
          },
          "pluginVersion": "11.5.2",
          "targets": [
            {
              "datasource": {
                "uid": "$datasource"
              },
              "disableTextWrap": false,
              "editorMode": "code",
              "expr": "avg by(mode, cpu, node) (rate(node_cpu_seconds_total{node=~\".*802.*\",mode=~\"(system|user|iowait|softirq|steal|irq|nice)\"}[1m]))",
              "format": "table",
              "fullMetaSearch": false,
              "hide": false,
              "includeNullMetadata": true,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "{{mode}}",
              "range": true,
              "refId": "CPU per core/mode",
              "step": 240,
              "useBackend": false
            }
          ],
          "title": "CPU per core/mode, node 802",
          "transformations": [
            {
              "id": "groupBy",
              "options": {
                "fields": {
                  "Time": {
                    "aggregations": []
                  },
                  "Value": {
                    "aggregations": [
                      "mean"
                    ],
                    "operation": "aggregate"
                  },
                  "cpu": {
                    "aggregations": [],
                    "operation": "groupby"
                  },
                  "mode": {
                    "aggregations": [],
                    "operation": "groupby"
                  }
                }
              }
            },
            {
              "id": "groupingToMatrix",
              "options": {
                "columnField": "mode",
                "rowField": "cpu",
                "valueField": "Value (mean)"
              }
            },
            {
              "id": "calculateField",
              "options": {
                "mode": "reduceRow",
                "reduce": {
                  "include": [
                    "irq",
                    "nice",
                    "user",
                    "steal",
                    "iowait",
                    "system",
                    "softirq"
                  ],
                  "reducer": "sum"
                },
                "replaceFields": false
              }
            }
          ],
          "type": "barchart"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "$datasource"
          },
          "description": "Basic CPU info",
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              },
              "custom": {
                "axisBorderShow": false,
                "axisCenteredZero": false,
                "axisColorMode": "text",
                "axisLabel": "",
                "axisPlacement": "auto",
                "barAlignment": 0,
                "barWidthFactor": 0.6,
                "drawStyle": "line",
                "fillOpacity": 0,
                "gradientMode": "none",
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "viz": false
                },
                "insertNulls": false,
                "lineInterpolation": "linear",
                "lineWidth": 1,
                "pointSize": 5,
                "scaleDistribution": {
                  "type": "linear"
                },
                "showPoints": "auto",
                "spanNulls": false,
                "stacking": {
                  "group": "A",
                  "mode": "none"
                },
                "thresholdsStyle": {
                  "mode": "off"
                }
              },
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green",
                    "value": null
                  },
                  {
                    "color": "red",
                    "value": 80
                  }
                ]
              },
              "unit": "percentunit"
            },
            "overrides": [
              {
                "matcher": {
                  "id": "byFrameRefID",
                  "options": "A"
                },
                "properties": [
                  {
                    "id": "custom.axisPlacement",
                    "value": "right"
                  },
                  {
                    "id": "unit",
                    "value": "short"
                  }
                ]
              }
            ]
          },
          "gridPos": {
            "h": 11,
            "w": 12,
            "x": 0,
            "y": 69
          },
          "id": 851,
          "interval": "1m",
          "options": {
            "legend": {
              "calcs": [
                "mean",
                "max"
              ],
              "displayMode": "table",
              "placement": "right",
              "showLegend": true,
              "sortBy": "Mean",
              "sortDesc": true
            },
            "tooltip": {
              "hideZeros": false,
              "maxHeight": 600,
              "mode": "single",
              "sort": "none"
            }
          },
          "pluginVersion": "11.5.2",
          "targets": [
            {
              "datasource": {
                "uid": "$datasource"
              },
              "disableTextWrap": false,
              "editorMode": "code",
              "expr": "sum by(cpu, node) (rate(node_cpu_seconds_total{mode!=\"idle\", node=~\".*dbs801.*\"}[1m]))",
              "format": "time_series",
              "fullMetaSearch": false,
              "hide": false,
              "includeNullMetadata": true,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "{{node}} | {{mode}}",
              "range": true,
              "refId": "B",
              "step": 240,
              "useBackend": false
            }
          ],
          "title": "CPU Utilization per core, node 801",
          "type": "timeseries"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "$datasource"
          },
          "description": "Basic CPU info",
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              },
              "custom": {
                "axisBorderShow": false,
                "axisCenteredZero": false,
                "axisColorMode": "text",
                "axisLabel": "",
                "axisPlacement": "auto",
                "barAlignment": 0,
                "barWidthFactor": 0.6,
                "drawStyle": "line",
                "fillOpacity": 0,
                "gradientMode": "none",
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "viz": false
                },
                "insertNulls": false,
                "lineInterpolation": "linear",
                "lineWidth": 1,
                "pointSize": 5,
                "scaleDistribution": {
                  "type": "linear"
                },
                "showPoints": "auto",
                "spanNulls": false,
                "stacking": {
                  "group": "A",
                  "mode": "none"
                },
                "thresholdsStyle": {
                  "mode": "off"
                }
              },
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green",
                    "value": null
                  },
                  {
                    "color": "red",
                    "value": 80
                  }
                ]
              },
              "unit": "percentunit"
            },
            "overrides": [
              {
                "matcher": {
                  "id": "byFrameRefID",
                  "options": "A"
                },
                "properties": [
                  {
                    "id": "custom.axisPlacement",
                    "value": "right"
                  },
                  {
                    "id": "unit",
                    "value": "short"
                  }
                ]
              }
            ]
          },
          "gridPos": {
            "h": 11,
            "w": 12,
            "x": 12,
            "y": 69
          },
          "id": 854,
          "interval": "1m",
          "options": {
            "legend": {
              "calcs": [
                "mean",
                "max"
              ],
              "displayMode": "table",
              "placement": "right",
              "showLegend": true,
              "sortBy": "Mean",
              "sortDesc": true
            },
            "tooltip": {
              "hideZeros": false,
              "maxHeight": 600,
              "mode": "single",
              "sort": "none"
            }
          },
          "pluginVersion": "11.5.2",
          "targets": [
            {
              "datasource": {
                "uid": "$datasource"
              },
              "disableTextWrap": false,
              "editorMode": "code",
              "expr": "sum by(cpu, node) (rate(node_cpu_seconds_total{mode!=\"idle\", node=~\".*dbs802.*\"}[1m]))",
              "format": "time_series",
              "fullMetaSearch": false,
              "hide": false,
              "includeNullMetadata": true,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "{{node}} | {{mode}}",
              "range": true,
              "refId": "B",
              "step": 240,
              "useBackend": false
            }
          ],
          "title": "CPU Utilization per core, node 802",
          "type": "timeseries"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "PC3E95692D54ABCC0"
          },
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              },
              "custom": {
                "axisBorderShow": false,
                "axisCenteredZero": false,
                "axisColorMode": "text",
                "axisLabel": "",
                "axisPlacement": "auto",
                "barAlignment": 0,
                "barWidthFactor": 0.6,
                "drawStyle": "line",
                "fillOpacity": 0,
                "gradientMode": "none",
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "viz": false
                },
                "insertNulls": false,
                "lineInterpolation": "linear",
                "lineWidth": 1,
                "pointSize": 5,
                "scaleDistribution": {
                  "type": "linear"
                },
                "showPoints": "auto",
                "spanNulls": false,
                "stacking": {
                  "group": "A",
                  "mode": "none"
                },
                "thresholdsStyle": {
                  "mode": "off"
                }
              },
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green",
                    "value": null
                  },
                  {
                    "color": "red",
                    "value": 80
                  }
                ]
              },
              "unit": "locale"
            },
            "overrides": []
          },
          "gridPos": {
            "h": 12,
            "w": 12,
            "x": 0,
            "y": 80
          },
          "id": 829,
          "interval": "1m",
          "options": {
            "legend": {
              "calcs": [],
              "displayMode": "list",
              "placement": "bottom",
              "showLegend": true
            },
            "tooltip": {
              "hideZeros": false,
              "mode": "single",
              "sort": "none"
            }
          },
          "pluginVersion": "11.5.2",
          "targets": [
            {
              "disableTextWrap": false,
              "editorMode": "builder",
              "expr": "sum by(datname) (increase(pg_stat_database_tup_returned[1m]))",
              "fullMetaSearch": false,
              "includeNullMetadata": true,
              "legendFormat": "__auto",
              "range": true,
              "refId": "A",
              "useBackend": false
            }
          ],
          "title": "Databases tuples returned PER MINUTE",
          "type": "timeseries"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${datasource}"
          },
          "description": "",
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              },
              "custom": {
                "axisBorderShow": false,
                "axisCenteredZero": false,
                "axisColorMode": "text",
                "axisLabel": "",
                "axisPlacement": "auto",
                "barAlignment": 0,
                "barWidthFactor": 0.6,
                "drawStyle": "line",
                "fillOpacity": 0,
                "gradientMode": "none",
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "viz": false
                },
                "insertNulls": false,
                "lineInterpolation": "linear",
                "lineWidth": 1,
                "pointSize": 5,
                "scaleDistribution": {
                  "type": "linear"
                },
                "showPoints": "always",
                "spanNulls": false,
                "stacking": {
                  "group": "A",
                  "mode": "none"
                },
                "thresholdsStyle": {
                  "mode": "off"
                }
              },
              "decimals": 0,
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green",
                    "value": null
                  },
                  {
                    "color": "red",
                    "value": 80
                  }
                ]
              },
              "unit": "locale"
            },
            "overrides": []
          },
          "gridPos": {
            "h": 12,
            "w": 12,
            "x": 12,
            "y": 80
          },
          "id": 655,
          "interval": "1m",
          "options": {
            "legend": {
              "calcs": [
                "max",
                "lastNotNull"
              ],
              "displayMode": "table",
              "placement": "right",
              "showLegend": true,
              "sortBy": "Max",
              "sortDesc": true
            },
            "tooltip": {
              "hideZeros": false,
              "maxHeight": 600,
              "mode": "single",
              "sort": "none"
            }
          },
          "pluginVersion": "11.5.2",
          "targets": [
            {
              "datasource": {
                "type": "prometheus",
                "uid": "${datasource}"
              },
              "disableTextWrap": false,
              "editorMode": "builder",
              "expr": "sum by(col, database_name) (increase(sql_pg_dbstats_v2{col=~\"transactions_committed|transactions_rolled_back\"}[1m]))",
              "fullMetaSearch": false,
              "hide": false,
              "includeNullMetadata": true,
              "instant": false,
              "legendFormat": "{{col}} | {{database_name}}",
              "range": true,
              "refId": "B",
              "useBackend": false
            }
          ],
          "title": "Database transactions PER MINUTE",
          "type": "timeseries"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${datasource}"
          },
          "description": "",
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              },
              "custom": {
                "axisBorderShow": false,
                "axisCenteredZero": false,
                "axisColorMode": "text",
                "axisLabel": "",
                "axisPlacement": "auto",
                "barAlignment": 0,
                "barWidthFactor": 0.6,
                "drawStyle": "line",
                "fillOpacity": 0,
                "gradientMode": "none",
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "viz": false
                },
                "insertNulls": false,
                "lineInterpolation": "linear",
                "lineWidth": 1,
                "pointSize": 5,
                "scaleDistribution": {
                  "type": "linear"
                },
                "showPoints": "always",
                "spanNulls": false,
                "stacking": {
                  "group": "A",
                  "mode": "normal"
                },
                "thresholdsStyle": {
                  "mode": "off"
                }
              },
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green",
                    "value": null
                  },
                  {
                    "color": "red",
                    "value": 80
                  }
                ]
              }
            },
            "overrides": []
          },
          "gridPos": {
            "h": 10,
            "w": 12,
            "x": 0,
            "y": 92
          },
          "id": 565,
          "interval": "1m",
          "options": {
            "legend": {
              "calcs": [
                "max",
                "lastNotNull"
              ],
              "displayMode": "table",
              "placement": "right",
              "showLegend": true,
              "sortBy": "Last *",
              "sortDesc": true
            },
            "tooltip": {
              "hideZeros": false,
              "maxHeight": 600,
              "mode": "single",
              "sort": "none"
            }
          },
          "pluginVersion": "11.5.2",
          "targets": [
            {
              "datasource": {
                "type": "prometheus",
                "uid": "${datasource}"
              },
              "disableTextWrap": false,
              "editorMode": "builder",
              "expr": "sum by(col, database_name) (sql_pg_dbstats_v2{col=~\"total_backends\", database_name=\"aisprod-bg2\"})",
              "fullMetaSearch": false,
              "hide": true,
              "includeNullMetadata": true,
              "instant": false,
              "legendFormat": "{{col}}",
              "range": true,
              "refId": "A",
              "useBackend": false
            },
            {
              "datasource": {
                "type": "prometheus",
                "uid": "${datasource}"
              },
              "disableTextWrap": false,
              "editorMode": "builder",
              "expr": "sum by(datname) (pg_stat_database_numbackends)",
              "fullMetaSearch": false,
              "hide": false,
              "includeNullMetadata": true,
              "instant": false,
              "legendFormat": "{{col}}",
              "range": true,
              "refId": "B",
              "useBackend": false
            }
          ],
          "title": "Database backends",
          "type": "timeseries"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${datasource}"
          },
          "description": "",
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              },
              "custom": {
                "axisBorderShow": false,
                "axisCenteredZero": false,
                "axisColorMode": "text",
                "axisLabel": "",
                "axisPlacement": "auto",
                "barAlignment": 0,
                "barWidthFactor": 0.6,
                "drawStyle": "line",
                "fillOpacity": 0,
                "gradientMode": "none",
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "viz": false
                },
                "insertNulls": false,
                "lineInterpolation": "linear",
                "lineWidth": 1,
                "pointSize": 5,
                "scaleDistribution": {
                  "type": "linear"
                },
                "showPoints": "auto",
                "spanNulls": false,
                "stacking": {
                  "group": "A",
                  "mode": "none"
                },
                "thresholdsStyle": {
                  "mode": "off"
                }
              },
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green",
                    "value": null
                  },
                  {
                    "color": "red",
                    "value": 80
                  }
                ]
              }
            },
            "overrides": []
          },
          "gridPos": {
            "h": 10,
            "w": 12,
            "x": 12,
            "y": 92
          },
          "id": 573,
          "interval": "1m",
          "options": {
            "legend": {
              "calcs": [
                "max",
                "lastNotNull"
              ],
              "displayMode": "table",
              "placement": "right",
              "showLegend": true,
              "sortBy": "Max",
              "sortDesc": true
            },
            "tooltip": {
              "hideZeros": false,
              "maxHeight": 600,
              "mode": "single",
              "sort": "none"
            }
          },
          "pluginVersion": "11.5.2",
          "targets": [
            {
              "datasource": {
                "type": "prometheus",
                "uid": "${datasource}"
              },
              "disableTextWrap": false,
              "editorMode": "builder",
              "expr": "sum by(col, database_name) (increase(sql_pg_dbstats_v2{col=~\"sessions_established|sessions_abandoned|sessions_fatal|sessions_killed\", database_name=\"aisprod-bg2\"}[2m])) / 2",
              "fullMetaSearch": false,
              "includeNullMetadata": true,
              "instant": false,
              "legendFormat": "{{col}}",
              "range": true,
              "refId": "A",
              "useBackend": false
            }
          ],
          "title": "Sessions established PER MINUTE",
          "type": "timeseries"
        }
      ],
      "title": "General database stats",
      "type": "row"
    },
    {
      "collapsed": true,
      "gridPos": {
        "h": 1,
        "w": 24,
        "x": 0,
        "y": 18
      },
      "id": 770,
      "panels": [
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${datasource}"
          },
          "description": "",
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              },
              "custom": {
                "axisBorderShow": false,
                "axisCenteredZero": false,
                "axisColorMode": "text",
                "axisLabel": "",
                "axisPlacement": "auto",
                "barAlignment": 0,
                "barWidthFactor": 0.6,
                "drawStyle": "line",
                "fillOpacity": 0,
                "gradientMode": "none",
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "viz": false
                },
                "insertNulls": false,
                "lineInterpolation": "linear",
                "lineWidth": 1,
                "pointSize": 5,
                "scaleDistribution": {
                  "type": "linear"
                },
                "showPoints": "always",
                "spanNulls": false,
                "stacking": {
                  "group": "A",
                  "mode": "none"
                },
                "thresholdsStyle": {
                  "mode": "off"
                }
              },
              "decimals": 0,
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green",
                    "value": null
                  },
                  {
                    "color": "red",
                    "value": 80
                  }
                ]
              },
              "unit": "bytes"
            },
            "overrides": [
              {
                "__systemRef": "hideSeriesFrom",
                "matcher": {
                  "id": "byNames",
                  "options": {
                    "mode": "exclude",
                    "names": [
                      "blocks_read_bytes"
                    ],
                    "prefix": "All except:",
                    "readOnly": true
                  }
                },
                "properties": [
                  {
                    "id": "custom.hideFrom",
                    "value": {
                      "legend": false,
                      "tooltip": false,
                      "viz": true
                    }
                  }
                ]
              }
            ]
          },
          "gridPos": {
            "h": 11,
            "w": 12,
            "x": 0,
            "y": 103
          },
          "id": 580,
          "interval": "1m",
          "options": {
            "legend": {
              "calcs": [
                "max",
                "lastNotNull"
              ],
              "displayMode": "table",
              "placement": "right",
              "showLegend": true
            },
            "tooltip": {
              "hideZeros": false,
              "maxHeight": 600,
              "mode": "single",
              "sort": "none"
            }
          },
          "pluginVersion": "11.5.2",
          "targets": [
            {
              "datasource": {
                "type": "prometheus",
                "uid": "${datasource}"
              },
              "disableTextWrap": false,
              "editorMode": "builder",
              "expr": "sum by(col, database_name) (increase(sql_pg_dbstats_v2{col=~\"blocks_hit_bytes|blocks_read_bytes\", database_name=\"aisprod-bg2\"}[2m])) / 120",
              "fullMetaSearch": false,
              "hide": false,
              "includeNullMetadata": true,
              "instant": false,
              "legendFormat": "{{col}}",
              "range": true,
              "refId": "B",
              "useBackend": false
            }
          ],
          "title": "Bytes read from cache and from filesysten",
          "type": "timeseries"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "PC3E95692D54ABCC0"
          },
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              },
              "custom": {
                "axisBorderShow": false,
                "axisCenteredZero": false,
                "axisColorMode": "text",
                "axisLabel": "",
                "axisPlacement": "auto",
                "barAlignment": 0,
                "barWidthFactor": 0.6,
                "drawStyle": "line",
                "fillOpacity": 0,
                "gradientMode": "none",
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "viz": false
                },
                "insertNulls": false,
                "lineInterpolation": "linear",
                "lineWidth": 1,
                "pointSize": 5,
                "scaleDistribution": {
                  "type": "linear"
                },
                "showPoints": "auto",
                "spanNulls": false,
                "stacking": {
                  "group": "A",
                  "mode": "none"
                },
                "thresholdsStyle": {
                  "mode": "off"
                }
              },
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green",
                    "value": null
                  },
                  {
                    "color": "red",
                    "value": 80
                  }
                ]
              },
              "unit": "bytes"
            },
            "overrides": []
          },
          "gridPos": {
            "h": 11,
            "w": 12,
            "x": 12,
            "y": 103
          },
          "id": 862,
          "interval": "1m",
          "options": {
            "legend": {
              "calcs": [
                "mean"
              ],
              "displayMode": "table",
              "placement": "right",
              "showLegend": true,
              "sortBy": "Mean",
              "sortDesc": true
            },
            "tooltip": {
              "hideZeros": false,
              "mode": "single",
              "sort": "none"
            }
          },
          "pluginVersion": "11.5.2",
          "targets": [
            {
              "disableTextWrap": false,
              "editorMode": "builder",
              "expr": "sum by(col) (increase(sql_pg_cluster_v2{col=~\"cache_miss_buffer_allocations_bytes\"}[1m])) / 60",
              "fullMetaSearch": false,
              "includeNullMetadata": true,
              "legendFormat": "__auto",
              "range": true,
              "refId": "A",
              "useBackend": false
            }
          ],
          "title": "Cache-miss buffers allocated, bytes per second",
          "type": "timeseries"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "$datasource"
          },
          "description": "",
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              },
              "custom": {
                "axisBorderShow": false,
                "axisCenteredZero": false,
                "axisColorMode": "text",
                "axisLabel": "",
                "axisPlacement": "auto",
                "barAlignment": 0,
                "barWidthFactor": 0.6,
                "drawStyle": "line",
                "fillOpacity": 40,
                "gradientMode": "opacity",
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "viz": false
                },
                "insertNulls": false,
                "lineInterpolation": "linear",
                "lineWidth": 1,
                "pointSize": 5,
                "scaleDistribution": {
                  "type": "linear"
                },
                "showPoints": "always",
                "spanNulls": false,
                "stacking": {
                  "group": "A",
                  "mode": "none"
                },
                "thresholdsStyle": {
                  "mode": "off"
                }
              },
              "decimals": 1,
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green",
                    "value": null
                  }
                ]
              },
              "unit": "Bps"
            },
            "overrides": []
          },
          "gridPos": {
            "h": 8,
            "w": 12,
            "x": 0,
            "y": 114
          },
          "id": 766,
          "interval": "1m",
          "options": {
            "legend": {
              "calcs": [
                "mean",
                "max",
                "min"
              ],
              "displayMode": "table",
              "placement": "right",
              "showLegend": true,
              "sortBy": "Mean",
              "sortDesc": true
            },
            "tooltip": {
              "hideZeros": false,
              "maxHeight": 600,
              "mode": "multi",
              "sort": "none"
            }
          },
          "pluginVersion": "11.5.2",
          "targets": [
            {
              "datasource": {
                "uid": "$datasource"
              },
              "disableTextWrap": false,
              "editorMode": "builder",
              "expr": "irate(node_disk_read_bytes_total{node=~\"pnrmdbs801|pnrmdbs802\", device=~\"dm-7\"}[1m])",
              "format": "time_series",
              "fullMetaSearch": false,
              "hide": false,
              "includeNullMetadata": true,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "{{node}} - {{device}}",
              "range": true,
              "refId": "B",
              "step": 240,
              "useBackend": false
            }
          ],
          "title": "Read throughput",
          "type": "timeseries"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "$datasource"
          },
          "description": "",
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              },
              "custom": {
                "axisBorderShow": false,
                "axisCenteredZero": false,
                "axisColorMode": "text",
                "axisLabel": "",
                "axisPlacement": "auto",
                "barAlignment": 0,
                "barWidthFactor": 0.6,
                "drawStyle": "line",
                "fillOpacity": 40,
                "gradientMode": "opacity",
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "viz": false
                },
                "insertNulls": false,
                "lineInterpolation": "linear",
                "lineWidth": 1,
                "pointSize": 5,
                "scaleDistribution": {
                  "type": "linear"
                },
                "showPoints": "always",
                "spanNulls": false,
                "stacking": {
                  "group": "A",
                  "mode": "none"
                },
                "thresholdsStyle": {
                  "mode": "off"
                }
              },
              "decimals": 1,
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green",
                    "value": null
                  }
                ]
              },
              "unit": "Bps"
            },
            "overrides": []
          },
          "gridPos": {
            "h": 8,
            "w": 12,
            "x": 12,
            "y": 114
          },
          "id": 767,
          "interval": "1m",
          "options": {
            "legend": {
              "calcs": [
                "mean",
                "max",
                "min"
              ],
              "displayMode": "table",
              "placement": "right",
              "showLegend": true,
              "sortBy": "Mean",
              "sortDesc": true
            },
            "tooltip": {
              "hideZeros": false,
              "maxHeight": 600,
              "mode": "multi",
              "sort": "none"
            }
          },
          "pluginVersion": "11.5.2",
          "targets": [
            {
              "datasource": {
                "uid": "$datasource"
              },
              "disableTextWrap": false,
              "editorMode": "builder",
              "expr": "irate(node_disk_written_bytes_total{node=~\"pnrmdbs801|pnrmdbs802\", device=~\"dm-7\"}[1m])",
              "format": "time_series",
              "fullMetaSearch": false,
              "hide": false,
              "includeNullMetadata": true,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "{{node}} - {{device}}",
              "range": true,
              "refId": "B",
              "step": 240,
              "useBackend": false
            }
          ],
          "title": "Write throughput",
          "type": "timeseries"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "$datasource"
          },
          "description": "",
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              },
              "custom": {
                "axisBorderShow": false,
                "axisCenteredZero": false,
                "axisColorMode": "text",
                "axisLabel": "",
                "axisPlacement": "auto",
                "barAlignment": 0,
                "barWidthFactor": 0.6,
                "drawStyle": "line",
                "fillOpacity": 40,
                "gradientMode": "opacity",
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "viz": false
                },
                "insertNulls": false,
                "lineInterpolation": "linear",
                "lineWidth": 1,
                "pointSize": 5,
                "scaleDistribution": {
                  "type": "linear"
                },
                "showPoints": "always",
                "spanNulls": false,
                "stacking": {
                  "group": "A",
                  "mode": "none"
                },
                "thresholdsStyle": {
                  "mode": "off"
                }
              },
              "decimals": 0,
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green",
                    "value": null
                  }
                ]
              },
              "unit": "iops"
            },
            "overrides": []
          },
          "gridPos": {
            "h": 8,
            "w": 12,
            "x": 0,
            "y": 122
          },
          "id": 768,
          "interval": "1m",
          "options": {
            "legend": {
              "calcs": [
                "mean",
                "max",
                "min"
              ],
              "displayMode": "table",
              "placement": "right",
              "showLegend": true,
              "sortBy": "Mean",
              "sortDesc": true
            },
            "tooltip": {
              "hideZeros": false,
              "maxHeight": 600,
              "mode": "multi",
              "sort": "none"
            }
          },
          "pluginVersion": "11.5.2",
          "targets": [
            {
              "datasource": {
                "uid": "$datasource"
              },
              "disableTextWrap": false,
              "editorMode": "builder",
              "expr": "rate(node_disk_reads_completed_total{node=~\"pnrmdbs801|pnrmdbs802\", device=~\"dm-7\"}[1m])",
              "format": "time_series",
              "fullMetaSearch": false,
              "hide": false,
              "includeNullMetadata": true,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "{{node}} - {{device}}",
              "range": true,
              "refId": "B",
              "step": 240,
              "useBackend": false
            }
          ],
          "title": "Read IO",
          "type": "timeseries"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "$datasource"
          },
          "description": "",
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              },
              "custom": {
                "axisBorderShow": false,
                "axisCenteredZero": false,
                "axisColorMode": "text",
                "axisLabel": "",
                "axisPlacement": "auto",
                "barAlignment": 0,
                "barWidthFactor": 0.6,
                "drawStyle": "line",
                "fillOpacity": 40,
                "gradientMode": "opacity",
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "viz": false
                },
                "insertNulls": false,
                "lineInterpolation": "linear",
                "lineWidth": 1,
                "pointSize": 5,
                "scaleDistribution": {
                  "type": "linear"
                },
                "showPoints": "always",
                "spanNulls": false,
                "stacking": {
                  "group": "A",
                  "mode": "none"
                },
                "thresholdsStyle": {
                  "mode": "off"
                }
              },
              "decimals": 0,
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green",
                    "value": null
                  }
                ]
              },
              "unit": "iops"
            },
            "overrides": []
          },
          "gridPos": {
            "h": 8,
            "w": 12,
            "x": 12,
            "y": 122
          },
          "id": 769,
          "interval": "1m",
          "options": {
            "legend": {
              "calcs": [
                "mean",
                "max",
                "min"
              ],
              "displayMode": "table",
              "placement": "right",
              "showLegend": true,
              "sortBy": "Mean",
              "sortDesc": true
            },
            "tooltip": {
              "hideZeros": false,
              "maxHeight": 600,
              "mode": "multi",
              "sort": "none"
            }
          },
          "pluginVersion": "11.5.2",
          "targets": [
            {
              "datasource": {
                "uid": "$datasource"
              },
              "disableTextWrap": false,
              "editorMode": "builder",
              "expr": "rate(node_disk_writes_completed_total{node=~\"pnrmdbs801|pnrmdbs802\", device=~\"dm-7\"}[1m])",
              "format": "time_series",
              "fullMetaSearch": false,
              "hide": false,
              "includeNullMetadata": true,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "{{node}} - {{device}}",
              "range": true,
              "refId": "B",
              "step": 240,
              "useBackend": false
            }
          ],
          "title": "Write IO",
          "type": "timeseries"
        }
      ],
      "title": "DB IO",
      "type": "row"
    }
  ],
  "preload": false,
  "refresh": "",
  "schemaVersion": 40,
  "tags": [],
  "templating": {
    "list": [
      {
        "current": {
          "text": "Platform Monitoring Prometheus",
          "value": "PC3E95692D54ABCC0"
        },
        "includeAll": false,
        "label": "Cloud",
        "name": "datasource",
        "options": [],
        "query": "prometheus",
        "refresh": 1,
        "regex": "^(?!.*k8s).*$",
        "type": "datasource"
      },
      {
        "current": {
          "text": ".*.*",
          "value": ".*.*"
        },
        "name": "query_include_regex",
        "options": [
          {
            "selected": true,
            "text": ".*.*",
            "value": ".*.*"
          }
        ],
        "query": ".*.*",
        "type": "textbox"
      },
      {
        "current": {
          "text": ".*.*",
          "value": ".*.*"
        },
        "name": "user_include_regex",
        "options": [
          {
            "selected": true,
            "text": ".*.*",
            "value": ".*.*"
          }
        ],
        "query": ".*.*",
        "type": "textbox"
      },
      {
        "current": {
          "text": ".*XYZ.*",
          "value": ".*XYZ.*"
        },
        "name": "query_exclude_regex",
        "options": [
          {
            "selected": true,
            "text": ".*XYZ.*",
            "value": ".*XYZ.*"
          }
        ],
        "query": ".*XYZ.*",
        "type": "textbox"
      },
      {
        "current": {
          "text": ".*XYZ.*",
          "value": ".*XYZ.*"
        },
        "name": "user_exclude_regex",
        "options": [
          {
            "selected": true,
            "text": ".*XYZ.*",
            "value": ".*XYZ.*"
          }
        ],
        "query": ".*XYZ.*",
        "type": "textbox"
      }
    ]
  },
  "time": {
    "from": "now-1h",
    "to": "now"
  },
  "timepicker": {
    "refresh_intervals": [
      "1m",
      "5m"
    ]
  },
  "timezone": "browser",
  "title": "PostgreSQL Performance Troubleshooting",
  "uid": "af0cux4wi7jeof",
  "version": 36,
  "weekStart": ""
}